{"mappings":"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","sources":["<anon>","obliczenia.ts"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar $geIQo = parcelRequire(\"geIQo\");\n\nvar $aokan = parcelRequire(\"aokan\");\n\nvar $3i35a = parcelRequire(\"3i35a\");\nconst $dbab229cceea036d$var$sondazePolDemo = {};\nObject.entries((0, $geIQo.sondaze)).forEach(([pracownia, wynik])=>{\n    $dbab229cceea036d$var$sondazePolDemo[pracownia] = (0, $3i35a.NaPolDemo)(wynik);\n});\n(0, $aokan.rysujWynikWyborow)({\n    średnia: (0, $3i35a.NaPolDemo)((0, $geIQo.srednia)),\n    ...$dbab229cceea036d$var$sondazePolDemo\n}, \"sondaze\", {\n    laczOpozycje: false\n});\nconst $dbab229cceea036d$var$wynikiWgSondazy = {};\n$dbab229cceea036d$var$wynikiWgSondazy[\"średnia\"] = (0, $3i35a.NaPolDemo)((0, $3i35a.PodzialMandatowKraj)((0, $geIQo.sredniaSondazy)));\nObject.entries((0, $geIQo.sondaze)).forEach(([sondaz, wynik])=>$dbab229cceea036d$var$wynikiWgSondazy[sondaz] = (0, $3i35a.NaPolDemo)((0, $3i35a.PodzialMandatowKraj)(wynik)));\n(0, $aokan.rysujWynikWyborow)($dbab229cceea036d$var$wynikiWgSondazy, \"mandatyKraj\", {\n    poziomo: true,\n    laczOpozycje: false,\n    calySejm: true\n});\nconst $dbab229cceea036d$var$podzialWOkregach = {};\nconst $dbab229cceea036d$var$podzialWOkregachDemo = {};\nconst $dbab229cceea036d$var$symulacje = document.createElement(\"p\");\n$dbab229cceea036d$var$symulacje.setAttribute(\"class\", \"symulacje\");\nconst $dbab229cceea036d$var$partieString = \"<th>PiS</th><th>KO</th><th>Lewica</th><th>Trzecia Droga</th><th>Konfederacja</th>\";\nlet $dbab229cceea036d$var$tabelka = \"<table>\";\n$dbab229cceea036d$var$tabelka += `<tr><th colspan=\"3\">Okręg wyborczy</th><th colspan=\"7\">Prognoza ilości głosów (na komitety powyżej progu)</th><th colspan=\"5\">Progonoza podziału mandatów</th><th colspan=\"5\">Głosy powyżej ceny mandatu</th><th colspan=\"5\">Głosy brakujące do następnego mandatu</th></tr>`;\n$dbab229cceea036d$var$tabelka += `<tr><th>nr</th><th>Nazwa</th><th>Mandaty</th><th>Suma</th>${$dbab229cceea036d$var$partieString}<th>Cena mandatu</th>${$dbab229cceea036d$var$partieString}${$dbab229cceea036d$var$partieString}${$dbab229cceea036d$var$partieString}`;\n$dbab229cceea036d$var$tabelka += \"</tr>\";\n(0, $geIQo.okregi).forEach((okreg)=>{\n    const wynikWOkregu = (0, $3i35a.PoparcieWOkregu)((0, $geIQo.sredniaSondazy), okreg);\n    const podzialMandatow = (0, $3i35a.PodzialMandatowWOkregu)(wynikWOkregu, okreg);\n    $dbab229cceea036d$var$podzialWOkregach[okreg.miasto] = (0, $3i35a.NaPolDemo)(podzialMandatow);\n    $dbab229cceea036d$var$podzialWOkregachDemo[okreg.miasto] = (0, $3i35a.NaDemo)(podzialMandatow);\n    // Tabelka\n    const glosy = (0, $geIQo.glosy2019)[okreg.nr - 1].reduce((accumulator, currentValue)=>{\n        return accumulator + currentValue;\n    }, 0);\n    const glosyFn = (procent)=>Math.round(glosy * procent / 100);\n    // Mamy błędy zaokrąglenia do około 3-4 głosów, dlatego odejmujemy 4 i robimy z tego niezerową liczbę.\n    const resztaFn = (procent)=>Math.max(0, Math.round(glosy * procent / 100 % podzialMandatow.cenaMandatu) - 4);\n    const brakujacaFn = (procent)=>podzialMandatow.cenaMandatu - resztaFn(procent);\n    $dbab229cceea036d$var$tabelka += `<tr><td>${okreg.nr}</td><td>${okreg.miasto}</td><td>${okreg.mandaty}</td><td>${glosy}</td>`;\n    $dbab229cceea036d$var$tabelka += `<td>${glosyFn(wynikWOkregu.PIS)}</td>\n  <td>${glosyFn(wynikWOkregu.KO)}</td><td>${glosyFn(wynikWOkregu.LEWICA)}</td>\n  <td>${glosyFn(wynikWOkregu.TD)}</td><td>${glosyFn(wynikWOkregu.KONF)}</td>`;\n    $dbab229cceea036d$var$tabelka += `<td>${podzialMandatow.cenaMandatu}</td>`;\n    $dbab229cceea036d$var$tabelka += `<td>${podzialMandatow.PIS || 0}</td>\n  <td>${podzialMandatow.KO || 0}</td><td>${podzialMandatow.LEWICA || 0}</td>\n  <td>${podzialMandatow.TD || 0}</td><td>${podzialMandatow.KONF || 0}</td>`;\n    $dbab229cceea036d$var$tabelka += `<td>${resztaFn(wynikWOkregu.PIS)}</td>\n  <td>${resztaFn(wynikWOkregu.KO)}</td><td>${resztaFn(wynikWOkregu.LEWICA)}</td>\n  <td>${resztaFn(wynikWOkregu.TD)}</td><td>${resztaFn(wynikWOkregu.KONF)}</td>`;\n    $dbab229cceea036d$var$tabelka += `<td>${brakujacaFn(wynikWOkregu.PIS)}</td>\n    <td>${brakujacaFn(wynikWOkregu.KO)}</td><td>${brakujacaFn(wynikWOkregu.LEWICA)}</td>\n    <td>${brakujacaFn(wynikWOkregu.TD)}</td><td>${brakujacaFn(wynikWOkregu.KONF)}</td>`;\n    $dbab229cceea036d$var$tabelka += `</tr>`;\n});\nsetTimeout(function() {\n    (0, $aokan.rysujWynikWyborow)($dbab229cceea036d$var$podzialWOkregach, \"mandatyWOkregach\", {\n        poziomo: true,\n        laczOpozycje: false\n    });\n    (0, $aokan.rysujWynikWyborow)($dbab229cceea036d$var$podzialWOkregachDemo, \"mandatyWOkregachDemo\", {\n        poziomo: true,\n        laczOpozycje: true\n    });\n}, 200);\n$dbab229cceea036d$var$symulacje.innerHTML = $dbab229cceea036d$var$tabelka + \"</table>\";\ndocument.getElementById(\"tabela\").appendChild($dbab229cceea036d$var$symulacje);\n\n\n//# sourceMappingURL=obliczenia.94051f47.js.map\n","import {\n  glosy2019,\n  okregi,\n  sondaze,\n  srednia,\n  sredniaSondazy,\n} from \"./dane\";\nimport {\n  Wynik,\n  Sondaze,\n  ILE_SYMULACJI,\n} from \"./typy\";\nimport {\n  rysujWynikWyborow,\n} from \"./wykresy\";\nimport {\n  NaDemo,\n  NaPolDemo,\n  PodzialMandatowKraj,\n  PodzialMandatowWOkregu,\n  PoparcieWOkregu,\n} from \"./ordynacja\";\n\nconst sondazePolDemo = {};\nObject.entries(sondaze).forEach(([pracownia, wynik]) => {\n  sondazePolDemo[pracownia] = NaPolDemo(wynik as Wynik);\n});\nrysujWynikWyborow( { średnia: NaPolDemo(srednia), ...sondazePolDemo }, \"sondaze\", { laczOpozycje: false });\n\nconst wynikiWgSondazy: Sondaze = {};\nwynikiWgSondazy[\"średnia\"] = NaPolDemo(PodzialMandatowKraj(sredniaSondazy));\nObject.entries(sondaze).forEach(\n  ([sondaz, wynik]) =>\n    (wynikiWgSondazy[sondaz] = NaPolDemo(PodzialMandatowKraj(wynik as Wynik)))\n);\n\n\nrysujWynikWyborow(wynikiWgSondazy, \"mandatyKraj\", {\npoziomo: true,\nlaczOpozycje: false, \ncalySejm: true,\n});\n\nconst podzialWOkregach: Sondaze = {};\nconst podzialWOkregachDemo: Sondaze = {};\nconst symulacje = document.createElement(\"p\");\nsymulacje.setAttribute(\"class\", \"symulacje\");\nconst partieString =\n  \"<th>PiS</th><th>KO</th><th>Lewica</th><th>Trzecia Droga</th><th>Konfederacja</th>\";\nlet tabelka = \"<table>\";\ntabelka += `<tr><th colspan=\"3\">Okręg wyborczy</th><th colspan=\"7\">Prognoza ilości głosów (na komitety powyżej progu)</th><th colspan=\"5\">Progonoza podziału mandatów</th><th colspan=\"5\">Głosy powyżej ceny mandatu</th><th colspan=\"5\">Głosy brakujące do następnego mandatu</th></tr>`;\ntabelka += `<tr><th>nr</th><th>Nazwa</th><th>Mandaty</th><th>Suma</th>${partieString}<th>Cena mandatu</th>${partieString}${partieString}${partieString}`;\n\n  tabelka +='</tr>';\nokregi.forEach((okreg) => {\n  const wynikWOkregu = PoparcieWOkregu(sredniaSondazy, okreg);\n  const podzialMandatow = PodzialMandatowWOkregu(\n      wynikWOkregu,\n      okreg\n  );\n  podzialWOkregach[okreg.miasto] = NaPolDemo(podzialMandatow);\n  podzialWOkregachDemo[okreg.miasto] = NaDemo(podzialMandatow);\n\n  // Tabelka\n  const glosy = glosy2019[okreg.nr - 1].reduce((accumulator: number, currentValue: number): number => {\n    return accumulator + currentValue;\n  }, 0);\n  const glosyFn = (procent) => Math.round(glosy * procent / 100);\n  // Mamy błędy zaokrąglenia do około 3-4 głosów, dlatego odejmujemy 4 i robimy z tego niezerową liczbę.\n  const resztaFn = (procent) =>\n    Math.max(0, Math.round(((glosy * procent) / 100) % podzialMandatow.cenaMandatu) - 4);\n  const brakujacaFn = (procent) => podzialMandatow.cenaMandatu - resztaFn(procent);\n  tabelka += `<tr><td>${okreg.nr}</td><td>${okreg.miasto}</td><td>${okreg.mandaty}</td><td>${glosy}</td>`;\n  tabelka += `<td>${glosyFn(wynikWOkregu.PIS)}</td>\n  <td>${\n    glosyFn(wynikWOkregu.KO)\n  }</td><td>${glosyFn(wynikWOkregu.LEWICA)}</td>\n  <td>${\n    glosyFn(wynikWOkregu.TD)}</td><td>${glosyFn(wynikWOkregu.KONF)}</td>`;\n\n  tabelka += `<td>${podzialMandatow.cenaMandatu}</td>`;  \n  \n  tabelka += `<td>${podzialMandatow.PIS || 0}</td>\n  <td>${podzialMandatow.KO || 0}</td><td>${podzialMandatow.LEWICA || 0}</td>\n  <td>${podzialMandatow.TD || 0}</td><td>${podzialMandatow.KONF || 0}</td>`;\n\n  tabelka += `<td>${resztaFn(wynikWOkregu.PIS)}</td>\n  <td>${resztaFn(wynikWOkregu.KO)}</td><td>${resztaFn(wynikWOkregu.LEWICA)}</td>\n  <td>${resztaFn(wynikWOkregu.TD)}</td><td>${resztaFn(wynikWOkregu.KONF)}</td>`;\n\n  tabelka += `<td>${brakujacaFn(wynikWOkregu.PIS)}</td>\n    <td>${brakujacaFn(wynikWOkregu.KO)}</td><td>${brakujacaFn(\n    wynikWOkregu.LEWICA\n  )}</td>\n    <td>${brakujacaFn(wynikWOkregu.TD)}</td><td>${brakujacaFn(\n    wynikWOkregu.KONF\n  )}</td>`;\n\n  tabelka += `</tr>`;\n});\n\nsetTimeout(function () {\nrysujWynikWyborow(podzialWOkregach, \"mandatyWOkregach\", {\n    poziomo: true,\n    laczOpozycje: false,\n});\nrysujWynikWyborow(podzialWOkregachDemo, \"mandatyWOkregachDemo\", {\n    poziomo: true,\n    laczOpozycje: true,\n});\n}, 200);\n\n\n\nsymulacje.innerHTML = tabelka + \"</table>\";\ndocument.getElementById(\"tabela\").appendChild(symulacje);"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$geIQo","$aokan","$3i35a","$dbab229cceea036d$var$sondazePolDemo","Object","entries","sondaze","forEach","pracownia","wynik","NaPolDemo","rysujWynikWyborow","średnia","srednia","laczOpozycje","$dbab229cceea036d$var$wynikiWgSondazy","PodzialMandatowKraj","sredniaSondazy","sondaz","poziomo","calySejm","$dbab229cceea036d$var$podzialWOkregach","$dbab229cceea036d$var$podzialWOkregachDemo","$dbab229cceea036d$var$symulacje","document","createElement","setAttribute","$dbab229cceea036d$var$partieString","$dbab229cceea036d$var$tabelka","okregi","okreg","wynikWOkregu","PoparcieWOkregu","podzialMandatow","PodzialMandatowWOkregu","miasto","NaDemo","glosy","glosy2019","nr","reduce","accumulator","currentValue","glosyFn","procent","Math","round","resztaFn","max","cenaMandatu","brakujacaFn","mandaty","PIS","KO","LEWICA","TD","KONF","setTimeout","innerHTML","getElementById","appendChild"],"version":3,"file":"obliczenia.94051f47.js.map"}