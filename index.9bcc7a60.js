let t,e;function i(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},r=n.parcelRequire94c2;null==r&&((r=function(t){if(t in a)return a[t].exports;if(t in s){var e=s[t];delete s[t];var i={id:t,exports:{}};return a[t]=i,e.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){s[t]=e},n.parcelRequire94c2=r),r.register("1NWL6",function(t,e){!// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010
// http://baagoe.com/en/RandomMusings/javascript/
// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror
// Original work is under MIT license -
// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
function(t,e,i){function n(t){var e,i=this,n=(e=4022871197,function(t){t=String(t);for(var i=0;i<t.length;i++){var n=.02519603282416938*(e+=t.charCodeAt(i));e=n>>>0,n-=e,n*=e,e=n>>>0,n-=e,e+=4294967296*n}return(e>>>0)*23283064365386963e-26;// 2^-32
});i.next=function(){var t=2091639*i.s0+23283064365386963e-26*i.c;// 2^-32
return i.s0=i.s1,i.s1=i.s2,i.s2=t-(i.c=0|t)},// Apply the seeding algorithm from Baagoe.
i.c=1,i.s0=n(" "),i.s1=n(" "),i.s2=n(" "),i.s0-=n(t),i.s0<0&&(i.s0+=1),i.s1-=n(t),i.s1<0&&(i.s1+=1),i.s2-=n(t),i.s2<0&&(i.s2+=1)}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function s(t,e){var i=new n(t),s=e&&e.state,r=i.next;return r.int32=function(){return 4294967296*i.next()|0},r.double=function(){return r()+(2097152*r()|0)*11102230246251565e-32;// 2^-53
},r.quick=r,s&&("object"==typeof s&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.alea=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("8FlDu",function(t,e){!// A Javascript implementaion of the "xor128" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper
function(t,e,i){function n(t){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,// Set up generator function.
e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:i+=t;// Mix in string seed, then discard an initial batch of 64 values.
for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function s(t,e){var i=new n(t),s=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do var t=i.next()>>>11,e=(i.next()>>>0)/4294967296,n=(t+e)/2097152;while(0===n)return n},r.int32=i.next,r.quick=r,s&&("object"==typeof s&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.xor128=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("1rFi6",function(t,e){!// A Javascript implementaion of the "xorwow" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper
function(t,e,i){function n(t){var e=this,i="";// Set up generator function.
e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:i+=t;// Mix in string seed, then discard an initial batch of 64 values.
for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function s(t,e){var i=new n(t),s=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do var t=i.next()>>>11,e=(i.next()>>>0)/4294967296,n=(t+e)/2097152;while(0===n)return n},r.int32=i.next,r.quick=r,s&&("object"==typeof s&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.xorwow=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("iDdZD",function(t,e){!// A Javascript implementaion of the "xorshift7" algorithm by
// François Panneton and Pierre L'ecuyer:
// "On the Xorgshift Random Number Generators"
// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf
function(t,e,i){function n(t){var e=this;// Set up generator function.
e.next=function(){// Update xor generator.
var t,i,n=e.x,a=e.i;return t=n[a],t^=t>>>7,i=t^t<<24^((t=n[a+1&7])^t>>>10)^((t=n[a+3&7])^t>>>3)^((t=n[a+4&7])^t<<7),t=n[a+7&7],t^=t<<13,i^=t^t<<9,n[a]=i,e.i=a+1&7,i},function(t,e){var i,n=[];if(e===(0|e))n[0]=e;else for(i=0,// Seed state using a string.
e=""+e;i<e.length;++i)n[7&i]=n[7&i]<<15^e.charCodeAt(i)+n[i+1&7]<<13;// Enforce an array length of 8, not all zeroes.
for(;n.length<8;)n.push(0);for(i=0;i<8&&0===n[i];++i);// Discard an initial 256 values.
for(8==i?n[7]=-1:n[i],t.x=n,t.i=0,i=256;i>0;--i)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function s(t,e){null==t&&(t=+new Date);var i=new n(t),s=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do var t=i.next()>>>11,e=(i.next()>>>0)/4294967296,n=(t+e)/2097152;while(0===n)return n},r.int32=i.next,r.quick=r,s&&(s.x&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.xorshift7=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("bDA0X",function(t,e){!// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.
//
// This fast non-cryptographic random number generator is designed for
// use in Monte-Carlo algorithms. It combines a long-period xorshift
// generator with a Weyl generator, and it passes all common batteries
// of stasticial tests for randomness while consuming only a few nanoseconds
// for each prng generated.  For background on the generator, see Brent's
// paper: "Some long-period random number generators using shifts and xors."
// http://arxiv.org/pdf/1004.3115v1.pdf
//
// Usage:
//
// var xor4096 = require('xor4096');
// random = xor4096(1);                        // Seed with int32 or string.
// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.
// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.
//
// For nonzero numeric keys, this impelementation provides a sequence
// identical to that by Brent's xorgens 3 implementaion in C.  This
// implementation also provides for initalizing the generator with
// string seeds, or for saving and restoring the state of the generator.
//
// On Chrome, this prng benchmarks about 2.1 times slower than
// Javascript's built-in Math.random().
function(t,e,i){function n(t){var e=this;// Set up generator function.
e.next=function(){var t,i,n=e.w,a=e.X,s=e.i;// Result is the combination.
return(// Update Weyl generator.
e.w=n=n+1640531527|0,// Update xor generator.
i=a[s+34&127],t=a[s=s+1&127],i^=i<<13,t^=t<<17,i^=i>>>15,t^=t>>>12,// Update Xor generator array state.
i=a[s]=i^t,e.i=s,i+(n^n>>>16)|0)},function(t,e){var i,n,a,s,r,o=[],l=128;// Initialize circular array and weyl value.
for(e===(0|e)?(// Numeric seeds initialize v, which is used to generates X.
n=e,e=null):(// String seeds are mixed into v and X one character at a time.
e+="\x00",n=0,l=Math.max(l,e.length)),a=0,s=-32;s<l;++s)e&&(n^=e.charCodeAt((s+32)%e.length)),0===s&&(r=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,s>=0&&(r=r+1640531527|0,a=0==(i=o[127&s]^=n+r)?a+1:0);for(a>=128&&(o[127&(e&&e.length||0)]=-1),// Run the generator 512 times to further mix the state before using it.
// Factoring this as a function slows the main generator, so it is just
// unrolled here.  The weyl generator is not advanced while warming up.
a=127,s=512;s>0;--s)n=o[a+34&127],i=o[a=a+1&127],n^=n<<13,i^=i<<17,n^=n>>>15,i^=i>>>12,o[a]=n^i;// Storing state as object members is faster than using closure variables.
t.w=r,t.X=o,t.i=a}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function s(t,e){null==t&&(t=+new Date);var i=new n(t),s=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do var t=i.next()>>>11,e=(i.next()>>>0)/4294967296,n=(t+e)/2097152;while(0===n)return n},r.int32=i.next,r.quick=r,s&&(s.X&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.xor4096=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("oBon1",function(t,e){!// A Javascript implementaion of the "Tyche-i" prng algorithm by
// Samuel Neves and Filipe Araujo.
// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf
function(t,e,i){function n(t){var e=this,i="";// Set up generator function.
e.next=function(){var t=e.b,i=e.c,n=e.d,a=e.a;return t=t<<25^t>>>7^i,i=i-n|0,n=n<<24^n>>>8^a,a=a-t|0,e.b=t=t<<20^t>>>12^i,e.c=i=i-n|0,e.d=n<<16^i>>>16^a,e.a=a-t|0},/* The following is non-inverted tyche, which has better internal
   * bit diffusion, but which is about 25% slower than tyche-i in JS.
  me.next = function() {
    var a = me.a, b = me.b, c = me.c, d = me.d;
    a = (me.a + me.b | 0) >>> 0;
    d = me.d ^ a; d = d << 16 ^ d >>> 16;
    c = me.c + d | 0;
    b = me.b ^ c; b = b << 12 ^ d >>> 20;
    me.a = a = a + b | 0;
    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;
    me.c = c = c + d | 0;
    b = b ^ c;
    return me.b = (b << 7 ^ b >>> 25);
  }
  */e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(// Integer seed.
e.a=t/4294967296|0,e.b=0|t):i+=t;// Mix in string seed, then discard an initial batch of 64 values.
for(var n=0;n<i.length+20;n++)e.b^=0|i.charCodeAt(n),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function s(t,e){var i=new n(t),s=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do var t=i.next()>>>11,e=(i.next()>>>0)/4294967296,n=(t+e)/2097152;while(0===n)return n},r.int32=i.next,r.quick=r,s&&("object"==typeof s&&a(s,i),r.state=function(){return a(i,{})}),r}e&&e.exports?e.exports=s:i&&i.amd?i(function(){return s}):this.tychei=s}(0,t,"function"==typeof define&&define// present with an AMD loader
)}),r.register("kjyEk",function(t,e){});const o={PIS:"rgb(38, 55, 120)",LEWICA:"rgb(255, 0, 0)",KONF:"rgb(0, 0, 0)",TD:"rgb(220, 195, 16)",KO:"#E56701"},l={IBRiS_20230927:{PIS:35.1,KO:27,TD:10.4,LEWICA:10.1,KONF:9.5},IPSOS_20230925:{PIS:36,KO:29,TD:8,LEWICA:10,KONF:7},UnitedSurveys_20230924:{PIS:33.8,KO:28.1,TD:9,LEWICA:8.7,KONF:8.8},Estymator_20230923:{PIS:37.3,KO:29.8,TD:9.9,LEWICA:8.5,KONF:10.6},Pollster_20230922:{PIS:36.8,KO:30.4,TD:9.8,LEWICA:9.7,KONF:8.7},IBRiS_20230920:{PIS:35.1,KO:26.1,TD:9.2,LEWICA:9.1,KONF:9.9},UnitedSurveys_20230919:{PIS:31.6,KO:27,TD:10.2,LEWICA:9.9,KONF:9.3},ResearchPartner_20230918:{PIS:35.4,KO:26.1,TD:10.1,LEWICA:8,KONF:9.5},UnitedSurveys_20230917:{PIS:32.8,KO:26.3,TD:10.6,LEWICA:10.2,KONF:9.5},IBRiS_20230917:{PIS:32.6,KO:26.6,TD:10.6,LEWICA:9.9,KONF:9.5}},h={PIS:43.59,KO:27.4,LEWICA:12.56,PSL:8.55,KONF:6.81},c=[{miasto:"Legnica",mandaty:12,glosy2019:432436,wynik2019:{KO:25.02,KONF:5.85,PSL:7.17,PIS:42.4,LEWICA:16.43}},{miasto:"Wałbrzych",mandaty:8,glosy2019:283002,wynik2019:{KO:32.09,KONF:5.42,PSL:7.25,PIS:40.54,LEWICA:12.35}},{miasto:"Wrocław",mandaty:14,glosy2019:654455,wynik2019:{KO:32.8,KONF:7.45,PSL:6.46,PIS:34.67,LEWICA:15.41}},{miasto:"Bydgoszcz",mandaty:12,glosy2019:459982,wynik2019:{KO:31.05,KONF:7.05,PSL:9.02,PIS:36.43,LEWICA:15.17}},{miasto:"Toruń",mandaty:13,glosy2019:452330,wynik2019:{KO:26.42,KONF:6.33,PSL:10.88,PIS:40.38,LEWICA:14.83}},{miasto:"Lublin",mandaty:15,glosy2019:565597,wynik2019:{KO:19.3,KONF:7.07,PSL:9.1,PIS:55.39,LEWICA:7.81}},{miasto:"Chełm",mandaty:12,glosy2019:401318,wynik2019:{KO:14.8,KONF:5.84,PSL:11.86,PIS:59.5,LEWICA:6.83}},{miasto:"Zielona G\xf3ra",mandaty:12,glosy2019:437917,wynik2019:{KO:31.27,KONF:7.19,PSL:11.63,PIS:34.3,LEWICA:15.61}},{miasto:"Ł\xf3dź",mandaty:10,glosy2019:415540,wynik2019:{KO:35.82,KONF:6.65,PSL:4.53,PIS:32.9,LEWICA:20.1}},{miasto:"Piotrk\xf3w Trybunalski",mandaty:9,glosy2019:346326,wynik2019:{KO:15.64,KONF:6.76,PSL:10.44,PIS:56.21,LEWICA:10.95}},{miasto:"Sieradz",mandaty:12,glosy2019:460239,wynik2019:{KO:20.48,KONF:5.88,PSL:10.29,PIS:49.81,LEWICA:11.98}},{miasto:"Chrzan\xf3w",mandaty:8,glosy2019:316214,wynik2019:{KO:23.04,KONF:7.06,PSL:7.9,PIS:53.48,LEWICA:8.51}},{miasto:"Krak\xf3w",mandaty:14,glosy2019:649287,wynik2019:{KO:30.48,KONF:7.99,PSL:7.27,PIS:39.56,LEWICA:13.01}},{miasto:"Nowy Sącz",mandaty:10,glosy2019:370199,wynik2019:{KO:13.83,KONF:6.95,PSL:7.35,PIS:65.8,LEWICA:6.07}},{miasto:"Tarn\xf3w",mandaty:9,glosy2019:347088,wynik2019:{KO:14,KONF:7.11,PSL:13.35,PIS:59.59,LEWICA:5.94}},{miasto:"Płock",mandaty:10,glosy2019:370561,wynik2019:{KO:16.85,KONF:5.24,PSL:15.17,PIS:52.45,LEWICA:8.76}},{miasto:"Radom",mandaty:9,glosy2019:335009,wynik2019:{KO:17.15,KONF:5.89,PSL:10.2,PIS:57.82,LEWICA:7.43}},{miasto:"Siedlce",mandaty:12,glosy2019:452906,wynik2019:{KO:13.94,KONF:6.49,PSL:11.94,PIS:59.76,LEWICA:6.45}},{miasto:"Warszawa I",mandaty:20,glosy2019:1381917,wynik2019:{KO:42.05,KONF:7.51,PSL:4.75,PIS:27.49,LEWICA:18.19}},{miasto:"Warszawa II",mandaty:12,glosy2019:598727,wynik2019:{KO:28.61,KONF:6.63,PSL:8.6,PIS:40.89,LEWICA:13.09}},{miasto:"Opole",mandaty:12,glosy2019:406439,wynik2019:{KO:26.71,KONF:5.7,PSL:10.31,PIS:37.64,LEWICA:11.74}},{miasto:"Krosno",mandaty:11,glosy2019:390581,wynik2019:{KO:15.94,KONF:6.81,PSL:7.85,PIS:63.36,LEWICA:6.04}},{miasto:"Rzesz\xf3w",mandaty:15,glosy2019:588786,wynik2019:{KO:14.39,KONF:8.25,PSL:7.79,PIS:62.38,LEWICA:6.59}},{miasto:"Białystok",mandaty:14,glosy2019:520578,wynik2019:{KO:21.04,KONF:6.96,PSL:9.33,PIS:52.04,LEWICA:9.09}},{miasto:"Gdańsk",mandaty:12,glosy2019:528829,wynik2019:{KO:41.31,KONF:7.21,PSL:5.9,PIS:32.1,LEWICA:13.47}},{miasto:"Gdynia",mandaty:14,glosy2019:580722,wynik2019:{KO:35.85,KONF:7.3,PSL:7.94,PIS:36.43,LEWICA:12.47}},{miasto:"Bielsko-Biała",mandaty:9,glosy2019:389256,wynik2019:{KO:27.2,KONF:7.42,PSL:7.13,PIS:46.76,LEWICA:11.48}},{miasto:"Częstochowa",mandaty:7,glosy2019:284517,wynik2019:{KO:22.63,KONF:6.07,PSL:8.68,PIS:44.28,LEWICA:15.59}},{miasto:"Gliwice",mandaty:9,glosy2019:340647,wynik2019:{KO:32.61,KONF:7.67,PSL:5.99,PIS:37.75,LEWICA:13.38}},{miasto:"Rybnik",mandaty:9,glosy2019:333836,wynik2019:{KO:27.71,KONF:7.17,PSL:5.64,PIS:48.28,LEWICA:9.68}},{miasto:"Katowice",mandaty:12,glosy2019:469633,wynik2019:{KO:37.2,KONF:7.33,PSL:4.37,PIS:39.19,LEWICA:11.92}},{miasto:"Sosnowiec",mandaty:9,glosy2019:335431,wynik2019:{KO:29.66,KONF:6.45,PSL:4.85,PIS:37.13,LEWICA:21.9}},{miasto:"Kielce",mandaty:16,glosy2019:569891,wynik2019:{KO:16.65,KONF:5.95,PSL:9.88,PIS:55.18,LEWICA:9.95}},{miasto:"Elbląg",mandaty:8,glosy2019:250819,wynik2019:{KO:28.43,KONF:5.66,PSL:10.89,PIS:40.86,LEWICA:11.64}},{miasto:"Olsztyn",mandaty:10,glosy2019:331684,wynik2019:{KO:26.46,KONF:6.97,PSL:13.19,PIS:38.82,LEWICA:13.84}},{miasto:"Kalisz",mandaty:12,glosy2019:459152,wynik2019:{KO:24.72,KONF:6.57,PSL:12.8,PIS:42.48,LEWICA:13.43}},{miasto:"Konin",mandaty:9,glosy2019:353041,wynik2019:{KO:20.48,KONF:6.74,PSL:9.81,PIS:47.29,LEWICA:15.04}},{miasto:"Piła",mandaty:9,glosy2019:349051,wynik2019:{KO:30.6,KONF:6.62,PSL:13.86,PIS:35.64,LEWICA:13.28}},{miasto:"Poznań",mandaty:10,glosy2019:514527,wynik2019:{KO:45.38,KONF:6.61,PSL:6.2,PIS:25.33,LEWICA:16.49}},{miasto:"Koszalin",mandaty:8,glosy2019:271711,wynik2019:{KO:32.31,KONF:5.98,PSL:9.43,PIS:36.83,LEWICA:15.44}},{miasto:"Szczecin",mandaty:12,glosy2019:470529,wynik2019:{KO:35.71,KONF:6.53,PSL:7.4,PIS:35.11,LEWICA:15.25}}];var d={},u=r("1NWL6"),f=r("8FlDu"),g=r("1rFi6"),p=r("iDdZD"),m=r("bDA0X"),b=r("oBon1"),y={};function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n.key),n)}}function _(t,e,i){return e&&x(t.prototype,e),i&&x(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,w(t,e)}function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}!/*
Copyright 2019 David Bau.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/function(t,e,i){//
// The following constants are related to IEEE 754 limits.
//
var n,a="random",s=i.pow(256,6),o=i.pow(2,52),l=2*o;// node.js crypto module, initialized at the bottom.
//
// seedrandom()
// This is the seedrandom function described above.
//
function h(r,h,g){var p=[],m=u(//
// flatten()
// Converts an object tree to nested arrays of strings.
//
function t(e,i){var n,a=[],s=typeof e;if(i&&"object"==s)for(n in e)try{a.push(t(e[n],i-1))}catch(t){}return a.length?a:"string"==s?e:e+"\x00"}((h=!0==h?{entropy:!0}:h||{}).entropy?[r,f(e)]:null==r?//
// autoseed()
// Returns an object for autoseeding, using window.crypto and Node crypto
// module if available.
//
function(){try{var i;return n&&(i=n.randomBytes)?i=i(256):(i=new Uint8Array(256),(t.crypto||t.msCrypto).getRandomValues(i)),f(i)}catch(i){var a=t.navigator,s=a&&a.plugins;return[+new Date,t,s,t.screen,f(e)]}}():r,3),p),b=new c(p),y=function(){for(var t=b.g(6),e=s,i=0;t<o;)t=(t+i)*256,e*=256,i=b.g(1);for(;t>=l;)t/=2,e/=2,i>>>=1;return(t+i)/e;// Form the number within [0, 1).
};// Calling convention: what to return as a function of prng, seed, is_math.
return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,// Mix the randomness into accumulated entropy.
u(f(b.S),e),(h.pass||g||function(t,e,n,s){return(// If called as a method of Math (Math.seedrandom()), mutate
// Math.random because that is how seedrandom.js has worked since v1.0.
(s&&(s.S&&d(s,b),// Only provide the .state method if requested via options.state.
t.state=function(){return d(b,{})}),n)?(i[a]=t,e):t)})(y,m,"global"in h?h.global:this==i,h.state)}//
// ARC4
//
// An ARC4 implementation.  The constructor takes a key in the form of
// an array of at most (width) integers that should be 0 <= x < (width).
//
// The g(count) method returns a pseudorandom integer that concatenates
// the next (count) outputs from ARC4.  Its return value is a number x
// that is in the range 0 <= x < (width ^ count).
//
function c(t){var e,i=t.length,n=this,a=0,s=n.i=n.j=0,r=n.S=[];// Set up S using the standard key scheduling algorithm.
for(i||(t=[i++]);a<256;)r[a]=a++;for(a=0;a<256;a++)r[a]=r[s=255&s+t[a%i]+(e=r[a])],r[s]=e;// The "g" method returns the next (count) outputs as one number.
(n.g=function(t){for(// Using instance members instead of closure state nearly doubles speed.
var e,i=0,a=n.i,s=n.j,r=n.S;t--;)e=r[a=255&a+1],i=256*i+r[255&(r[a]=r[s=255&s+e])+(r[s]=e)];return n.i=a,n.j=s,i;// For robust unpredictability, the function call below automatically
// discards an initial batch of values.  This is called RC4-drop[256].
// See http://google.com/search?q=rsa+fluhrer+response&btnI
})(256)}//
// copy()
// Copies internal state of ARC4 to or from a plain object.
//
function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}//
// mixkey()
// Mixes a string seed into a key that is an array of integers, and
// returns a shortened string seed that is equivalent to the result key.
//
function u(t,e){for(var i,n=t+"",a=0;a<n.length;)e[255&a]=255&(i^=19*e[255&a])+n.charCodeAt(a++);return f(e)}//
// tostring()
// Converts an array of charcodes to a string
//
function f(t){return String.fromCharCode.apply(0,t)}//
// Nodejs and AMD support: export the implementation as a module using
// either convention.
//
if(//
// When seedrandom.js is loaded, we immediately mix a few bits
// from the built-in RNG into the entropy pool.  Because we do
// not want to interfere with deterministic PRNG state later,
// seedrandom will not call math.random on its own again after
// initialization.
//
u(i.random(),e),y){y=h;// When in node.js, try using crypto package for autoseeding.
try{n=r("kjyEk")}catch(t){}}else"function"==typeof define&&define.amd?define(function(){return h}):i["seed"+a]=h;// End anonymous scope, and pass initial values.
}(// otherwise `this` in Node and other environments
"undefined"!=typeof self?self:y,[],Math// math: package containing random, pow, and seedrandom
),y.alea=u,y.xor128=f,y.xorwow=g,y.xorshift7=p,y.xor4096=m,y.tychei=b,d=y;var k=/*#__PURE__*/function(){function t(){}return(// eslint-disable-next-line @typescript-eslint/no-unused-vars
t.prototype._seed=function(t,e){// TODO: add entropy and stuff
if(t===(t||0))return t;for(var i=""+t,n=0,a=0;a<i.length;++a)n^=0|i.charCodeAt(a);return n},t)}(),M=/*#__PURE__*/function(t){function e(e,i){var n;return(n=t.call(this)||this)._rng=void 0,n.seed(e,i),n}v(e,t);var i=e.prototype;return i.next=function(){return this._rng()},i.seed=function(t,e){this._rng=t},i.clone=function(t,i){return new e(this._rng,i)},_(e,[{key:"name",get:function(){return"function"}}]),e}(k),S=function(){var t=[].slice.call(arguments),e=t[0],n=void 0===e?"default":e;switch(typeof n){case"object":if(n instanceof k)return n;break;case"function":return new M(n);default:return new M(/*@__PURE__*/i(d).apply(void 0,t))}throw Error('invalid RNG "'+n+'"')},O=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),function(){return t.next()*(i-e)+e}};function z(t){return new P(t)}var P=function(t){var e=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(e.n))return e;throw Error("Expected number to be an integer, got "+e.n)},this.isPositive=function(){if(e.n>0)return e;throw Error("Expected number to be positive, got "+e.n)},this.lessThan=function(t){if(e.n<t)return e;throw Error("Expected number to be less than "+t+", got "+e.n)},this.greaterThanOrEqual=function(t){if(e.n>=t)return e;throw Error("Expected number to be greater than or equal to "+t+", got "+e.n)},this.greaterThan=function(t){if(e.n>t)return e;throw Error("Expected number to be greater than "+t+", got "+e.n)},this.n=t},D=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===i&&(i=void 0===e?1:e,e=0),z(e).isInt(),z(i).isInt(),function(){return Math.floor(t.next()*(i-e+1)+e)}},L=function(t){return function(){return t.next()>=.5}},C=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=1);var n=t.normal(e,i);return function(){return Math.exp(n())}},A=function(t,e){void 0===e&&(e=.5),z(e).greaterThan(0).lessThan(1);var i=1/Math.log(1-e);return function(){return Math.floor(1+Math.log(t.next())*i)}},E=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],I=function(t,e){if(void 0===e&&(e=1),z(e).isPositive(),e<10){// inversion method
var i=Math.exp(-e);return function(){for(var n=i,a=0,s=t.next();s>n;)s-=n,n=e*n/++a;return a}}// generative method
var n=Math.sqrt(e),a=.931+2.53*n,s=-.059+.02483*a,r=1.1239+1.1328/(a-3.4),o=.9277-3.6224/(a-2);return function(){for(;;){var i=void 0,l=t.next();if(l<=.86*o)return Math.floor((2*s/(.5-Math.abs(i=l/o-.43))+a)*i+e+.445);l>=o?i=t.next()-.5:(i=((i=l/o-.93)<0?-.5:.5)-i,l=t.next()*o);var h=.5-Math.abs(i);if(!(h<.013)||!(l>h)){var c=Math.floor((2*s/h+a)*i+e+.445);if(l=l*r/(s/(h*h)+a),c>=10){if(Math.log(l*n)<=(c+.5)*Math.log(e/c)-e-.9189385332046727+c-(1/12-(1/360-1/(1260*c*c))/(c*c))/c)return c}else if(c>=0){var d,u=null!=(d=E[c])?d:0;if(Math.log(l)<=c*Math.log(e)-e-u)return c}}}}},T=function(t,e){void 0===e&&(e=1),z(e).isInt().isPositive();var i=t.irwinHall(e);return function(){return i()/e}},j=function(t,e){void 0===e&&(e=1),z(e).greaterThanOrEqual(0);var i=1/e;return function(){return 1/Math.pow(1-t.next(),i)}},F=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var i=e.prototype;return i.next=function(){return Math.random()},i.seed=function(t,e){// intentionally empty
},i.clone=function(){return new e},_(e,[{key:"name",get:function(){return"default"}}]),e}(k),R=new/*#__PURE__*/(function(){function t(t){var e=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return e._rng.next()},this.float=function(t,i){return e.uniform(t,i)()},this.int=function(t,i){return e.uniformInt(t,i)()},this.integer=function(t,i){return e.uniformInt(t,i)()},this.bool=function(){return e.uniformBoolean()()},this.boolean=function(){return e.uniformBoolean()()},this.uniform=function(t,i){return e._memoize("uniform",O,t,i)},this.uniformInt=function(t,i){return e._memoize("uniformInt",D,t,i)},this.uniformBoolean=function(){return e._memoize("uniformBoolean",L)},this.normal=function(t,i){var n,a;return void 0===(n=t)&&(n=0),void 0===(a=i)&&(a=1),function(){var t,i,s;do s=(t=2*e.next()-1)*t+(i=2*e.next()-1)*i;while(!s||s>1)return n+a*i*Math.sqrt(-2*Math.log(s)/s)}},this.logNormal=function(t,i){return C(e,t,i)},this.bernoulli=function(t){var i;return void 0===(i=t)&&(i=.5),z(i).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(e.next()+i)}},this.binomial=function(t,i){var n,a;return void 0===(n=t)&&(n=1),void 0===(a=i)&&(a=.5),z(n).isInt().isPositive(),z(a).greaterThanOrEqual(0).lessThan(1),function(){for(var t=0,i=0;t++<n;)e.next()<a&&i++;return i}},this.geometric=function(t){return A(e,t)},this.poisson=function(t){return I(e,t)},this.exponential=function(t){var i;return void 0===(i=t)&&(i=1),z(i).isPositive(),function(){return-Math.log(1-e.next())/i}},this.irwinHall=function(t){var i;return void 0===(i=t)&&(i=1),z(i).isInt().greaterThanOrEqual(0),function(){for(var t=0,n=0;n<i;++n)t+=e.next();return t}},this.bates=function(t){return T(e,t)},this.pareto=function(t){return j(e,t)},t&&t instanceof k?this.use(t):this.use(new F),this._cache={}}/**
   * @member {RNG} Underlying pseudo-random number generator
   */var e=t.prototype;return(/**
   * Creates a new `Random` instance, optionally specifying parameters to
   * set a new seed.
   *
   * @see RNG.clone
   *
   * @param {string} [seed] - Optional seed for new RNG.
   * @param {object} [opts] - Optional config for new RNG options.
   * @return {Random}
   */e.clone=function(){var e=[].slice.call(arguments);return new t(e.length?S.apply(void 0,e):this.rng.clone())}/**
   * Sets the underlying pseudorandom number generator used via
   * either an instance of `seedrandom`, a custom instance of RNG
   * (for PRNG plugins), or a string specifying the PRNG to use
   * along with an optional `seed` and `opts` to initialize the
   * RNG.
   *
   * @example
   * import random from 'random'
   *
   * random.use('example_seedrandom_string')
   * // or
   * random.use(seedrandom('kittens'))
   * // or
   * random.use(Math.random)
   *
   * @param {...*} args
   */,e.use=function(){this._rng=S.apply(void 0,[].slice.call(arguments))}/**
   * Patches `Math.random` with this Random instance's PRNG.
   */,e.patch=function(){if(this._patch)throw Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()}/**
   * Restores a previously patched `Math.random` to its original value.
   */,e.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)}/**
   * Convenience wrapper around `this.rng.next()`
   *
   * Returns a floating point number in [0, 1).
   *
   * @return {number}
   */,/**
   * Returns an item chosen uniformly at trandom from the given array.
   *
   * Convence wrapper around `random.uniformInt()`
   *
   * @param {Array<T>} [array] - Lower bound (integer, inclusive)
   * @return {T | undefined}
   */e.choice=function(t){if(!Array.isArray(t))throw Error("Random.choice expected input to be an array, got "+typeof t);var e=null==t?void 0:t.length;return e>0?t[this.uniformInt(0,e-1)()]:void 0}/**
   * Generates a [Continuous uniform distribution](https://en.wikipedia.org/wiki/Uniform_distribution_(continuous)).
   *
   * @param {number} [min=0] - Lower bound (float, inclusive)
   * @param {number} [max=1] - Upper bound (float, exclusive)
   * @return {function}
   */,// --------------------------------------------------------------------------
// Internal
// --------------------------------------------------------------------------
/**
   * Memoizes distributions to ensure they're only created when necessary.
   *
   * Returns a thunk which that returns independent, identically distributed
   * samples from the specified distribution.
   *
   * @private
   *
   * @param {string} label - Name of distribution
   * @param {function} getter - Function which generates a new distribution
   * @param {...*} args - Distribution-specific arguments
   *
   * @return {function}
   */e._memoize=function(t,e){var i=[].slice.call(arguments,2),n=""+i.join(";"),a=this._cache[t];return(void 0===a||a.key!==n)&&(a={key:n,distribution:e.apply(void 0,[this].concat(i))},this._cache[t]=a),a.distribution},_(t,[{key:"rng",get:function(){return this._rng}}]),t)}());function W(t){let e={};return Object.keys(t).sort().forEach(i=>{e[i]=t[i]}),JSON.stringify(e)}function N(t){return{DEMO:t.KO+(t.LEWICA||0)+(t.TD||0),NIEDEMO:t.PIS+(t.KONF||0)}}let B=0,K=0;function V(t,e){let i={};for(let[n,a]of Object.entries(t)){let a=1;"TD"===n?(a=(e.wynik2019.PSL/h.PSL+e.wynik2019.KO/h.KO)/2,i.TD=t.TD*a,B+=t.TD*e.glosy2019/100,K+=t.TD*a*e.glosy2019/100):(// if (wybory2019[partia as keyof Wynik]) {
a=t[n]/h[n],// }
i[n]=(e.wynik2019[n]||t[n])*a),i[n]}// console.log(okreg.miasto, sumaProcentowWOkregu);
return i}function H(t,e,i){let n=[];for(let[e,i]of Object.entries(t))for(let t=1;t<=10;t++)n.push({partia:e,iloraz:i/t});let a=n.sort((t,e)=>e.iloraz-t.iloraz),s=(a[e.mandaty-1].iloraz-a[e.mandaty].iloraz)*e.glosy2019/100;i?.push(Math.round(s));let r=a.slice(0,e.mandaty).map(t=>t.partia).reduce((t,e)=>(t[e]?t[e]++:t[e]=1,t),{});return r}function $(t,e,i={}){let n=V(t,e),a={},s=[],r={};for(let t=1;t<=1e4;t++){// Losowanie poparcia dla partii
let t={};for(let[e,i]of Object.entries(n)){let n=R.normal(i,2)(),a=Math.round(5*Math.max(Math.min(n,i+6),i-6))/5;t[e]=a,r[e]||(r[e]={});let s=String(a);r[e][s]?r[e][s].czestosc++:r[e][s]={czestosc:1}}// Podział mandatów
let o=H(t,e,s),l=i.laczOpozycje?W(N(o)):W(o);// Zapisanie mandatów w histogramie
for(let[e,i]of(a[l]?a[l]++:a[l]=1,Object.entries(t)))r[e][String(i)].mandaty?r[e][String(i)].mandaty+=o[e]||0:r[e][String(i)].mandaty=o[e]||0}let o={};for(let[t,e]of Object.entries(r))o[t]=function(t){// Convert the object to an array of key-value pairs
let e=Object.entries(t);// Sort the array based on the values (ascending order)
return e.sort((t,e)=>Number.parseFloat(e[0])-Number.parseFloat(t[0])).map(([t,e])=>({procent:t,czestosc:e.czestosc,mandaty:Math.round(e.mandaty/e.czestosc)}))}(r[t]);return{rozklad:function(t){// Convert the object to an array of key-value pairs
let e=Object.entries(t);// Sort the array based on the values (ascending order)
return e.sort((t,e)=>e[1]-t[1]).map(([t,e])=>({key:t,value:e}))}(a),histogram:o,wynikWOkregu:n}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 *//*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 *//*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function U(t){return t+.5|0}const Y=(t,e,i)=>Math.max(Math.min(t,i),e);function q(t){return Y(U(2.55*t),0,255)}function X(t){return Y(U(255*t),0,255)}function G(t){return Y(U(t/2.55)/100,0,1)}function Z(t){return Y(U(100*t),0,100)}const J={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q=[..."0123456789ABCDEF"],tt=t=>Q[15&t],te=t=>Q[(240&t)>>4]+Q[15&t],ti=t=>(240&t)>>4==(15&t),tn=t=>ti(t.r)&&ti(t.g)&&ti(t.b)&&ti(t.a),ta=(t,e)=>t<255?e(t):"",ts=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tr(t,e,i){let n=e*Math.min(i,1-i),a=(e,a=(e+t/30)%12)=>i-n*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function to(t,e,i){let n=(n,a=(n+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function tl(t,e,i){let n;let a=tr(t,1,.5);for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)a[n]*=1-e-i,a[n]+=e;return a}function th(t){let e,i,n;let a=t.r/255,s=t.g/255,r=t.b/255,o=Math.max(a,s,r),l=Math.min(a,s,r),h=(o+l)/2;return o!==l&&(n=o-l,i=h>.5?n/(2-o-l):n/(o+l),e=60*(e=a===o?(s-r)/n+(s<r?6:0):s===o?(r-a)/n+2:(a-s)/n+4)+.5),[0|e,i||0,h]}function tc(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(X)}function td(t){return(t%360+360)%360}const tu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},tg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,tp=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,tm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tb(t,e,i){if(t){let n=th(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=tc(tr,n,void 0,void 0),t.r=n[0],t.g=n[1],t.b=n[2]}}function ty(t,e){return t?Object.assign(e||{},t):t}function tx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=X(t[3]))):(e=ty(t,{r:0,g:0,b:0,a:1})).a=X(e.a),e}class t_{constructor(e){let i;if(e instanceof t_)return e;let n=typeof e;if("object"===n)i=tx(e);else if("string"===n){var a,s;s=e.length,"#"===e[0]&&(4===s||5===s?a={r:255&17*J[e[1]],g:255&17*J[e[2]],b:255&17*J[e[3]],a:5===s?17*J[e[4]]:255}:(7===s||9===s)&&(a={r:J[e[1]]<<4|J[e[2]],g:J[e[3]]<<4|J[e[4]],b:J[e[5]]<<4|J[e[6]],a:9===s?J[e[7]]<<4|J[e[8]]:255})),i=a||function(e){t||((t=function(){let t,e,i,n,a;let s={},r=Object.keys(tf),o=Object.keys(tu);for(t=0;t<r.length;t++){for(e=0,n=a=r[t];e<o.length;e++)i=o[e],a=a.replace(i,tu[i]);i=parseInt(tf[n],16),s[a]=[i>>16&255,i>>8&255,255&i]}return s}()).transparent=[0,0,0,0]);let i=t[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(e)||("r"===e.charAt(0)?function(t){let e,i,n;let a=tg.exec(t),s=255;if(a){if(a[7]!==e){let t=+a[7];s=a[8]?q(t):Y(255*t,0,255)}return e=+a[1],i=+a[3],n=+a[5],{r:e=255&(a[2]?q(e):Y(e,0,255)),g:i=255&(a[4]?q(i):Y(i,0,255)),b:n=255&(a[6]?q(n):Y(n,0,255)),a:s}}}(e):function(t){let e;let i=ts.exec(t),n=255;if(!i)return;i[5]!==e&&(n=i[6]?q(+i[5]):X(+i[5]));let a=td(+i[2]),s=+i[3]/100,r=+i[4]/100;return{r:(e="hwb"===i[1]?tc(tl,a,s,r):"hsv"===i[1]?tc(to,a,s,r):tc(tr,a,s,r))[0],g:e[1],b:e[2],a:n}}(e))}this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=ty(this._rgb);return t&&(t.a=G(t.a)),t}set rgb(t){this._rgb=tx(t)}rgbString(){var t;return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${G(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0}hexString(){var t,e;return this._valid?(e=tn(t=this._rgb)?tt:te,t?"#"+e(t.r)+e(t.g)+e(t.b)+ta(t.a,e):void 0):void 0}hslString(){return this._valid?function(t){if(!t)return;let e=th(t),i=e[0],n=Z(e[1]),a=Z(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${a}%, ${G(t.a)})`:`hsl(${i}, ${n}%, ${a}%)`}(this._rgb):void 0}mix(t,e){if(t){let i;let n=this.rgb,a=t.rgb,s=e===i?.5:e,r=2*s-1,o=n.a-a.a,l=((r*o==-1?r:(r+o)/(1+r*o))+1)/2;i=1-l,n.r=255&l*n.r+i*a.r+.5,n.g=255&l*n.g+i*a.g+.5,n.b=255&l*n.b+i*a.b+.5,n.a=s*n.a+(1-s)*a.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){let n=tm(G(t.r)),a=tm(G(t.g)),s=tm(G(t.b));return{r:X(tp(n+i*(tm(G(e.r))-n))),g:X(tp(a+i*(tm(G(e.g))-a))),b:X(tp(s+i*(tm(G(e.b))-s))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new t_(this.rgb)}alpha(t){return this._rgb.a=X(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=U(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return tb(this._rgb,2,t),this}darken(t){return tb(this._rgb,2,-t),this}saturate(t){return tb(this._rgb,1,t),this}desaturate(t){return tb(this._rgb,1,-t),this}rotate(t){var e,i;return(i=th(e=this._rgb))[0]=td(i[0]+t),i=tc(tr,i,void 0,void 0),e.r=i[0],e.g=i[1],e.b=i[2],this}}/**
 * @namespace Chart.helpers
 *//**
 * An empty function that can be used, for example, for optional callback.
 */function tv(){/* noop */}/**
 * Returns a unique id, sequentially generated from a global variable.
 */const tw=(e=0,()=>e++);/**
 * Returns true if `value` is neither null nor undefined, else returns false.
 * @param value - The value to test.
 * @since 2.7.0
 */function tk(t){return null==t}/**
 * Returns true if `value` is an array (including typed arrays), else returns false.
 * @param value - The value to test.
 * @function
 */function tM(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}/**
 * Returns true if `value` is an object (excluding null), else returns false.
 * @param value - The value to test.
 * @since 2.7.0
 */function tS(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}/**
 * Returns true if `value` is a finite number, else returns false
 * @param value  - The value to test.
 */function tO(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}/**
 * Returns `value` if finite, else returns `defaultValue`.
 * @param value - The value to return if defined.
 * @param defaultValue - The value to return if `value` is not finite.
 */function tz(t,e){return tO(t)?t:e}/**
 * Returns `value` if defined, else returns `defaultValue`.
 * @param value - The value to return if defined.
 * @param defaultValue - The value to return if `value` is undefined.
 */function tP(t,e){return void 0===t?e:t}const tD=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,tL=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;/**
 * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the
 * value returned by `fn`. If `fn` is not a function, this method returns undefined.
 * @param fn - The function to call.
 * @param args - The arguments with which `fn` should be called.
 * @param [thisArg] - The value of `this` provided for the call to `fn`.
 */function tC(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function tA(t,e,i,n){let a,s,r;if(tM(t)){if(s=t.length,n)for(a=s-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<s;a++)e.call(i,t[a],a)}else if(tS(t))for(a=0,s=(r=Object.keys(t)).length;a<s;a++)e.call(i,t[r[a]],r[a])}/**
 * Returns true if the `a0` and `a1` arrays have the same content, else returns false.
 * @param a0 - The array to compare
 * @param a1 - The array to compare
 * @private
 */function tE(t,e){let i,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(a=t[i],s=e[i],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}/**
 * Returns a deep copy of `source` without keeping references on objects and arrays.
 * @param source - The value to clone.
 */function tI(t){if(tM(t))return t.map(tI);if(tS(t)){let e=Object.create(null),i=Object.keys(t),n=i.length,a=0;for(;a<n;++a)e[i[a]]=tI(t[i[a]]);return e}return t}function tT(t){return -1===["__proto__","prototype","constructor"].indexOf(t)}/**
 * The default merger when Chart.helpers.merge is called without merger option.
 * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.
 * @private
 */function tj(t,e,i,n){if(!tT(t))return;let a=e[t],s=i[t];tS(a)&&tS(s)?tF(a,s,n):e[t]=tI(s)}function tF(t,e,i){let n;let a=tM(e)?e:[e],s=a.length;if(!tS(t))return t;i=i||{};let r=i.merger||tj;for(let e=0;e<s;++e){if(!tS(n=a[e]))continue;let s=Object.keys(n);for(let e=0,a=s.length;e<a;++e)r(s[e],t,n,i)}return t}function tR(t,e){// eslint-disable-next-line @typescript-eslint/no-use-before-define
return tF(t,e,{merger:tW})}/**
 * Merges source[key] in target[key] only if target[key] is undefined.
 * @private
 */function tW(t,e,i){if(!tT(t))return;let n=e[t],a=i[t];tS(n)&&tS(a)?tR(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tI(a))}// resolveObjectKey resolver cache
const tN={// Chart.helpers.core resolveObjectKey should resolve empty key to root object
"":t=>t,// default resolvers
x:t=>t.x,y:t=>t.y};function tB(t,e){let i=tN[e]||(tN[e]=function(t){let e=/**
 * @private
 */function(t){let e=t.split("."),i=[],n="";for(let t of e)(n+=t).endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(t);return t=>{for(let i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}/**
 * @private
 */function tK(t){return t.charAt(0).toUpperCase()+t.slice(1)}const tV=t=>void 0!==t,tH=t=>"function"==typeof t,t$=(t,e)=>{if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0},tU=Math.PI,tY=2*tU,tq=tY+tU,tX=Number.POSITIVE_INFINITY,tG=tU/180,tZ=tU/2,tJ=tU/4,tQ=2*tU/3,t0=Math.log10,t1=Math.sign;function t2(t,e,i){return Math.abs(t-e)<i}/**
 * Implementation of the nice number algorithm used in determining where axis labels will go
 */function t5(t){let e=Math.round(t);t=t2(t,e,t/1e3)?e:t;let i=Math.pow(10,Math.floor(t0(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function t3(t){return!isNaN(parseFloat(t))&&isFinite(t)}/**
 * @private
 */function t6(t,e,i){let n,a,s;for(n=0,a=t.length;n<a;n++)isNaN(s=t[n][i])||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function t9(t){return t*(tU/180)}/**
 * Returns the number of decimal places
 * i.e. the number of digits after the decimal point, of the value of this Number.
 * @param x - A number.
 * @returns The number of decimal places.
 * @private
 */function t4(t){if(!tO(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}// Gets the angle from vertical upright to the point about a centre.
function t8(t,e){let i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),s=Math.atan2(n,i);return s<-.5*tU&&(s+=tY),{angle:s,distance:a}}function t7(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}/**
 * Shortest distance between angles, in either direction.
 * @private
 */function et(t,e){return(t-e+tq)%tY-tU}/**
 * Normalize angle to be between 0 and 2*PI
 * @private
 */function ee(t){return(t%tY+tY)%tY}/**
 * @private
 */function ei(t,e,i,n){let a=ee(t),s=ee(e),r=ee(i),o=ee(s-a),l=ee(r-a),h=ee(a-s),c=ee(a-r);return a===s||a===r||n&&s===r||o>l&&h<c}/**
 * Limit `value` between `min` and `max`
 * @param value
 * @param min
 * @param max
 * @private
 */function en(t,e,i){return Math.max(e,Math.min(i,t))}/**
 * @param value
 * @param start
 * @param end
 * @param [epsilon]
 * @private
 */function ea(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function es(t,e,i){let n;i=i||(i=>t[i]<e);let a=t.length-1,s=0;for(;a-s>1;)i(n=s+a>>1)?s=n:a=n;return{lo:s,hi:a}}/**
 * Binary search
 * @param table - the table search. must be sorted!
 * @param key - property name for the value in each entry
 * @param value - value to find
 * @param last - lookup last index
 * @private
 */const er=(t,e,i,n)=>es(t,i,n?n=>{let a=t[n][e];return a<i||a===i&&t[n+1][e]===i}:n=>t[n][e]<i),eo=(t,e,i)=>es(t,i,n=>t[n][e]>=i),el=["push","pop","shift","splice","unshift"];function eh(t,e){let i=t._chartjs;if(!i)return;let n=i.listeners,a=n.indexOf(e);-1!==a&&n.splice(a,1),n.length>0||(el.forEach(e=>{delete t[e]}),delete t._chartjs)}/**
 * @param items
 */function ec(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}/**
* Request animation polyfill
*/const ed="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;/**
 * Throttles calling `fn` once per animation frame
 * Latest arguments are used on the actual call
 */function eu(t,e){let i=[],n=!1;return function(...a){// Save the args for use later
i=a,n||(n=!0,ed.call(window,()=>{n=!1,t.apply(e,i)}))}}/**
 * Converts 'start' to 'left', 'end' to 'right' and others to 'center'
 * @private
 */const ef=t=>"start"===t?"left":"end"===t?"right":"center",eg=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,ep=(t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e;/**
 * Return start and count of visible points.
 * @private
 */function em(t,e,i){let n=e.length,a=0,s=n;if(t._sorted){let{iScale:r,_parsed:o}=t,l=r.axis,{min:h,max:c,minDefined:d,maxDefined:u}=r.getUserBounds();d&&(a=en(Math.min(er(o,l,h).lo,i?n:er(e,l,r.getPixelForValue(h)).lo),0,n-1)),s=u?en(Math.max(er(o,r.axis,c,!0).hi+1,i?0:er(e,l,r.getPixelForValue(c),!0).hi+1),a,n)-a:n-a}return{start:a,count:s}}/**
 * Checks if the scale ranges have changed.
 * @param {object} meta - dataset meta.
 * @returns {boolean}
 * @private
 */function eb(t){let{xScale:e,yScale:i,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=a,!0;let s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,a),s}const ey=t=>0===t||1===t,ex=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*tY/i)),e_=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*tY/i)+1,ev={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*tZ)+1,easeOutSine:t=>Math.sin(t*tZ),easeInOutSine:t=>-.5*(Math.cos(tU*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ey(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(-Math.pow(2,-10*(2*t-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ey(t)?t:ex(t,.075,.3),easeOutElastic:t=>ey(t)?t:e_(t,.075,.3),easeInOutElastic:t=>ey(t)?t:t<.5?.5*ex(2*t,.1125,.45):.5+.5*e_(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ev.easeOutBounce(1-t),easeOutBounce:t=>t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375,easeInOutBounce:t=>t<.5?.5*ev.easeInBounce(2*t):.5*ev.easeOutBounce(2*t-1)+.5};function ew(t){if(t&&"object"==typeof t){let e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function ek(t){return ew(t)?t:new t_(t)}function eM(t){return ew(t)?t:new t_(t).saturate(.5).darken(.1).hexString()}const eS=["x","y","borderWidth","radius","tension"],eO=["color","borderColor","backgroundColor"],ez=new Map;function eP(t,e,i){return(function(t,e){e=e||{};let i=t+JSON.stringify(e),n=ez.get(i);return n||(n=new Intl.NumberFormat(t,e),ez.set(i,n)),n})(e,i).format(t)}const eD={values:t=>tM(t)?t:""+t,numeric(t,e,i){let n;if(0===t)return"0";let a=this.chart.options.locale,s=t;if(i.length>1){let e;let a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(a<1e-4||a>1e15)&&(n="scientific"),Math.abs(e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),s=e}let r=t0(Math.abs(s)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),eP(t,a,l)},logarithmic(t,e,i){if(0===t)return"0";let n=i[e].significand||t/Math.pow(10,Math.floor(t0(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?eD.numeric.call(this,t,e,i):""}};var eL={formatters:eD};const eC=Object.create(null),eA=Object.create(null);function eE(t,e){if(!e)return t;let i=e.split(".");for(let e=0,n=i.length;e<n;++e){let n=i[e];t=t[n]||(t[n]=Object.create(null))}return t}function eI(t,e,i){return"string"==typeof e?tF(eE(t,e),i):tF(eE(t,""),e)}var eT=/* #__PURE__ */new class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>eM(e.backgroundColor),this.hoverBorderColor=(t,e)=>eM(e.borderColor),this.hoverColor=(t,e)=>eM(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return eI(this,t,e)}get(t){return eE(this,t)}describe(t,e){return eI(eA,t,e)}override(t,e){return eI(eC,t,e)}route(t,e,i,n){let a=eE(this,t),s=eE(this,i),r="_"+e;Object.defineProperties(a,{[r]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let t=this[r],e=s[n];return tS(t)?Object.assign({},e,t):tP(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach(t=>t(this))}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:eO},numbers:{type:"number",properties:eS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);/**
 * @private
 */function ej(t,e,i,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,i.push(a)),s>n&&(n=s),n}/**
 * Returns the aligned pixel value to avoid anti-aliasing blur
 * @param chart - The chart instance.
 * @param pixel - A pixel value.
 * @param width - The width of the element.
 * @returns The aligned pixel value.
 * @private
 */function eF(t,e,i){let n=t.currentDevicePixelRatio,a=0!==i?Math.max(i/2,.5):0;return Math.round((e-a)*n)/n+a}/**
 * Clears the entire canvas.
 */function eR(t,e){(e=e||t.getContext("2d")).save(),// canvas.width and canvas.height do not consider the canvas transform,
// while clearRect does
e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function eW(t,e,i,n){// eslint-disable-next-line @typescript-eslint/no-use-before-define
eN(t,e,i,n,null)}// eslint-disable-next-line complexity
function eN(t,e,i,n,a){let s,r,o,l,h,c,d,u;let f=e.pointStyle,g=e.rotation,p=e.radius,m=(g||0)*tG;if(f&&"object"==typeof f&&("[object HTMLImageElement]"===(s=f.toString())||"[object HTMLCanvasElement]"===s)){t.save(),t.translate(i,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!isNaN(p)&&!(p<=0)){switch(t.beginPath(),f){// Default includes circle
default:a?t.ellipse(i,n,a/2,p,0,0,tY):t.arc(i,n,p,0,tY),t.closePath();break;case"triangle":c=a?a/2:p,t.moveTo(i+Math.sin(m)*c,n-Math.cos(m)*p),m+=tQ,t.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*p),m+=tQ,t.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*p),t.closePath();break;case"rectRounded":// NOTE: the rounded rect implementation changed to use `arc` instead of
// `quadraticCurveTo` since it generates better results when rect is
// almost a circle. 0.516 (instead of 0.5) produces results with visually
// closer proportion to the previous impl and it is inscribed in the
// circle with `radius`. For more details, see the following PRs:
// https://github.com/chartjs/Chart.js/issues/5597
// https://github.com/chartjs/Chart.js/issues/5858
h=.516*p,r=Math.cos(m+tJ)*(l=p-h),d=Math.cos(m+tJ)*(a?a/2-h:l),o=Math.sin(m+tJ)*l,u=Math.sin(m+tJ)*(a?a/2-h:l),t.arc(i-d,n-o,h,m-tU,m-tZ),t.arc(i+u,n-r,h,m-tZ,m),t.arc(i+d,n+o,h,m,m+tZ),t.arc(i-u,n+r,h,m+tZ,m+tU),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,c=a?a/2:l,t.rect(i-c,n-l,2*c,2*l);break}m+=tJ;/* falls through */case"rectRot":d=Math.cos(m)*(a?a/2:p),r=Math.cos(m)*p,o=Math.sin(m)*p,u=Math.sin(m)*(a?a/2:p),t.moveTo(i-d,n-o),t.lineTo(i+u,n-r),t.lineTo(i+d,n+o),t.lineTo(i-u,n+r),t.closePath();break;case"crossRot":m+=tJ;/* falls through */case"cross":d=Math.cos(m)*(a?a/2:p),r=Math.cos(m)*p,o=Math.sin(m)*p,u=Math.sin(m)*(a?a/2:p),t.moveTo(i-d,n-o),t.lineTo(i+d,n+o),t.moveTo(i+u,n-r),t.lineTo(i-u,n+r);break;case"star":d=Math.cos(m)*(a?a/2:p),r=Math.cos(m)*p,o=Math.sin(m)*p,u=Math.sin(m)*(a?a/2:p),t.moveTo(i-d,n-o),t.lineTo(i+d,n+o),t.moveTo(i+u,n-r),t.lineTo(i-u,n+r),m+=tJ,d=Math.cos(m)*(a?a/2:p),r=Math.cos(m)*p,o=Math.sin(m)*p,u=Math.sin(m)*(a?a/2:p),t.moveTo(i-d,n-o),t.lineTo(i+d,n+o),t.moveTo(i+u,n-r),t.lineTo(i-u,n+r);break;case"line":r=a?a/2:Math.cos(m)*p,o=Math.sin(m)*p,t.moveTo(i-r,n-o),t.lineTo(i+r,n+o);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(a?a/2:p),n+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}/**
 * Returns true if the point is inside the rectangle
 * @param point - The point to test
 * @param area - The rectangle
 * @param margin - allowed margin
 * @private
 */function eB(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function eK(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function eV(t){t.restore()}/**
 * @private
 */function eH(t,e,i,n,a){if(!e)return t.lineTo(i.x,i.y);if("middle"===a){let n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===a!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}/**
 * @private
 */function e$(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}/**
 * Render text onto the canvas
 */function eU(t,e,i,n,a,s={}){let r,o;let l=tM(e)?e:[e],h=s.strokeWidth>0&&""!==s.strokeColor;for(t.save(),t.font=a.string,s.translation&&t.translate(s.translation[0],s.translation[1]),tk(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline),r=0;r<l.length;++r)o=l[r],s.backdrop&&function(t,e){let i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}(t,s.backdrop),h&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),tk(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(o,i,n,s.maxWidth)),t.fillText(o,i,n,s.maxWidth),function(t,e,i,n,a){if(a.strikethrough||a.underline){/**
     * Now that IE11 support has been dropped, we can use more
     * of the TextMetrics object. The actual bounding boxes
     * are unflagged in Chrome, Firefox, Edge, and Safari so they
     * can be safely used.
     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility
     */let s=t.measureText(n),r=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=i-s.actualBoundingBoxAscent,h=i+s.actualBoundingBoxDescent,c=a.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(r,c),t.lineTo(o,c),t.stroke()}}(t,i,n,o,s),n+=Number(a.lineHeight);t.restore()}/**
 * Add a path of a rectangle with rounded corners to the current sub-path
 * @param ctx - Context
 * @param rect - Bounding rect
 */function eY(t,e){let{x:i,y:n,w:a,h:s,radius:r}=e;// top left arc
t.arc(i+r.topLeft,n+r.topLeft,r.topLeft,1.5*tU,tU,!0),// line from top left to bottom left
t.lineTo(i,n+s-r.bottomLeft),// bottom left arc
t.arc(i+r.bottomLeft,n+s-r.bottomLeft,r.bottomLeft,tU,tZ,!0),// line from bottom left to bottom right
t.lineTo(i+a-r.bottomRight,n+s),// bottom right arc
t.arc(i+a-r.bottomRight,n+s-r.bottomRight,r.bottomRight,tZ,0,!0),// line from bottom right to top right
t.lineTo(i+a,n+r.topRight),// top right arc
t.arc(i+a-r.topRight,n+r.topRight,r.topRight,0,-tZ,!0),// line from top right to top left
t.lineTo(i+r.topLeft,n)}const eq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,eG=t=>+t||0;function eZ(t,e){let i={},n=tS(e),a=n?Object.keys(e):e,s=tS(t)?n?i=>tP(t[i],t[e[i]]):e=>t[e]:()=>t;for(let t of a)i[t]=eG(s(t));return i}/**
 * Converts the given value into a TRBL object.
 * @param value - If a number, set the value to all TRBL component,
 *  else, if an object, use defined properties and sets undefined ones to 0.
 *  x / y are shorthands for same value for left/right and top/bottom.
 * @returns The padding values (top, right, bottom, left)
 * @since 3.0.0
 */function eJ(t){return eZ(t,{top:"y",right:"x",bottom:"y",left:"x"})}/**
 * Converts the given value into a TRBL corners object (similar with css border-radius).
 * @param value - If a number, set the value to all TRBL corner components,
 *  else, if an object, use defined properties and sets undefined ones to 0.
 * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)
 * @since 3.0.0
 */function eQ(t){return eZ(t,["topLeft","topRight","bottomLeft","bottomRight"])}/**
 * Converts the given value into a padding object with pre-computed width/height.
 * @param value - If a number, set the value to all TRBL component,
 *  else, if an object, use defined properties and sets undefined ones to 0.
 *  x / y are shorthands for same value for left/right and top/bottom.
 * @returns The padding values (top, right, bottom, left, width, height)
 * @since 2.7.0
 */function e0(t){let e=eJ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}/**
 * Parses font options and returns the font object.
 * @param options - A object that contains font options to be parsed.
 * @param fallback - A object that contains fallback font options.
 * @return The font object.
 * @private
 */function e1(t,e){t=t||{},e=e||eT.font;let i=tP(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let n=tP(t.style,e.style);n&&!(""+n).match(eX)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let a={family:tP(t.family,e.family),lineHeight:/**
 * @alias Chart.helpers.options
 * @namespace
 *//**
 * Converts the given line height `value` in pixels for a specific font `size`.
 * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').
 * @param size - The font size (in pixels) used to resolve relative `value`.
 * @returns The effective line height in pixels (size * 1.2 if value is invalid).
 * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height
 * @since 2.7.0
 */function(t,e){let i=(""+t).match(eq);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}(tP(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:tP(t.weight,e.weight),string:""};return a.string=!a||tk(a.size)||tk(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family,a}/**
 * Evaluates the given `inputs` sequentially and returns the first defined value.
 * @param inputs - An array of values, falling back to the last value.
 * @param context - If defined and the current value is a function, the value
 * is called with `context` as first argument and the result becomes the new input.
 * @param index - If defined and the current value is an array, the value
 * at `index` become the new input.
 * @param info - object to return information about resolution in
 * @param info.cacheable - Will be set to `false` if option is not cacheable.
 * @since 2.7.0
 */function e2(t,e,i,n){let a,s,r,o=!0;for(a=0,s=t.length;a<s;++a)if(void 0!==(r=t[a])&&(void 0!==e&&"function"==typeof r&&(r=r(e),o=!1),void 0!==i&&tM(r)&&(r=r[i%r.length],o=!1),void 0!==r))return n&&!o&&(n.cacheable=!1),r}function e5(t,e){return Object.assign(Object.create(t),e)}/**
 * Creates a Proxy for resolving raw values for options.
 * @param scopes - The option scopes to look for values, in resolution order
 * @param prefixes - The prefixes for values, in resolution order.
 * @param rootScopes - The root option scopes
 * @param fallback - Parent scopes fallback
 * @param getTarget - callback for getting the target for changed values
 * @returns Proxy
 * @private
 */function e3(t,e=[""],i,n,a=()=>t[0]){let s=i||t;void 0===n&&(n=ia("_fallback",t));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:i=>e3([i,...t],e,s,n)};return new Proxy(r,{/**
     * A trap for the delete operator.
     */deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),/**
     * A trap for getting property values.
     */get:(i,n)=>e7(i,n,()=>(function(t,e,i,n){let a;for(let s of e)if(void 0!==(a=ia(e4(s,t),i)))return e8(t,a)?ie(i,n,t,a):a})(n,e,t,i)),/**
     * A trap for Object.getOwnPropertyDescriptor.
     * Also used by Object.hasOwnProperty.
     */getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),/**
     * A trap for Object.getPrototypeOf.
     */getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),/**
     * A trap for the in operator.
     */has:(t,e)=>is(t).includes(e),/**
     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.
     */ownKeys:t=>is(t),/**
     * A trap for setting property values.
     */set(t,e,i){let n=t._storage||(t._storage=a());return t[e]=n[e]=i,delete t._keys,!0}})}/**
 * Returns an Proxy for resolving option values with context.
 * @param proxy - The Proxy returned by `_createResolver`
 * @param context - Context object for scriptable/indexable options
 * @param subProxy - The proxy provided for scriptable options
 * @param descriptorDefaults - Defaults for descriptors
 * @private
 */function e6(t,e,i,n){let a={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:e9(t,n),setContext:e=>e6(t,e,i,n),override:a=>e6(t.override(a),e,i,n)};return new Proxy(a,{/**
     * A trap for the delete operator.
     */deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),/**
     * A trap for getting property values.
     */get:(t,e,i)=>e7(t,e,()=>(function(t,e,i){let{_proxy:n,_context:a,_subProxy:s,_descriptors:r}=t,o=n[e];return tH(o)&&r.isScriptable(e)&&(o=function(t,e,i,n){let{_proxy:a,_context:s,_subProxy:r,_stack:o}=i;if(o.has(t))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,r||n);return o.delete(t),e8(t,l)&&(l=ie(a._scopes,a,t,l)),l}(e,o,t,i)),tM(o)&&o.length&&(o=function(t,e,i,n){let{_proxy:a,_context:s,_subProxy:r,_descriptors:o}=i;if(void 0!==s.index&&n(t))return e[s.index%e.length];if(tS(e[0])){// Array of objects, return array or resolvers
        let i=e,n=a._scopes.filter(t=>t!==i);for(let l of(e=[],i)){let i=ie(n,a,t,l);e.push(e6(i,s,r&&r[t],o))}}return e}(e,o,t,r.isIndexable)),e8(e,o)&&(o=e6(o,a,s&&s[e],r)),o})(t,e,i)),/**
     * A trap for Object.getOwnPropertyDescriptor.
     * Also used by Object.hasOwnProperty.
     */getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),/**
     * A trap for Object.getPrototypeOf.
     */getPrototypeOf:()=>Reflect.getPrototypeOf(t),/**
     * A trap for the in operator.
     */has:(e,i)=>Reflect.has(t,i),/**
     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.
     */ownKeys:()=>Reflect.ownKeys(t),/**
     * A trap for setting property values.
     */set:(e,i,n)=>(t[i]=n,delete e[i],!0)})}/**
 * @private
 */function e9(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:i,indexable:n,isScriptable:tH(i)?i:()=>i,isIndexable:tH(n)?n:()=>n}}const e4=(t,e)=>t?t+tK(e):e,e8=(t,e)=>tS(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function e7(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let n=i();return(// cache the resolved value
t[e]=n,n)}const it=(t,e)=>!0===t?e:"string"==typeof t?tB(e,t):void 0;function ie(t,e,i,n){var a;let s=e._rootScopes,r=tH(a=e._fallback)?a(i,n):a,o=[...t,...s],l=new Set;l.add(n);let h=ii(l,o,i,r||i,n);return null!==h&&(void 0===r||r===i||null!==(h=ii(l,o,r,h,n)))&&e3(Array.from(l),[""],s,r,()=>(function(t,e,i){let n=t._getTarget();e in n||(n[e]={});let a=n[e];return tM(a)&&tS(i)?i:a||{}})(e,i,n))}function ii(t,e,i,n,a){for(;i;)i=function(t,e,i,n,a){for(let r of e){let e=it(i,r);if(e){var s;t.add(e);let r=tH(s=e._fallback)?s(i,a):s;if(void 0!==r&&r!==i&&r!==n)// The fallback will resume to that new scope.
return r}else if(!1===e&&void 0!==n&&i!==n)// For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`
return null}return!1}(t,e,i,n,a);return i}function ia(t,e){for(let i of e){if(!i)continue;let e=i[t];if(void 0!==e)return e}}function is(t){let e=t._keys;return e||(e=t._keys=function(t){let e=new Set;for(let i of t)for(let t of Object.keys(i).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function ir(t,e,i,n){let a,s,r;let{iScale:o}=t,{key:l="r"}=this._parsing,h=Array(n);for(a=0;a<n;++a)r=e[s=a+i],h[a]={r:o.parse(tB(r,l),s)};return h}const io=Number.EPSILON||1e-14,il=(t,e)=>e<t.length&&!t[e].skip&&t[e],ih=t=>"x"===t?"y":"x";function ic(t,e,i){return Math.max(Math.min(t,i),e)}/**
 * Note: typedefs are auto-exported, so use a made-up `dom` namespace where
 * necessary to avoid duplicates with `export * from './helpers`; see
 * https://github.com/microsoft/TypeScript/issues/46011
 * @typedef { import('../core/core.controller.js').default } dom.Chart
 * @typedef { import('../../types').ChartEvent } ChartEvent
 *//**
 * @private
 */function id(){return"undefined"!=typeof window&&"undefined"!=typeof document}/**
 * @private
 */function iu(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}/**
 * convert max-width/max-height values that may be percentages into a number
 * @private
 */function ig(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const ip=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),im=["top","right","bottom","left"];function ib(t,e,i){let n={};i=i?"-"+i:"";for(let a=0;a<4;a++){let s=im[a];n[s]=parseFloat(t[e+"-"+s+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const iy=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);/**
 * Gets an event's x, y coordinates, relative to the chart area
 * @param event
 * @param chart
 * @returns x and y coordinates of the event
 */function ix(t,e){if("native"in t)return t;let{canvas:i,currentDevicePixelRatio:n}=e,a=ip(i),s="border-box"===a.boxSizing,r=ib(a,"padding"),o=ib(a,"border","width"),{x:l,y:h,box:c}=/**
 * @param e
 * @param canvas
 * @returns Canvas position
 */function(t,e){let i,n;let a=t.touches,s=a&&a.length?a[0]:t,{offsetX:r,offsetY:o}=s,l=!1;if(iy(r,o,t.target))i=r,n=o;else{let t=e.getBoundingClientRect();i=s.clientX-t.left,n=s.clientY-t.top,l=!0}return{x:i,y:n,box:l}}(t,i),d=r.left+(c&&o.left),u=r.top+(c&&o.top),{width:f,height:g}=e;return s&&(f-=r.width+o.width,g-=r.height+o.height),{x:Math.round((l-d)/f*i.width/n),y:Math.round((h-u)/g*i.height/n)}}const i_=t=>Math.round(10*t)/10;/**
 * @param chart
 * @param forceRatio
 * @param forceStyle
 * @returns True if the canvas context size or transformation has changed.
 */function iv(t,e,i){let n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let r=t.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||r.height!==a||r.width!==s)&&(t.currentDevicePixelRatio=n,r.height=a,r.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0)}/**
 * Detects support for options object argument in addEventListener.
 * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support
 * @private
 */const iw=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){// continue regardless of error
}return t}();/**
 * The "used" size is the final value of a dimension property after all calculations have
 * been performed. This method uses the computed style of `element` but returns undefined
 * if the computed style is not expressed in pixels. That can happen in some cases where
 * `element` has a size relative to its parent and this last one is not yet displayed,
 * for example because of `display: none` on a parent node.
 * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value
 * @returns Size in pixels or undefined if unknown.
 */function ik(t,e){let i=ip(t).getPropertyValue(e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}/**
 * @private
 */function iM(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}/**
 * @private
 */function iS(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}/**
 * @private
 */function iO(t,e,i,n){let a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},r=iM(t,a,i),o=iM(a,s,i),l=iM(s,e,i),h=iM(r,o,i),c=iM(o,l,i);return iM(h,c,i)}function iz(t,e,i){var n;return t?(n=i,{x:t=>e+e+n-t,setWidth(t){n=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function iP(t,e){let i,n;("ltr"===e||"rtl"===e)&&(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function iD(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function iL(t){return"angle"===t?{between:ei,compare:et,normalize:ee}:{between:ea,compare:(t,e)=>t-e,normalize:t=>t}}function iC({start:t,end:e,count:i,loop:n,style:a}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0,style:a}}function iA(t,e,i){let n,a,s;if(!i)return[t];let{property:r,start:o,end:l}=i,h=e.length,{compare:c,between:d,normalize:u}=iL(r),{start:f,end:g,loop:p,style:m}=function(t,e,i){let n;let{property:a,start:s,end:r}=i,{between:o,normalize:l}=iL(a),h=e.length,{start:c,end:d,loop:u}=t;if(u){for(c+=h,d+=h,n=0;n<h&&o(l(e[c%h][a]),s,r);++n)c--,d--;c%=h,d%=h}return d<c&&(d+=h),{start:c,end:d,loop:u,style:t.style}}(t,e,i),b=[],y=!1,x=null,_=()=>d(o,s,n)&&0!==c(o,s),v=()=>0===c(l,n)||d(l,s,n),w=()=>y||_(),k=()=>!y||v();for(let t=f,i=f;t<=g;++t)(a=e[t%h]).skip||(n=u(a[r]))===s||(y=d(n,o,l),null===x&&w()&&(x=0===c(n,o)?t:i),null!==x&&k()&&(b.push(iC({start:x,end:t,loop:p,count:h,style:m})),x=null),i=t,s=n);return null!==x&&b.push(iC({start:x,end:g,loop:p,count:h,style:m})),b}function iE(t,e){let i=[],n=t.segments;for(let a=0;a<n.length;a++){let s=iA(n[a],t.points,e);s.length&&i.push(...s)}return i}function iI(t,e,i,n){return n&&n.setContext&&i?function(t,e,i,n){let a=t._chart.getContext(),s=iT(t.options),{_datasetIndex:r,options:{spanGaps:o}}=t,l=i.length,h=[],c=s,d=e[0].start,u=d;function f(t,e,n,a){let s=o?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=s;for(;i[e%l].skip;)e+=s;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:n,style:a}),c=a,d=e%l)}}for(let t of e){let e;let s=i[(d=o?d:t.start)%l];for(u=d+1;u<=t.end;u++){let o=i[u%l];(function(t,e){if(!e)return!1;let i=[],n=function(t,e){return ew(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)})(e=iT(n.setContext(e5(a,{type:"segment",p0:s,p1:o,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:r}))),c)&&f(d,u-1,t.loop,c),s=o,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,n):e}function iT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var ij=/* #__PURE__ */new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){let a=e.listeners[n],s=e.duration;a.forEach(n=>n({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=ed.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,n)=>{let a;if(!i.running||!i.items.length)return;let s=i.items,r=s.length-1,o=!1;for(;r>=0;--r)(a=s[r])._active?(a._total>i.duration&&(i.duration=a._total),a.tick(t),o=!0):(s[r]=s[s.length-1],s.pop());o&&(n.draw(),this._notify(n,i,t,"progress")),s.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!!e&&!!e.running&&!!e.items.length}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const iF="transparent",iR={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){let n=ek(t||iF),a=n.valid&&ek(e||iF);return a&&a.valid?a.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class iW{constructor(t,e,i,n){let a=e[i];n=e2([t.to,n,a,t.from]);let s=e2([t.from,a,n]);this._active=!0,this._fn=t.fn||iR[t.type||typeof s],this._easing=ev[t.easing]||ev.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let n=this._target[this._prop],a=i-this._start,s=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=e2([t.to,e,n,t.from]),this._from=e2([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e;let i=t-this._start,n=this._duration,a=this._prop,s=this._from,r=this._loop,o=this._to;if(this._active=s!==o&&(r||i<n),!this._active){this._target[a]=o,this._notify(!0);return}if(i<0){this._target[a]=s;return}e=i/n%2,e=r&&e>1?2-e:e,e=this._easing(Math.min(1,Math.max(0,e))),this._target[a]=this._fn(s,o,e)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class iN{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!tS(t))return;let e=Object.keys(eT.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let a=t[n];if(!tS(a))return;let s={};for(let t of e)s[t]=a[t];(tM(a.properties)&&a.properties||[n]).forEach(t=>{t!==n&&i.has(t)||i.set(t,s)})})}_animateOptions(t,e){let i=e.options,n=function(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(t,i);if(!n)return[];let a=this._createAnimations(n,i);return i.$shared&&(function(t,e){let i=[],n=Object.keys(e);for(let e=0;e<n.length;e++){let a=t[n[e]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)})(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){let i;let n=this._properties,a=[],s=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();for(i=r.length-1;i>=0;--i){let l=r[i];if("$"===l.charAt(0))continue;if("options"===l){a.push(...this._animateOptions(t,e));continue}let h=e[l],c=s[l],d=n.get(l);if(c){if(d&&c.active()){c.update(d,h,o);continue}c.cancel()}if(!d||!d.duration){t[l]=h;continue}s[l]=c=new iW(d,t,l,h),a.push(c)}return a}update(t,e){if(0===this._properties.size){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return ij.add(this._chart,i),!0}}function iB(t,e){let i=t&&t.options||{},n=i.reverse,a=void 0===i.min?e:0,s=void 0===i.max?e:0;return{start:n?s:a,end:n?a:s}}function iK(t,e){let i,n;let a=[],s=t._getSortedDatasetMetas(e);for(i=0,n=s.length;i<n;++i)a.push(s[i].index);return a}function iV(t,e,i,n={}){let a,s,r,o;let l=t.keys,h="single"===n.mode;if(null!==e){for(a=0,s=l.length;a<s;++a){if((r=+l[a])===i){if(n.all)continue;break}tO(o=t.values[r])&&(h||0===e||t1(e)===t1(o))&&(e+=o)}return e}}function iH(t,e){let i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function i$(t,e,i,n){for(let a of e.getMatchingVisibleMetas(n).reverse()){let e=t[a.index];if(i&&e>0||!i&&e<0)return a.index}return null}function iU(t,e){let i;let{chart:n,_cachedMeta:a}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:l}=a,h=r.axis,c=o.axis,d=`${r.id}.${o.id}.${a.stack||a.type}`,u=e.length;for(let t=0;t<u;++t){let n=e[t],{[h]:r,[c]:u}=n,f=n._stacks||(n._stacks={});(i=f[c]=function(t,e,i){let n=t[e]||(t[e]={});return n[i]||(n[i]={})}(s,d,r))[l]=u,i._top=i$(i,o,!0,a.type),i._bottom=i$(i,o,!1,a.type);let g=i._visualValues||(i._visualValues={});g[l]=u}}function iY(t,e){let i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function iq(t,e){let i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n)for(let a of e=e||t._parsed){let t=a._stacks;if(!t||void 0===t[n]||void 0===t[n][i])return;delete t[n][i],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[i]&&delete t[n]._visualValues[i]}}const iX=t=>"reset"===t||"none"===t,iG=(t,e)=>e?t:Object.assign({},t),iZ=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:iK(i,!0),values:null};class iJ{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=iH(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&iq(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,a=e.xAxisID=tP(i.xAxisID,iY(t,"x")),s=e.yAxisID=tP(i.yAxisID,iY(t,"y")),r=e.rAxisID=tP(i.rAxisID,iY(t,"r")),o=e.indexAxis,l=e.iAxisID=n(o,a,s,r),h=e.vAxisID=n(o,s,a,r);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(r),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&eh(this._data,this),t._stacked&&iq(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(tS(e))this._data=function(t){let e,i,n;let a=Object.keys(t),s=Array(a.length);for(e=0,i=a.length;e<i;++e)n=a[e],s[e]={x:n,y:t[n]};return s}(e);else if(i!==e){if(i){eh(i,this);let t=this._cachedMeta;iq(t),t._parsed=[]}e&&Object.isExtensible(e)&&function(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),el.forEach(e=>{let i="_onData"+tK(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){let a=n.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...e)}),a}})})}(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();let a=e._stacked;e._stacked=iH(e.vScale,e),e.stack!==i.stack&&(n=!0,iq(e),e.stack=i.stack),this._resyncElements(t),(n||a!==e._stacked)&&iU(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let i,n,a;let{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:l}=s,h=o.axis,c=0===t&&e===r.length||s._sorted,d=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=r,s._sorted=!0,a=r;else{a=tM(r[t])?this.parseArrayData(s,r,t,e):tS(r[t])?this.parseObjectData(s,r,t,e):this.parsePrimitiveData(s,r,t,e);let o=()=>null===n[h]||d&&n[h]<d[h];for(i=0;i<e;++i)s._parsed[i+t]=n=a[i],c&&(o()&&(c=!1),d=n);s._sorted=c}l&&iU(this,a)}parsePrimitiveData(t,e,i,n){let a,s;let{iScale:r,vScale:o}=t,l=r.axis,h=o.axis,c=r.getLabels(),d=r===o,u=Array(n);for(a=0;a<n;++a)s=a+i,u[a]={[l]:d||r.parse(c[s],s),[h]:o.parse(e[s],s)};return u}parseArrayData(t,e,i,n){let a,s,r;let{xScale:o,yScale:l}=t,h=Array(n);for(a=0;a<n;++a)r=e[s=a+i],h[a]={x:o.parse(r[0],s),y:l.parse(r[1],s)};return h}parseObjectData(t,e,i,n){let a,s,r;let{xScale:o,yScale:l}=t,{xAxisKey:h="x",yAxisKey:c="y"}=this._parsing,d=Array(n);for(a=0;a<n;++a)r=e[s=a+i],d[a]={x:o.parse(tB(r,h),s),y:l.parse(tB(r,c),s)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let n=this.chart,a=this._cachedMeta,s=e[t.axis],r={keys:iK(n,!0),values:e._stacks[t.axis]._visualValues};return iV(r,s,a.index,{mode:i})}updateRangeFromParsed(t,e,i,n){let a=i[e.axis],s=null===a?NaN:a,r=n&&i._stacks[e.axis];n&&r&&(n.values=r,s=iV(n,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){let i,n;let a=this._cachedMeta,s=a._parsed,r=a._sorted&&t===a.iScale,o=s.length,l=this._getOtherScale(t),h=iZ(e,a,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=function(t){let{min:e,max:i,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?i:Number.POSITIVE_INFINITY}}(l);function f(){n=s[i];let e=n[l.axis];return!tO(n[t.axis])||d>e||u<e}for(i=0;i<o&&(f()||(this.updateRangeFromParsed(c,t,n,h),!r));++i);if(r){for(i=o-1;i>=0;--i)if(!f()){this.updateRangeFromParsed(c,t,n,h);break}}return c}getAllParsedValues(t){let e,i,n;let a=this._cachedMeta._parsed,s=[];for(e=0,i=a.length;e<i;++e)tO(n=a[e][t.axis])&&s.push(n);return s}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,n=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(t){var e;let i,n,a,s;let r=this._cachedMeta;this.update(t||"default"),r._clip=(tS(e=tP(this.options.clip,function(t,e,i){if(!1===i)return!1;let n=iB(t,i),a=iB(e,i);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(r.xScale,r.yScale,this.getMaxOverflow())))?(i=e.top,n=e.right,a=e.bottom,s=e.left):i=n=a=s=e,{top:i,right:n,bottom:a,left:s,disabled:!1===e})}update(t){}draw(){let t;let e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],s=i.chartArea,r=[],o=this._drawStart||0,l=this._drawCount||a.length-o,h=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(e,s,o,l),t=o;t<o+l;++t){let i=a[t];i.hidden||(i.active&&h?r.push(i):i.draw(e,s))}for(t=0;t<r.length;++t)r[t].draw(e,s)}getStyle(t,e){let i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){var n;let a;let s=this.getDataset();if(t>=0&&t<this._cachedMeta.data.length){let e=this._cachedMeta.data[t];(a=e.$context||(e.$context=e5(this.getContext(),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"}))).parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else(a=this.$context||(this.$context=e5(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:n=this.index,index:n,mode:"default",type:"dataset"}))).dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let n="active"===e,a=this._cachedDataOpts,s=t+"-"+e,r=a[s],o=this.enableOptionSharing&&tV(i);if(r)return iG(r,o);let l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=n?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(eT.elements[t]),f=l.resolveNamedOptions(d,u,()=>this.getContext(i,n,e),c);return f.$shared&&(f.$shared=o,a[s]=Object.freeze(iG(f,o))),f}_resolveAnimations(t,e,i){let n;let a=this.chart,s=this._cachedDataOpts,r=`animation-${e}`,o=s[r];if(o)return o;if(!1!==a.options.animation){let a=this.chart.config,s=a.datasetAnimationScopeKeys(this._type,e),r=a.getOptionScopes(this.getDataset(),s);n=a.createResolver(r,this.getContext(t,i,e))}let l=new iN(a,n&&n.animations);return n&&n._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||iX(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,a=this.getSharedOptions(i),s=this.includeOptions(e,a)||a!==n;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:s}}updateElement(t,e,i,n){iX(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!iX(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;let a=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];let n=i.length,a=e.length,s=Math.min(a,n);s&&this.parse(0,s),a>n?this._insertElements(n,a-n,t):a<n&&this._removeElements(a,n-a)}_insertElements(t,e,i=!0){let n;let a=this._cachedMeta,s=a.data,r=t+e,o=t=>{for(t.length+=e,n=t.length-1;n>=r;n--)t[n]=t[n-e]};for(o(s),n=t;n<r;++n)s[n]=new this.dataElementType;this._parsing&&o(a._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let n=i._parsed.splice(t,e);i._stacked&&iq(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function iQ(t,e,i,n){return tM(t)?function(t,e,i,n){let a=i.parse(t[0],n),s=i.parse(t[1],n),r=Math.min(a,s),o=Math.max(a,s),l=r,h=o;Math.abs(r)>Math.abs(o)&&(l=o,h=r),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:a,end:s,min:r,max:o}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function i0(t,e,i,n){let a,s,r,o;let l=t.iScale,h=t.vScale,c=l.getLabels(),d=l===h,u=[];for(a=i,s=i+n;a<s;++a)o=e[a],(r={})[l.axis]=d||l.parse(c[a],a),u.push(iQ(o,r,h,a));return u}function i1(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function i2(t,e,i,n){var a;return t=n?i5(t=(a=t)===e?i:a===i?e:a,i,e):i5(t,e,i)}function i5(t,e,i){return"start"===t?e:"end"===t?i:t}class i3 extends iJ{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((e,a)=>{let s=t.getDatasetMeta(0),r=s.controller.getStyle(a);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let a,s,r=t=>+i[t];if(tS(i[t])){let{key:t="value"}=this._parsing;r=e=>+tB(i[e],t)}for(a=t,s=t+e;a<s;++a)n._parsed[a]=r(a)}}_getRotation(){return t9(this.options.rotation-90)}_getCircumference(){return t9(this.options.circumference)}_getRotationExtents(){let t=tY,e=-tY;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let n=this.chart.getDatasetMeta(i).controller,a=n._getRotation(),s=n._getCircumference();t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:i}=e,n=this._cachedMeta,a=n.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(i.width,i.height)-s)/2,0),o=Math.min(tD(this.options.cutout,r),1),l=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:d,ratioY:u,offsetX:f,offsetY:g}=function(t,e,i){let n=1,a=1,s=0,r=0;if(e<tY){let o=t+e,l=Math.cos(t),h=Math.sin(t),c=Math.cos(o),d=Math.sin(o),u=(e,n,a)=>ei(e,t,o,!0)?1:Math.max(n,n*i,a,a*i),f=(e,n,a)=>ei(e,t,o,!0)?-1:Math.min(n,n*i,a,a*i),g=u(0,l,c),p=u(tZ,h,d),m=f(tU,l,c),b=f(tU+tZ,h,d);n=(g-m)/2,a=(p-b)/2,s=-(g+m)/2,r=-(p+b)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:r}}(c,h,o),p=(i.width-s)/d,m=(i.height-s)/u,b=Math.max(Math.min(p,m)/2,0),y=tL(this.options.radius,b),x=Math.max(y*o,0),_=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=g*y,n.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){let i=this.options,n=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*a/tY)}updateElements(t,e,i,n){let a;let s="reset"===n,r=this.chart,o=r.chartArea,l=r.options,h=l.animation,c=(o.left+o.right)/2,d=(o.top+o.bottom)/2,u=s&&h.animateScale,f=u?0:this.innerRadius,g=u?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,n),b=this._getRotation();for(a=0;a<e;++a)b+=this._circumference(a,s);for(a=e;a<e+i;++a){let e=this._circumference(a,s),i=t[a],r={x:c+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+e,circumference:e,outerRadius:g,innerRadius:f};m&&(r.options=p||this.resolveDataElementOptions(a,i.active?"active":n)),b+=e,this.updateElement(i,a,r,n)}}calculateTotal(){let t;let e=this._cachedMeta,i=e.data,n=0;for(t=0;t<i.length;t++){let a=e._parsed[t];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(t)&&!i[t].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?tY*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=eP(e._parsed[t],i.options.locale);return{label:n[t]||"",value:a}}getMaxBorderWidth(t){let e,i,n,a,s,r=0,o=this.chart;if(!t){for(e=0,i=o.data.datasets.length;e<i;++e)if(o.isDatasetVisible(e)){t=(n=o.getDatasetMeta(e)).data,a=n.controller;break}}if(!t)return 0;for(e=0,i=t.length;e<i;++e)"inner"!==(s=a.resolveDataElementOptions(e)).borderAlign&&(r=Math.max(r,s.borderWidth||0,s.hoverBorderWidth||0));return r}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){let t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(tP(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class i6 extends iJ{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((e,a)=>{let s=t.getDatasetMeta(0),r=s.controller.getStyle(a);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=eP(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:a}}parseObjectData(t,e,i,n){return ir.bind(this)(t,e,i,n)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(n/2,0),s=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),r=(a-s)/t.getVisibleDatasetCount();this.outerRadius=a-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,i,n){let a;let s="reset"===n,r=this.chart,o=r.options,l=o.animation,h=this._cachedMeta.rScale,c=h.xCenter,d=h.yCenter,u=h.getIndexAngle(0)-.5*tU,f=u,g=360/this.countVisibleElements();for(a=0;a<e;++a)f+=this._computeAngle(a,n,g);for(a=e;a<e+i;a++){let e=t[a],i=f,o=f+this._computeAngle(a,n,g),p=r.getDataVisibility(a)?h.getDistanceFromCenterForValue(this.getParsed(a).r):0;f=o,s&&(l.animateScale&&(p=0),l.animateRotate&&(i=o=u));let m={x:c,y:d,innerRadius:0,outerRadius:p,startAngle:i,endAngle:o,options:this.resolveDataElementOptions(a,e.active?"active":n)};this.updateElement(e,a,m,n)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?t9(this.resolveDataElementOptions(t,e).angle||i):0}}var i9=/*#__PURE__*/Object.freeze({__proto__:null,BarController:class extends iJ{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,n){return i0(t,e,i,n)}parseArrayData(t,e,i,n){return i0(t,e,i,n)}parseObjectData(t,e,i,n){let a,s,r,o;let{iScale:l,vScale:h}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,u="x"===l.axis?c:d,f="x"===h.axis?c:d,g=[];for(a=i,s=i+n;a<s;++a)o=e[a],(r={})[l.axis]=l.parse(tB(o,u),a),g.push(iQ(tB(o,f),r,h,a));return g}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);let a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:i,vScale:n}=e,a=this.getParsed(t),s=a._custom,r=i1(s)?"["+s.start+", "+s.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){let a="reset"===n,{index:s,_cachedMeta:{vScale:r}}=this,o=r.getBasePixel(),l=r.isHorizontal(),h=this._getRuler(),{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,n);for(let u=e;u<e+i;u++){let e=this.getParsed(u),i=a||tk(e[r.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,h),g=(e._stacks||{})[r.axis],p={horizontal:l,base:i.base,enableBorderRadius:!g||i1(e._custom)||s===g._top||s===g._bottom,x:l?i.head:f.center,y:l?f.center:i.head,height:l?f.size:Math.abs(i.size),width:l?Math.abs(i.size):f.size};d&&(p.options=c||this.resolveDataElementOptions(u,t[u].active?"active":n));let m=p.options||t[u].options;!function(t,e,i,n){let a,s,r,o,l,h=e.borderSkipped,c={};if(!h){t.borderSkipped=c;return}if(!0===h){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:d,end:u,reverse:f,top:g,bottom:p}=(t.horizontal?(a=t.base>t.x,s="left",r="right"):(a=t.base<t.y,s="bottom",r="top"),a?(o="end",l="start"):(o="start",l="end"),{start:s,end:r,reverse:a,top:o,bottom:l});"middle"===h&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?h=g:(i._bottom||0)===n?h=p:(c[i2(p,d,u,f)]=!0,h=g)),c[i2(h,d,u,f)]=!0,t.borderSkipped=c}(p,m,g,s),function(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}(p,m,h.ratio),this.updateElement(t[u],u,p,n)}}_getStacks(t,e){let{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),a=i.options.stacked,s=[],r=t=>{let i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(tk(n)||isNaN(n))return!0};for(let i of n)if(!(void 0!==e&&r(i))&&((!1===a||-1===s.indexOf(i.stack)||void 0===a&&void 0===i.stack)&&s.push(i.stack),i.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){let n=this._getStacks(t,i),a=void 0!==e?n.indexOf(e):-1;return -1===a?n.length-1:a}_getRuler(){let t,e;let i=this.options,n=this._cachedMeta,a=n.iScale,s=[];for(t=0,e=n.data.length;t<e;++t)s.push(a.getPixelForValue(this.getParsed(t)[a.axis],t));let r=i.barThickness,o=r||function(t){let e,i,n,a;let s=t.iScale,r=function(t,e){if(!t._cache.$bar){let i=t.getMatchingVisibleMetas(e),n=[];for(let e=0,a=i.length;e<a;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=ec(n.sort((t,e)=>t-e))}return t._cache.$bar}(s,t.type),o=s._length,l=()=>{32767!==n&&-32768!==n&&(tV(a)&&(o=Math.min(o,Math.abs(n-a)||o)),a=n)};for(e=0,i=r.length;e<i;++e)n=s.getPixelForValue(r[e]),l();for(e=0,a=void 0,i=s.ticks.length;e<i;++e)n=s.getPixelForTick(e),l();return o}(n);return{min:o,pixels:s,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:i.grouped,ratio:r?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(t){let e,i;let{_cachedMeta:{vScale:n,_stacked:a,index:s},options:{base:r,minBarLength:o}}=this,l=r||0,h=this.getParsed(t),c=h._custom,d=i1(c),u=h[n.axis],f=0,g=a?this.applyStack(n,h,a):u;g!==u&&(f=g-u,g=u),d&&(u=c.barStart,g=c.barEnd-c.barStart,0!==u&&t1(u)!==t1(c.barEnd)&&(f=0),f+=u);let p=tk(r)||d?f:r,m=n.getPixelForValue(p);if(Math.abs(i=(e=this.chart.getDataVisibility(t)?n.getPixelForValue(f+g):m)-m)<o){var b;i=(0!==(b=i)?t1(b):(n.isHorizontal()?1:-1)*(n.min>=l?1:-1))*o,u===l&&(m-=i/2);let t=n.getPixelForDecimal(0),r=n.getPixelForDecimal(1),c=Math.min(t,r),f=Math.max(t,r);e=(m=Math.max(Math.min(m,f),c))+i,a&&!d&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(e)-n.getValueForPixel(m))}if(m===n.getPixelForValue(l)){let t=t1(i)*n.getLineWidthForValue(l)/2;m+=t,i-=t}return{size:i,base:m,head:e,center:e+i/2}}_calculateBarIndexPixels(t,e){let i,n;let a=e.scale,s=this.options,r=s.skipNull,o=tP(s.maxBarThickness,1/0);if(e.grouped){let a=r?this._getStackCount(t):e.stackCount,l="flex"===s.barThickness?function(t,e,i,n){let a=e.pixels,s=a[t],r=t>0?a[t-1]:null,o=t<a.length-1?a[t+1]:null,l=i.categoryPercentage;null===r&&(r=s-(null===o?e.end-e.start:o-s)),null===o&&(o=s+s-r);let h=s-(s-Math.min(r,o))/2*l,c=Math.abs(o-r)/2*l;return{chunk:c/n,ratio:i.barPercentage,start:h}}(t,e,s,a):function(t,e,i,n){let a,s;let r=i.barThickness;return tk(r)?(a=e.min*i.categoryPercentage,s=i.barPercentage):(a=r*n,s=1),{chunk:a/n,ratio:s,start:e.pixels[t]-a/2}}(t,e,s,a),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);i=l.start+l.chunk*h+l.chunk/2,n=Math.min(o,l.chunk*l.ratio)}else i=a.getPixelForValue(this.getParsed(t)[a.axis],t),n=Math.min(o,e.min*e.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){let t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length,a=0;for(;a<n;++a)null!==this.getParsed(a)[e.axis]&&i[a].draw(this._ctx)}},BubbleController:class extends iJ{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){let a=super.parsePrimitiveData(t,e,i,n);for(let t=0;t<a.length;t++)a[t]._custom=this.resolveDataElementOptions(t+i).radius;return a}parseArrayData(t,e,i,n){let a=super.parseArrayData(t,e,i,n);for(let t=0;t<a.length;t++){let n=e[i+t];a[t]._custom=tP(n[2],this.resolveDataElementOptions(t+i).radius)}return a}parseObjectData(t,e,i,n){let a=super.parseObjectData(t,e,i,n);for(let t=0;t<a.length;t++){let n=e[i+t];a[t]._custom=tP(n&&n.r&&+n.r,this.resolveDataElementOptions(t+i).radius)}return a}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:a}=e,s=this.getParsed(t),r=n.getLabelForValue(s.x),o=a.getLabelForValue(s.y),l=s._custom;return{label:i[t]||"",value:"("+r+", "+o+(l?", "+l:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){let a="reset"===n,{iScale:s,vScale:r}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,n),h=s.axis,c=r.axis;for(let d=e;d<e+i;d++){let e=t[d],i=!a&&this.getParsed(d),u={},f=u[h]=a?s.getPixelForDecimal(.5):s.getPixelForValue(i[h]),g=u[c]=a?r.getBasePixel():r.getPixelForValue(i[c]);u.skip=isNaN(f)||isNaN(g),l&&(u.options=o||this.resolveDataElementOptions(d,e.active?"active":n),a&&(u.options.radius=0)),this.updateElement(e,d,u,n)}}resolveDataElementOptions(t,e){let i=this.getParsed(t),n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));let a=n.radius;return"active"!==e&&(n.radius=0),n.radius+=tP(i&&i._custom,a),n}},DoughnutController:i3,LineController:class extends iJ{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:n=[],_dataset:a}=e,s=this.chart._animationsDisabled,{start:r,count:o}=em(e,n,s);this._drawStart=r,this._drawCount=o,eb(e)&&(r=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;let l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:l},t),this.updateElements(n,r,o,t)}updateElements(t,e,i,n){let a="reset"===n,{iScale:s,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(e,n),d=s.axis,u=r.axis,{spanGaps:f,segment:g}=this.options,p=t3(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||"none"===n,b=e+i,y=t.length,x=e>0&&this.getParsed(e-1);for(let i=0;i<y;++i){let f=t[i],y=m?f:{};if(i<e||i>=b){y.skip=!0;continue}let _=this.getParsed(i),v=tk(_[u]),w=y[d]=s.getPixelForValue(_[d],i),k=y[u]=a||v?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,_,o):_[u],i);y.skip=isNaN(w)||isNaN(k)||v,y.stop=i>0&&Math.abs(_[d]-x[d])>p,g&&(y.parsed=_,y.raw=l.data[i]),c&&(y.options=h||this.resolveDataElementOptions(i,f.active?"active":n)),m||this.updateElement(f,i,y,n),x=_}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;let a=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,a,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends i3{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:i6,RadarController:class extends iJ{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return ir.bind(this)(t,e,i,n)}update(t){let e=this._cachedMeta,i=e.dataset,n=e.data||[],a=e.iScale.getLabels();if(i.points=n,"resize"!==t){let e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);let s={_loop:!0,_fullLoop:a.length===n.length,options:e};this.updateElement(i,void 0,s,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){let a=this._cachedMeta.rScale,s="reset"===n;for(let r=e;r<e+i;r++){let e=t[r],i=this.resolveDataElementOptions(r,e.active?"active":n),o=a.getPointPositionForValue(r,this.getParsed(r).r),l=s?a.xCenter:o.x,h=s?a.yCenter:o.y,c={x:l,y:h,angle:o.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,r,c,n)}}},ScatterController:class extends iJ{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:a}=e,s=this.getParsed(t),r=n.getLabelForValue(s.x),o=a.getLabelForValue(s.y);return{label:i[t]||"",value:"("+r+", "+o+")"}}update(t){let e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled,{start:a,count:s}=em(e,i,n);if(this._drawStart=a,this._drawCount=s,eb(e)&&(a=0,s=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:a,_dataset:s}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=i;let r=this.resolveDatasetElementOptions(t);r.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:r},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){let a="reset"===n,{iScale:s,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),c=this.getSharedOptions(h),d=this.includeOptions(n,c),u=s.axis,f=r.axis,{spanGaps:g,segment:p}=this.options,m=t3(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||"none"===n,y=e>0&&this.getParsed(e-1);for(let h=e;h<e+i;++h){let e=t[h],i=this.getParsed(h),g=b?e:{},x=tk(i[f]),_=g[u]=s.getPixelForValue(i[u],h),v=g[f]=a||x?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,i,o):i[f],h);g.skip=isNaN(_)||isNaN(v)||x,g.stop=h>0&&Math.abs(i[u]-y[u])>m,p&&(g.parsed=i,g.raw=l.data[h]),d&&(g.options=c||this.resolveDataElementOptions(h,e.active?"active":n)),b||this.updateElement(e,h,g,n),y=i}this.updateSharedOptions(c,n,h)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}let i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;let a=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,a,s)/2}}});/**
 * @namespace Chart._adapters
 * @since 2.8.0
 * @private
 */function i4(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}/**
 * Date adapter (current used by the time scale)
 * @namespace Chart._adapters._date
 * @memberof Chart._adapters
 * @private
 */class i8{/**
   * Override default date adapter methods.
   * Accepts type parameter to define options type.
   * @example
   * Chart._adapters._date.override<{myAdapterOption: string}>({
   *   init() {
   *     console.log(this.options.myAdapterOption);
   *   }
   * })
   */static override(t){Object.assign(i8.prototype,t)}options;constructor(t){this.options=t||{}}// eslint-disable-next-line @typescript-eslint/no-empty-function
init(){}formats(){return i4()}parse(){return i4()}format(){return i4()}add(){return i4()}diff(){return i4()}startOf(){return i4()}endOf(){return i4()}}var i7={_date:i8};function nt(t,e,i,n,a){let s=t.getSortedVisibleDatasetMetas(),r=i[e];for(let t=0,i=s.length;t<i;++t){let{index:i,data:o}=s[t],{lo:l,hi:h}=function(t,e,i,n){let{controller:a,data:s,_sorted:r}=t,o=a._cachedMeta.iScale;if(o&&e===o.axis&&"r"!==e&&r&&s.length){let t=o._reversePixels?eo:er;if(!n)return t(s,e,i);if(a._sharedOptions){let n=s[0],a="function"==typeof n.getRange&&n.getRange(e);if(a){let n=t(s,e,i-a),r=t(s,e,i+a);return{lo:n.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}(s[t],e,r,a);for(let t=l;t<=h;++t){let e=o[t];e.skip||n(e,i,t)}}}function ne(t,e,i,n,a){let s=[];return(a||t.isPointInArea(e))&&nt(t,i,e,function(i,r,o){(a||eB(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&s.push({element:i,datasetIndex:r,index:o})},!0),s}function ni(t,e,i,n,a,s){let r;return s||t.isPointInArea(e)?"r"!==i||n?function(t,e,i,n,a,s){let r=[],o=function(t){let e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){let a=e?Math.abs(t.x-n.x):0,s=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(i),l=Number.POSITIVE_INFINITY;return nt(t,i,e,function(i,h,c){let d=i.inRange(e.x,e.y,a);if(n&&!d)return;let u=i.getCenterPoint(a),f=!!s||t.isPointInArea(u);if(!f&&!d)return;let g=o(e,u);g<l?(r=[{element:i,datasetIndex:h,index:c}],l=g):g===l&&r.push({element:i,datasetIndex:h,index:c})}),r}(t,e,i,n,a,s):(r=[],nt(t,i,e,function(t,i,n){let{startAngle:s,endAngle:o}=t.getProps(["startAngle","endAngle"],a),{angle:l}=t8(t,{x:e.x,y:e.y});ei(l,s,o)&&r.push({element:t,datasetIndex:i,index:n})}),r):[]}function nn(t,e,i,n,a){let s=[],r="x"===i?"inXRange":"inYRange",o=!1;return(nt(t,i,e,(t,n,l)=>{t[r](e[i],a)&&(s.push({element:t,datasetIndex:n,index:l}),o=o||t.inRange(e.x,e.y,a))}),n&&!o)?[]:s}var na={modes:{index(t,e,i,n){let a=ix(e,t),s=i.axis||"x",r=i.includeInvisible||!1,o=i.intersect?ne(t,a,s,n,r):ni(t,a,s,!1,n,r),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{let e=o[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,n){let a=ix(e,t),s=i.axis||"xy",r=i.includeInvisible||!1,o=i.intersect?ne(t,a,s,n,r):ni(t,a,s,!1,n,r);if(o.length>0){let e=o[0].datasetIndex,i=t.getDatasetMeta(e).data;o=[];for(let t=0;t<i.length;++t)o.push({element:i[t],datasetIndex:e,index:t})}return o},point(t,e,i,n){let a=ix(e,t),s=i.axis||"xy",r=i.includeInvisible||!1;return ne(t,a,s,n,r)},nearest(t,e,i,n){let a=ix(e,t),s=i.axis||"xy",r=i.includeInvisible||!1;return ni(t,a,s,i.intersect,n,r)},x(t,e,i,n){let a=ix(e,t);return nn(t,a,"x",i.intersect,n)},y(t,e,i,n){let a=ix(e,t);return nn(t,a,"y",i.intersect,n)}}};const ns=["left","top","right","bottom"];function nr(t,e){return t.filter(t=>t.pos===e)}function no(t,e){return t.filter(t=>-1===ns.indexOf(t.pos)&&t.box.axis===e)}function nl(t,e){return t.sort((t,i)=>{let n=e?i:t,a=e?t:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function nh(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function nc(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nd(t,e,i,n){let a,s,r,o,l,h;let c=[];for(a=0,s=t.length,l=0;a<s;++a){(o=(r=t[a]).box).update(r.width||e.w,r.height||e.h,function(t,e){let i=e.maxPadding;return function(t){let n={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{n[t]=Math.max(e[t],i[t])}),n}(t?["left","right"]:["top","bottom"])}(r.horizontal,e));let{same:s,other:d}=function(t,e,i,n){let{pos:a,box:s}=i,r=t.maxPadding;if(!tS(a)){i.size&&(t[a]-=i.size);let e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?s.height:s.width),i.size=e.size/e.count,t[a]+=i.size}s.getPadding&&nc(r,s.getPadding());let o=Math.max(0,e.outerWidth-nh(r,t,"left","right")),l=Math.max(0,e.outerHeight-nh(r,t,"top","bottom")),h=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}(e,i,r,n);l|=s&&c.length,h=h||d,o.fullSize||c.push(r)}return l&&nd(c,e,i,n)||h}function nu(t,e,i,n,a){t.top=i,t.left=e,t.right=e+n,t.bottom=i+a,t.width=n,t.height=a}function nf(t,e,i,n){let a=i.padding,{x:s,y:r}=e;for(let o of t){let t=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/l.weight||1;if(o.horizontal){let n=e.w*h,s=l.size||t.height;tV(l.start)&&(r=l.start),t.fullSize?nu(t,a.left,r,i.outerWidth-a.right-a.left,s):nu(t,e.left+l.placed,r,n,s),l.start=r,l.placed+=n,r=t.bottom}else{let n=e.h*h,r=l.size||t.width;tV(l.start)&&(s=l.start),t.fullSize?nu(t,s,a.top,r,i.outerHeight-a.bottom-a.top):nu(t,s,e.top+l.placed,r,n),l.start=s,l.placed+=n,s=t.right}}e.x=s,e.y=r}var ng={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){let i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;let a=e0(t.options.layout.padding),s=Math.max(e-a.width,0),r=Math.max(i-a.height,0),o=function(t){let e=function(t){let e,i,n,a,s,r;let o=[];for(e=0,i=(t||[]).length;e<i;++e)n=t[e],({position:a,options:{stack:s,stackWeight:r=1}}=n),o.push({index:e,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&a+s,stackWeight:r});return o}(t),i=nl(e.filter(t=>t.box.fullSize),!0),n=nl(nr(e,"left"),!0),a=nl(nr(e,"right")),s=nl(nr(e,"top"),!0),r=nl(nr(e,"bottom")),o=no(e,"x"),l=no(e,"y");return{fullSize:i,leftAndTop:n.concat(s),rightAndBottom:a.concat(l).concat(r).concat(o),chartArea:nr(e,"chartArea"),vertical:n.concat(a).concat(l),horizontal:s.concat(r).concat(o)}}(t.boxes),l=o.vertical,h=o.horizontal;tA(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});let c=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:a,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/c,hBoxMaxHeight:r/2}),u=Object.assign({},a);nc(u,e0(n));let f=Object.assign({maxPadding:u,w:s,h:r,x:a.left,y:a.top},a),g=function(t,e){let i,n,a;let s=function(t){let e={};for(let i of t){let{stack:t,pos:n,stackWeight:a}=i;if(!t||!ns.includes(n))continue;let s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;for(i=0,n=t.length;i<n;++i){a=t[i];let{fullSize:n}=a.box,l=s[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*r:n&&e.availableWidth,a.height=o):(a.width=r,a.height=h?h*o:n&&e.availableHeight)}return s}(l.concat(h),d);nd(o.fullSize,f,d,g),nd(l,f,d,g),nd(h,f,d,g)&&nd(l,f,d,g),function(t){let e=t.maxPadding;function i(i){let n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),nf(o.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,nf(o.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},tA(o.chartArea,e=>{let i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class np{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class nm extends np{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nb="$chartjs",ny={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nx=t=>null===t||""===t,n_=!!iw&&{passive:!0};function nv(t,e,i){t.canvas.removeEventListener(e,i,n_)}function nw(t,e){for(let i of t)if(i===e||i.contains(e))return!0}function nk(t,e,i){let n=t.canvas,a=new MutationObserver(t=>{let e=!1;for(let i of t)e=(e=e||nw(i.addedNodes,n))&&!nw(i.removedNodes,n);e&&i()});return a.observe(document,{childList:!0,subtree:!0}),a}function nM(t,e,i){let n=t.canvas,a=new MutationObserver(t=>{let e=!1;for(let i of t)e=(e=e||nw(i.removedNodes,n))&&!nw(i.addedNodes,n);e&&i()});return a.observe(document,{childList:!0,subtree:!0}),a}const nS=new Map;let nO=0;function nz(){let t=window.devicePixelRatio;t!==nO&&(nO=t,nS.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function nP(t,e,i){let n=t.canvas,a=n&&iu(n);if(!a)return;let s=eu((t,e)=>{let n=a.clientWidth;i(t,e),n<a.clientWidth&&i()},window),r=new ResizeObserver(t=>{let e=t[0],i=e.contentRect.width,n=e.contentRect.height;(0!==i||0!==n)&&s(i,n)});return r.observe(a),nS.size||window.addEventListener("resize",nz),nS.set(t,s),r}function nD(t,e,i){i&&i.disconnect(),"resize"===e&&(nS.delete(t),nS.size||window.removeEventListener("resize",nz))}function nL(t,e,i){let n=t.canvas,a=eu(e=>{null!==t.ctx&&i(function(t,e){let i=ny[t.type]||t.type,{x:n,y:a}=ix(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==a?a:null}}(e,t))},t);return!function(t,e,i){t.addEventListener(e,i,n_)}(n,e,a),a}class nC extends np{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(!function(t,e){let i=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[nb]={initial:{height:n,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",nx(a)){let e=ik(t,"width");void 0!==e&&(t.width=e)}if(nx(n)){if(""===t.style.height)t.height=t.width/(e||2);else{let e=ik(t,"height");void 0!==e&&(t.height=e)}}}(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[nb])return!1;let i=e[nb].initial;["height","width"].forEach(t=>{let n=i[t];tk(n)?e.removeAttribute(t):e.setAttribute(t,n)});let n=i.style||{};return Object.keys(n).forEach(t=>{e.style[t]=n[t]}),e.width=e.width,delete e[nb],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let n=t.$proxies||(t.$proxies={}),a={attach:nk,detach:nM,resize:nP}[e]||nL;n[e]=a(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;let a={attach:nD,detach:nD,resize:nD}[e]||nv;a(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return(// eslint-disable-next-line complexity
function(t,e,i,n){let a=ip(t),s=ib(a,"margin"),r=ig(a.maxWidth,t,"clientWidth")||tX,o=ig(a.maxHeight,t,"clientHeight")||tX,l=function(t,e,i){let n,a;if(void 0===e||void 0===i){let s=iu(t);if(s){let t=s.getBoundingClientRect(),r=ip(s),o=ib(r,"border","width"),l=ib(r,"padding");// this is the border box of the container
e=t.width-l.width-o.width,i=t.height-l.height-o.height,n=ig(r.maxWidth,s,"clientWidth"),a=ig(r.maxHeight,s,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||tX,maxHeight:a||tX}}(t,e,i),{width:h,height:c}=l;if("content-box"===a.boxSizing){let t=ib(a,"border","width"),e=ib(a,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-s.width),c=Math.max(0,n?h/n:c-s.height),h=i_(Math.min(h,r,l.maxWidth)),c=i_(Math.min(c,o,l.maxHeight)),h&&!c&&// If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)
(c=i_(h/2));let d=void 0!==e||void 0!==i;return d&&n&&l.height&&c>l.height&&(h=i_(Math.floor((c=l.height)*n))),{width:h,height:c}}(t,e,i,n))}isAttached(t){let e=iu(t);return!!(e&&e.isConnected)}}class nA{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return t3(this.x)&&t3(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let n={};return t.forEach(t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]}),n}}function nE(t,e,i,n,a){let s,r,o;let l=tP(n,0),h=Math.min(tP(a,t.length),t.length),c=0;for(i=Math.ceil(i),a&&(i=(s=a-n)/Math.floor(s/i)),o=l;o<0;)o=Math.round(l+ ++c*i);for(r=Math.max(l,0);r<h;r++)r===o&&(e.push(t[r]),o=Math.round(l+ ++c*i))}const nI=t=>"left"===t?"right":"right"===t?"left":t,nT=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,nj=(t,e)=>Math.min(e||t,t);function nF(t,e){let i=[],n=t.length/e,a=t.length,s=0;for(;s<a;s+=n)i.push(t[Math.floor(s)]);return i}function nR(t){return t.drawTicks?t.tickLength:0}function nW(t,e){if(!t.display)return 0;let i=e1(t.font,e),n=e0(t.padding),a=tM(t.text)?t.text.length:1;return a*i.lineHeight+n.height}class nN extends nA{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=tz(t,Number.POSITIVE_INFINITY),e=tz(e,Number.NEGATIVE_INFINITY),i=tz(i,Number.POSITIVE_INFINITY),n=tz(n,Number.NEGATIVE_INFINITY),{min:tz(t,i),max:tz(e,n),minDefined:tO(t),maxDefined:tO(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:i,max:n};let r=this.getMatchingVisibleMetas();for(let o=0,l=r.length;o<l;++o)e=r[o].controller.getMinMax(this,t),a||(i=Math.min(i,e.min)),s||(n=Math.max(n,e.max));return i=s&&i>n?n:i,n=a&&i>n?i:n,{min:tz(i,tz(n,i)),max:tz(n,tz(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){let e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tC(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:n,grace:a,ticks:s}=this.options,r=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=/**
 * @param minmax
 * @param grace
 * @param beginAtZero
 * @private
 */function(t,e,i){let{min:n,max:a}=t,s=tL(e,(a-n)/2),r=(t,e)=>i&&0===t?0:t+e;return{min:r(n,-Math.abs(s)),max:r(a,s)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=r<this.ticks.length;this._convertTicksToLabels(o?nF(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function(t,e){let i=t.options.ticks,n=function(t){let e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),a=t._maxLength/i;return Math.floor(Math.min(n,a))}(t),a=Math.min(i.maxTicksLimit||n,n),s=i.major.enabled?function(t){let e,i;let n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(e):[],r=s.length,o=s[0],l=s[r-1],h=[];if(r>a)return function(t,e,i,n){let a,s=0,r=i[0];for(a=0,n=Math.ceil(n);a<t.length;a++)a===r&&(e.push(t[a]),r=i[++s*n])}(e,h,s,r/a),h;let c=function(t,e,i){let n=function(t){let e,i;let n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),a=e.length/i;if(!n)return Math.max(a,1);let s=/**
 * Returns an array of factors sorted from 1 to sqrt(value)
 * @private
 */function(t){let e;let i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e==0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort((t,e)=>t-e).pop(),i}(n);for(let t=0,e=s.length-1;t<e;t++){let e=s[t];if(e>a)return e}return Math.max(a,1)}(s,e,a);if(r>0){let t,i;let n=r>1?Math.round((l-o)/(r-1)):null;for(nE(e,h,c,tk(n)?0:o-n,o),t=0,i=r-1;t<i;t++)nE(e,h,c,s[t],s[t+1]);return nE(e,h,c,l,tk(n)?e.length:l+n),h}return nE(e,h,c),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tC(this.options.afterUpdate,[this])}beforeSetDimensions(){tC(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tC(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tC(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tC(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e,i,n;let a=this.options.ticks;for(e=0,i=t.length;e<i;e++)(n=t[e]).label=tC(a.callback,[n.value,e,t],this)}afterTickToLabelConversion(){tC(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tC(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t,e,i;let n=this.options,a=n.ticks,s=nj(this.ticks.length,n.ticks.maxTicksLimit),r=a.minRotation||0,o=a.maxRotation,l=r;if(!this._isVisible()||!a.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}let h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=en(this.chart.width-c,0,this.maxWidth);c+6>(t=n.offset?this.maxWidth/s:u/(s-1))&&(t=u/(s-(n.offset?.5:1)),e=this.maxHeight-nR(n.grid)-a.padding-nW(n.title,this.chart.options.font),i=Math.sqrt(c*c+d*d),l=Math.max(r,Math.min(o,l=Math.min(Math.asin(en((h.highest.height+6)/t,-1,1)),Math.asin(en(e/i,-1,1))-Math.asin(en(d/i,-1,1)))*(180/tU)))),this.labelRotation=l}afterCalculateLabelRotation(){tC(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tC(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:a}}=this,s=this._isVisible(),r=this.isHorizontal();if(s){let s=nW(n,e.options.font);if(r?(t.width=this.maxWidth,t.height=nR(a)+s):(t.height=this.maxHeight,t.width=nR(a)+s),i.display&&this.ticks.length){let{first:e,last:n,widest:a,highest:s}=this._getLabelSizes(),o=2*i.padding,l=t9(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(r){let e=i.mirror?0:c*a.width+h*s.height;t.height=Math.min(this.maxHeight,t.height+e+o)}else{let e=i.mirror?0:h*a.width+c*s.height;t.width=Math.min(this.maxWidth,t.width+e+o)}this._calculatePadding(e,n,c,h)}}this._handleMargins(),r?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){let{ticks:{align:a,padding:s},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){let r=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),c=0,d=0;o?l?(c=n*t.width,d=i*e.height):(c=i*t.height,d=n*e.width):"start"===a?d=e.width:"end"===a?c=t.width:"inner"!==a&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-r+s)*this.width/(this.width-r),0),this.paddingRight=Math.max((d-h+s)*this.width/(this.width-h),0)}else{let i=e.height/2,n=t.height/2;"start"===a?(i=0,n=t.height):"end"===a&&(i=e.height,n=0),this.paddingTop=i+s,this.paddingBottom=n+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tC(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)tk(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=nF(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let n,a,s,r,o,l,h,c,d,u,f;let{ctx:g,_longestTextCache:p}=this,m=[],b=[],y=Math.floor(e/nj(e,i)),x=0,_=0;for(n=0;n<e;n+=y){if(r=t[n].label,o=this._resolveTickFontOptions(n),g.font=l=o.string,h=p[l]=p[l]||{data:{},gc:[]},c=o.lineHeight,d=u=0,tk(r)||tM(r)){if(tM(r))for(a=0,s=r.length;a<s;++a)tk(f=r[a])||tM(f)||(d=ej(g,h.data,h.gc,d,f),u+=c)}else d=ej(g,h.data,h.gc,d,r),u=c;m.push(d),b.push(u),x=Math.max(d,x),_=Math.max(u,_)}tA(p,t=>{let i;let n=t.gc,a=n.length/2;if(a>e){for(i=0;i<a;++i)delete t.data[n[i]];n.splice(0,a)}});let v=m.indexOf(x),w=b.indexOf(_),k=t=>({width:m[t]||0,height:b[t]||0});return{first:k(0),last:k(e-1),widest:k(v),highest:k(w),widths:m,heights:b}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return en(this._alignToPixels?eF(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=e5(this.getContext(),{tick:i,index:t,type:"tick"}))}return this.$context||(this.$context=e5(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let t=this.options.ticks,e=t9(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,r=a?a.widest.width+s:0,o=a?a.highest.height+s:0;return this.isHorizontal()?o*i>r*n?r/i:o/n:o*n<r*i?o/i:r/n}_isVisible(){let t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e,i,n,a,s,r,o,l,h,c,d,u;let f=this.axis,g=this.chart,p=this.options,{grid:m,position:b,border:y}=p,x=m.offset,_=this.isHorizontal(),v=this.ticks,w=v.length+(x?1:0),k=nR(m),M=[],S=y.setContext(this.getContext()),O=S.display?S.width:0,z=O/2,P=function(t){return eF(g,t,O)};if("top"===b)e=P(this.bottom),r=this.bottom-k,l=e-z,c=P(t.top)+z,u=t.bottom;else if("bottom"===b)e=P(this.top),c=t.top,u=P(t.bottom)-z,r=e+z,l=this.top+k;else if("left"===b)e=P(this.right),s=this.right-k,o=e-z,h=P(t.left)+z,d=t.right;else if("right"===b)e=P(this.left),h=t.left,d=P(t.right)-z,s=e+z,o=this.left+k;else if("x"===f){if("center"===b)e=P((t.top+t.bottom)/2+.5);else if(tS(b)){let t=Object.keys(b)[0],i=b[t];e=P(this.chart.scales[t].getPixelForValue(i))}c=t.top,u=t.bottom,l=(r=e+z)+k}else if("y"===f){if("center"===b)e=P((t.left+t.right)/2);else if(tS(b)){let t=Object.keys(b)[0],i=b[t];e=P(this.chart.scales[t].getPixelForValue(i))}o=(s=e-z)-k,h=t.left,d=t.right}let D=tP(p.ticks.maxTicksLimit,w),L=Math.max(1,Math.ceil(w/D));for(i=0;i<w;i+=L){let t=this.getContext(i),e=m.setContext(t),f=y.setContext(t),p=e.lineWidth,b=e.color,v=f.dash||[],w=f.dashOffset,k=e.tickWidth,S=e.tickColor,O=e.tickBorderDash||[],z=e.tickBorderDashOffset;void 0!==(n=function(t,e,i){let n;let a=t.ticks.length,s=Math.min(e,a-1),r=t._startPixel,o=t._endPixel,l=t.getPixelForTick(s);if(!i||(n=1===a?Math.max(l-r,o-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(s-1))/2,!((l+=s<e?n:-n)<r-1e-6)&&!(l>o+1e-6)))return l}(this,i,x))&&(a=eF(g,n,p),_?s=o=h=d=a:r=l=c=u=a,M.push({tx1:s,ty1:r,tx2:o,ty2:l,x1:h,y1:c,x2:d,y2:u,width:p,color:b,borderDash:v,borderDashOffset:w,tickWidth:k,tickColor:S,tickBorderDash:O,tickBorderDashOffset:z}))}return this._ticksLength=w,this._borderValue=e,M}_computeLabelItems(t){let e,i,n,a,s,r,o,l,h,c,d;let u=this.axis,f=this.options,{position:g,ticks:p}=f,m=this.isHorizontal(),b=this.ticks,{align:y,crossAlign:x,padding:_,mirror:v}=p,w=nR(f.grid),k=w+_,M=v?-_:k,S=-t9(this.labelRotation),O=[],z="middle";if("top"===g)s=this.bottom-M,r=this._getXAxisLabelAlignment();else if("bottom"===g)s=this.top+M,r=this._getXAxisLabelAlignment();else if("left"===g){let t=this._getYAxisLabelAlignment(w);r=t.textAlign,a=t.x}else if("right"===g){let t=this._getYAxisLabelAlignment(w);r=t.textAlign,a=t.x}else if("x"===u){if("center"===g)s=(t.top+t.bottom)/2+k;else if(tS(g)){let t=Object.keys(g)[0],e=g[t];s=this.chart.scales[t].getPixelForValue(e)+k}r=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===g)a=(t.left+t.right)/2-k;else if(tS(g)){let t=Object.keys(g)[0],e=g[t];a=this.chart.scales[t].getPixelForValue(e)}r=this._getYAxisLabelAlignment(w).textAlign}"y"===u&&("start"===y?z="top":"end"===y&&(z="bottom"));let P=this._getLabelSizes();for(e=0,i=b.length;e<i;++e){let t;n=b[e].label;let u=p.setContext(this.getContext(e));o=this.getPixelForTick(e)+p.labelOffset,h=(l=this._resolveTickFontOptions(e)).lineHeight,c=tM(n)?n.length:1;let f=c/2,y=u.color,_=u.textStrokeColor,w=u.textStrokeWidth,k=r;if(m?(a=o,"inner"===r&&(k=e===i-1?this.options.reverse?"left":"right":0===e?this.options.reverse?"right":"left":"center"),d="top"===g?"near"===x||0!==S?-c*h+h/2:"center"===x?-P.highest.height/2-f*h+h:-P.highest.height+h/2:"near"===x||0!==S?h/2:"center"===x?P.highest.height/2-f*h:P.highest.height-c*h,v&&(d*=-1),0===S||u.showLabelBackdrop||(a+=h/2*Math.sin(S))):(s=o,d=(1-c)*h/2),u.showLabelBackdrop){let i=e0(u.backdropPadding),n=P.heights[e],a=P.widths[e],s=d-i.top,o=0-i.left;switch(z){case"middle":s-=n/2;break;case"bottom":s-=n}switch(r){case"center":o-=a/2;break;case"right":o-=a}t={left:o,top:s,width:a+i.width,height:n+i.height,color:u.backdropColor}}O.push({label:n,font:l,textOffset:d,options:{rotation:S,color:y,strokeColor:_,strokeWidth:w,textAlign:k,textBaseline:z,translation:[a,s],backdrop:t}})}return O}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options,i=-t9(this.labelRotation);if(i)return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){let e,i;let{position:n,ticks:{crossAlign:a,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,h=o.widest.width;return"left"===n?s?(i=this.right+r,"near"===a?e="left":"center"===a?(e="center",i+=h/2):(e="right",i+=h)):(i=this.right-l,"near"===a?e="right":"center"===a?(e="center",i-=h/2):(e="left",i=this.left)):"right"===n?s?(i=this.left+r,"near"===a?e="right":"center"===a?(e="center",i-=h/2):(e="left",i-=h)):(i=this.left+l,"near"===a?e="left":"center"===a?(e="center",i+=h/2):(e="right",i=this.right)):e="right",{textAlign:e,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:n,width:a,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,a,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks,n=i.findIndex(e=>e.value===t);if(n>=0){let t=e.setContext(this.getContext(n));return t.lineWidth}return 0}drawGrid(t){let e,i;let n=this.options.grid,a=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r=(t,e,i)=>{i.width&&i.color&&(a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.setLineDash(i.borderDash||[]),a.lineDashOffset=i.borderDashOffset,a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(e.x,e.y),a.stroke(),a.restore())};if(n.display)for(e=0,i=s.length;e<i;++e){let t=s[e];n.drawOnChartArea&&r({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),n.drawTicks&&r({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){let t,e,i,n;let{chart:a,ctx:s,options:{border:r,grid:o}}=this,l=r.setContext(this.getContext()),h=r.display?l.width:0;if(!h)return;let c=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(t=eF(a,this.left,h)-h/2,e=eF(a,this.right,c)+c/2,i=n=d):(i=eF(a,this.top,h)-h/2,n=eF(a,this.bottom,c)+c/2,t=e=d),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(t,i),s.lineTo(e,n),s.stroke(),s.restore()}drawLabels(t){let e=this.options.ticks;if(!e.display)return;let i=this.ctx,n=this._computeLabelArea();n&&eK(i,n);let a=this.getLabelItems(t);for(let t of a){let e=t.options,n=t.font,a=t.label,s=t.textOffset;eU(i,a,0,s,n,e)}n&&eV(i)}drawTitle(){let t;let{ctx:e,options:{position:i,title:n,reverse:a}}=this;if(!n.display)return;let s=e1(n.font),r=e0(n.padding),o=n.align,l=s.lineHeight/2;"bottom"===i||"center"===i||tS(i)?(l+=r.bottom,tM(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=r.top;let{titleX:h,titleY:c,maxWidth:d,rotation:u}=function(t,e,i,n){let a,s,r;let{top:o,left:l,bottom:h,right:c,chart:d}=t,{chartArea:u,scales:f}=d,g=0,p=h-o,m=c-l;if(t.isHorizontal()){if(s=eg(n,l,c),tS(i)){let t=Object.keys(i)[0],n=i[t];r=f[t].getPixelForValue(n)+p-e}else r="center"===i?(u.bottom+u.top)/2+p-e:nT(t,i,e);a=c-l}else{if(tS(i)){let t=Object.keys(i)[0],n=i[t];s=f[t].getPixelForValue(n)-m+e}else s="center"===i?(u.left+u.right)/2-m+e:nT(t,i,e);r=eg(n,h,o),g="left"===i?-tZ:tZ}return{titleX:s,titleY:r,maxWidth:a,rotation:g}}(this,l,i,o);eU(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:u,textAlign:(t=ef(o),(a&&"right"!==i||!a&&"right"===i)&&(t=nI(t)),t),textBaseline:"middle",translation:[h,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=tP(t.grid&&t.grid.z,-1),n=tP(t.border&&t.border.z,0);return this._isVisible()&&this.draw===nN.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){let e,i;let n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",s=[];for(e=0,i=n.length;e<i;++e){let i=n[e];i[a]!==this.id||t&&i.type!==t||s.push(i)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return e1(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class nB{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e;let i=Object.getPrototypeOf(t);"id"in i&&"defaults"in i&&(e=this.register(i));let n=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw Error("class does not have id: "+t);return a in n||(n[a]=t,function(t,e,i){let n=tF(Object.create(null),[i?eT.get(i):{},eT.get(e),t.defaults]);eT.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(i=>{let n=i.split("."),a=n.pop(),s=[t].concat(n).join("."),r=e[i].split("."),o=r.pop(),l=r.join(".");eT.route(s,a,l,o)})}(e,t.defaultRoutes),t.descriptors&&eT.describe(e,t.descriptors)}(t,s,e),this.override&&eT.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in eT[n]&&(delete eT[n][i],this.override&&delete eC[i])}}var nK=/* #__PURE__ */new class{constructor(){this.controllers=new nB(iJ,"datasets",!0),this.elements=new nB(nA,"elements"),this.plugins=new nB(Object,"plugins"),this.scales=new nB(nN,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(e=>{let n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):tA(e,e=>{let n=i||this._getRegistryForType(e);this._exec(t,n,e)})})}_exec(t,e,i){let n=tK(t);tC(i["before"+n],[],i),e[t](i),tC(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let n=e.get(t);if(void 0===n)throw Error('"'+t+'" is not a registered '+i+".");return n}};class nV{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let a=n?this._descriptors(t).filter(n):this._descriptors(t),s=this._notify(a,t,e,i);return"afterDestroy"===e&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,n){for(let a of(n=n||{},t)){let t=a.plugin,s=t[i],r=[e,n,a.options];if(!1===tC(s,r,t)&&n.cancelable)return!1}return!0}invalidate(){tk(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,n=tP(i.options&&i.options.plugins,{}),a=function(t){let e={},i=[],n=Object.keys(nK.plugins.items);for(let t=0;t<n.length;t++)i.push(nK.getPlugin(n[t]));let a=t.plugins||[];for(let t=0;t<a.length;t++){let n=a[t];-1===i.indexOf(n)&&(i.push(n),e[n.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==n||e?function(t,{plugins:e,localIds:i},n,a){let s=[],r=t.getContext();for(let l of e){var o;let e=l.id,h=(o=n[e],a||!1!==o?!0===o?{}:o:null);null!==h&&s.push({plugin:l,options:function(t,{plugin:e,local:i},n,a){let s=t.pluginScopeKeys(e),r=t.getOptionScopes(n,s);return i&&e.defaults&&r.push(e.defaults),t.createResolver(r,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(t.config,{plugin:l,local:i[e]},h,r)})}return s}(t,a,n,e):[]}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function nH(t,e){let i=eT.datasets[t]||{},n=(e.datasets||{})[t]||{};return n.indexAxis||e.indexAxis||i.indexAxis||"x"}function n$(t){if("x"===t||"y"===t||"r"===t)return t}function nU(t,...e){if(n$(t))return t;for(let n of e){var i;let e=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&n$(t[0].toLowerCase());if(e)return e}throw Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function nY(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function nq(t){let e=t.options||(t.options={});e.plugins=tP(e.plugins,{}),e.scales=function(t,e){let i=eC[t.type]||{scales:{}},n=e.scales||{},a=nH(t.type,e),s=Object.create(null);return Object.keys(n).forEach(e=>{let r=n[e];if(!tS(r))return console.error(`Invalid scale configuration for scale: ${e}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);let o=nU(e,r,function(t,e){if(e.data&&e.data.datasets){let i=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(i.length)return nY(t,"x",i[0])||nY(t,"y",i[0])}return{}}(e,t),eT.scales[r.type]),l=o===a?"_index_":"_value_",h=i.scales||{};s[e]=tR(Object.create(null),[{axis:o},r,h[o],h[l]])}),t.data.datasets.forEach(i=>{let a=i.type||t.type,r=i.indexAxis||nH(a,e),o=eC[a]||{},l=o.scales||{};Object.keys(l).forEach(t=>{let e;let a=(e=t,"_index_"===t?e=r:"_value_"===t&&(e="x"===r?"y":"x"),e),o=i[a+"AxisID"]||a;s[o]=s[o]||Object.create(null),tR(s[o],[{axis:a},n[o],l[t]])})}),Object.keys(s).forEach(t=>{let e=s[t];tR(e,[eT.scales[e.type],eT.scale])}),s}(t,e)}function nX(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const nG=new Map,nZ=new Set;function nJ(t,e){let i=nG.get(t);return i||(i=e(),nG.set(t,i),nZ.add(i)),i}const nQ=(t,e,i)=>{let n=tB(e,i);void 0!==n&&t.add(n)};class n0{constructor(t){var e;this._config=((e=(e=t)||{}).data=nX(e.data),nq(e),e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=nX(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),nq(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return nJ(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return nJ(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return nJ(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return nJ(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,n=i.get(t);return(!n||e)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){let{options:n,type:a}=this,s=this._cachedScopes(t,i),r=s.get(e);if(r)return r;let o=new Set;e.forEach(e=>{t&&(o.add(t),e.forEach(e=>nQ(o,t,e))),e.forEach(t=>nQ(o,n,t)),e.forEach(t=>nQ(o,eC[a]||{},t)),e.forEach(t=>nQ(o,eT,t)),e.forEach(t=>nQ(o,eA,t))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),nZ.has(e)&&s.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,eC[e]||{},eT.datasets[e]||{},{type:e},eT,eA]}resolveNamedOptions(t,e,i,n=[""]){let a={$shared:!0},{resolver:s,subPrefixes:r}=n1(this._resolverCache,t,n),o=s;if(function(t,e){let{isScriptable:i,isIndexable:n}=e9(t);for(let a of e){let e=i(a),s=n(a),r=(s||e)&&t[a];if(e&&(tH(r)||n2(r))||s&&tM(r))return!0}return!1}(s,e)){a.$shared=!1,i=tH(i)?i():i;let e=this.createResolver(t,i,r);o=e6(s,i,e)}for(let t of e)a[t]=o[t];return a}createResolver(t,e,i=[""],n){let{resolver:a}=n1(this._resolverCache,t,i);return tS(e)?e6(a,e,void 0,n):a}}function n1(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));let a=i.join(),s=n.get(a);if(!s){let t=e3(e,i);s={resolver:t,subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},n.set(a,s)}return s}const n2=t=>tS(t)&&Object.getOwnPropertyNames(t).reduce((e,i)=>e||tH(t[i]),!1),n5=["top","bottom","left","right","chartArea"];function n3(t,e){return"top"===t||"bottom"===t||-1===n5.indexOf(t)&&"x"===e}function n6(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function n9(t){let e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),tC(i&&i.onComplete,[t],e)}function n4(t){let e=t.chart,i=e.options.animation;tC(i&&i.onProgress,[t],e)}function n8(t){return id()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const n7={},at=t=>{let e=n8(t);return Object.values(n7).filter(t=>t.canvas===e).pop()};function ae(t,e,i){return t.options.clip?t[i]:e[i]}class ai{static defaults=eT;static instances=n7;static overrides=eC;static registry=nK;static version="4.4.0";static getChart=at;static register(...t){nK.add(...t),an()}static unregister(...t){nK.remove(...t),an()}constructor(t,e){var i,n;let a;let s=this.config=new n0(e),r=n8(t),o=at(r);if(o)throw Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||(!id()||"undefined"!=typeof OffscreenCanvas&&r instanceof OffscreenCanvas?nm:nC)),this.platform.updateConfig(s);let h=this.platform.acquireContext(r,l.aspectRatio),c=h&&h.canvas,d=c&&c.height,u=c&&c.width;if(this.id=tw(),this.ctx=h,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(i=t=>this.update(t),n=l.resizeDelay||0,function(...t){return n?(clearTimeout(a),a=setTimeout(i,n,t)):i.apply(this,t),n}),this._dataChanges=[],n7[this.id]=this,!h||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ij.listen(this,"complete",n9),ij.listen(this,"progress",n4),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:a}=this;return tk(t)?e&&a?a:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nK}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eR(this.canvas,this.ctx),this}stop(){return ij.stop(this),this}resize(t,e){ij.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(n,t,e,a),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,iv(this,r,!0)&&(this.notifyPlugins("resize",{size:s}),tC(i.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){let t=this.options,e=t.scales||{};tA(e,(t,e)=>{t.id=e})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce((t,e)=>(t[e]=!1,t),{}),a=[];e&&(a=a.concat(Object.keys(e).map(t=>{let i=e[t],n=nU(t,i),a="r"===n,s="x"===n;return{options:i,dposition:a?"chartArea":s?"bottom":"left",dtype:a?"radialLinear":s?"category":"linear"}}))),tA(a,e=>{let a=e.options,s=a.id,r=nU(s,a),o=tP(a.type,e.dtype);(void 0===a.position||n3(a.position,r)!==n3(e.dposition))&&(a.position=e.dposition),n[s]=!0;let l=null;if(s in i&&i[s].type===o)l=i[s];else{let t=nK.getScale(o);i[(l=new t({id:s,type:o,ctx:this.ctx,chart:this})).id]=l}l.init(a,t)}),tA(n,(t,e)=>{t||delete i[e]}),tA(i,t=>{ng.configure(this,t,t.options),ng.addBox(this,t)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(n6("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,i)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let t,e;let i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,e=n.length;t<e;t++){let e=n[t],a=this.getDatasetMeta(t),s=e.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(t),a=this.getDatasetMeta(t)),a.type=s,a.indexAxis=e.indexAxis||nH(s,this.options),a.order=e.order||0,a.index=t,a.label=""+e.label,a.visible=this.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{let e=nK.getController(s),{datasetElementType:n,dataElementType:r}=eT.datasets[s];Object.assign(e,{dataElementType:nK.getElement(r),datasetElementType:n&&nK.getElement(n)}),a.controller=new e(this,t),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){tA(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let t=0,e=this.data.datasets.length;t<e;t++){let{controller:e}=this.getDatasetMeta(t),i=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(i),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),n||tA(a,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(n6("z","_idx"));let{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){tA(this.scales,t=>{ng.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);t$(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:i,start:n,count:a}of e){let e="_removeElements"===i?-a:a;!function(t,e,i){let n=Object.keys(t);for(let a of n){let n=+a;if(n>=e){let s=t[a];delete t[a],(i>0||n>e)&&(t[n+i]=s)}}}(t,n,e)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),n=i(0);for(let t=1;t<e;t++)if(!t$(n,i(t)))return;return Array.from(n).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ng.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],tA(this.boxes,t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,tH(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ij.has(this)?this.attached&&!ij.running(this)&&ij.start(this):(this.draw(),n9({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e,i;let n=this._sortedMetasets,a=[];for(e=0,i=n.length;e<i;++e){let i=n[e];(!t||i.visible)&&a.push(i)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i=t._clip,n=!i.disabled,a=function(t,e){let{xScale:i,yScale:n}=t;return i&&n?{left:ae(i,e,"left"),right:ae(i,e,"right"),top:ae(n,e,"top"),bottom:ae(n,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&eK(e,{left:!1===i.left?0:a.left-i.left,right:!1===i.right?this.width:a.right+i.right,top:!1===i.top?0:a.top-i.top,bottom:!1===i.bottom?this.height:a.bottom+i.bottom}),t.controller.draw(),n&&eV(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return eB(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){let a=na.modes[e];return"function"==typeof a?a(this,t,i,n):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,n=i.filter(t=>t&&t._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=e5(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){let i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let n=i?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,n);tV(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(a,{visible:i}),this.update(e=>e.datasetIndex===t?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ij.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),eR(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete n7[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};tA(this.options.events,t=>i(t,n))}bindResponsiveEvents(){let t;this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,n=(t,n)=>{i.addEventListener(this,t,n),e[t]=n},a=(t,n)=>{e[t]&&(i.removeEventListener(this,t,n),delete e[t])},s=(t,e)=>{this.canvas&&this.resize(t,e)},r=()=>{a("attach",r),this.attached=!0,this.resize(),n("resize",s),n("detach",t)};t=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",r)},i.isAttached(this.canvas)?r():t()}unbindEvents(){tA(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},tA(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let n,a,s;let r=i?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+r+"DatasetHoverStyle"](),a=0,s=t.length;a<s;++a){n=t[a];let e=n&&this.getDatasetMeta(n.datasetIndex).controller;e&&e[r+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:t,index:e})=>{let i=this.getDatasetMeta(t);if(!i)throw Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}),n=!tE(i,e);n&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){let n=this.options.hover,a=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=a(e,t),r=i?t:a(t,e);s.length&&this.updateHoverStyle(s,n.mode,!1),r.length&&n.mode&&this.updateHoverStyle(r,n.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;let a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){var n;let{_active:a=[],options:s}=this,r=this._getActiveElements(t,a,i,e),o="mouseup"===t.type||"click"===t.type||"contextmenu"===t.type,l=(n=this._lastEvent,i&&"mouseout"!==t.type?o?n:t:null);i&&(this._lastEvent=null,tC(s.onHover,[t,r,this],this),o&&tC(s.onClick,[t,r,this],this));let h=!tE(r,a);return(h||e)&&(this._active=r,this._updateHoverStyles(r,a,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;let a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,n)}}function an(){return tA(ai.instances,t=>t._plugins.invalidate())}/**
 * Convert (r, 𝜃) to (x, y)
 */function aa(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}/**
 * Path the arc, respecting border radius by separating into left and right halves.
 *
 *   Start      End
 *
 *    1--->a--->2    Outer
 *   /           \
 *   8           3
 *   |           |
 *   |           |
 *   7           4
 *   \           /
 *    6<---b<---5    Inner
 */function as(t,e,i,n,a,s){let{x:r,y:o,startAngle:l,pixelMargin:h,innerRadius:c}=e,d=Math.max(e.outerRadius+n+i-h,0),u=c>0?c+n+i+h:0,f=0,g=a-l;if(n){let t=d>0?d-n:0,e=((c>0?c-n:0)+t)/2;f=(g-(0!==e?g*e/(e+n):g))/2}let p=Math.max(.001,g*d-i/tU)/d,m=(g-p)/2,b=l+m+f,y=a-m-f,{outerStart:x,outerEnd:_,innerStart:v,innerEnd:w}=/**
 * Parse border radius from the provided options
 */function(t,e,i,n){let a=eZ(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),s=(i-e)/2,r=Math.min(s,n*e/2),o=t=>{let e=(i-Math.min(s,t))*n/2;return en(t,0,Math.min(s,e))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:en(a.innerStart,0,r),innerEnd:en(a.innerEnd,0,r)}}(e,u,d,y-b),k=d-x,M=d-_,S=b+x/k,O=y-_/M,z=u+v,P=u+w,D=b+v/z,L=y-w/P;if(t.beginPath(),s){// The first arc segments from point 1 to point a to point 2
let e=(S+O)/2;// The corner segment from point 2 to point 3
if(t.arc(r,o,d,S,e),t.arc(r,o,d,e,O),_>0){let e=aa(M,O,r,o);t.arc(e.x,e.y,_,O,y+tZ)}// The line from point 3 to point 4
let i=aa(P,y,r,o);// The corner segment from point 4 to point 5
if(t.lineTo(i.x,i.y),w>0){let e=aa(P,L,r,o);t.arc(e.x,e.y,w,y+tZ,L+Math.PI)}// The inner arc from point 5 to point b to point 6
let n=(y-w/u+(b+v/u))/2;// The corner segment from point 6 to point 7
if(t.arc(r,o,u,y-w/u,n,!0),t.arc(r,o,u,n,b+v/u,!0),v>0){let e=aa(z,D,r,o);t.arc(e.x,e.y,v,D+Math.PI,b-tZ)}// The line from point 7 to point 8
let a=aa(k,b,r,o);// The corner segment from point 8 to point 1
if(t.lineTo(a.x,a.y),x>0){let e=aa(k,S,r,o);t.arc(e.x,e.y,x,b-tZ,S)}}else{t.moveTo(r,o);let e=Math.cos(S)*d+r,i=Math.sin(S)*d+o;t.lineTo(e,i);let n=Math.cos(O)*d+r,a=Math.sin(O)*d+o;t.lineTo(n,a)}t.closePath()}function ar(t,e,i=e){t.lineCap=tP(i.borderCapStyle,e.borderCapStyle),t.setLineDash(tP(i.borderDash,e.borderDash)),t.lineDashOffset=tP(i.borderDashOffset,e.borderDashOffset),t.lineJoin=tP(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tP(i.borderWidth,e.borderWidth),t.strokeStyle=tP(i.borderColor,e.borderColor)}function ao(t,e,i){t.lineTo(i.x,i.y)}function al(t,e,i={}){let n=t.length,{start:a=0,end:s=n-1}=i,{start:r,end:o}=e,l=Math.max(a,r),h=Math.min(s,o);return{count:n,start:l,loop:e.loop,ilen:h<l&&!(a<r&&s<r||a>o&&s>o)?n+h-l:h-l}}function ah(t,e,i,n){let a,s,r;let{points:o,options:l}=e,{count:h,start:c,loop:d,ilen:u}=al(o,i,n),f=l.stepped?eH:l.tension||"monotone"===l.cubicInterpolationMode?e$:ao,{move:g=!0,reverse:p}=n||{};for(a=0;a<=u;++a)(s=o[(c+(p?u-a:a))%h]).skip||(g?(t.moveTo(s.x,s.y),g=!1):f(t,r,s,p,l.stepped),r=s);return d&&f(t,r,s=o[(c+(p?u:0))%h],p,l.stepped),!!d}function ac(t,e,i,n){let a,s,r,o,l,h;let c=e.points,{count:d,start:u,ilen:f}=al(c,i,n),{move:g=!0,reverse:p}=n||{},m=0,b=0,y=t=>(u+(p?f-t:t))%d,x=()=>{o!==l&&(t.lineTo(m,l),t.lineTo(m,o),t.lineTo(m,h))};for(g&&(s=c[y(0)],t.moveTo(s.x,s.y)),a=0;a<=f;++a){if((s=c[y(a)]).skip)continue;let e=s.x,i=s.y,n=0|e;n===r?(i<o?o=i:i>l&&(l=i),m=(b*m+e)/++b):(x(),t.lineTo(e,i),r=n,b=0,o=l=i),h=i}x()}function ad(t){let e=t.options,i=e.borderDash&&e.borderDash.length,n=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!i;return n?ac:ah}const au="function"==typeof Path2D;class af extends nA{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let n=i.spanGaps?this._loop:this._fullLoop;!/**
 * @private
 */function(t,e,i,n,a){let s,r,o,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)!/**
 * This function calculates Bézier control points in a similar way than |splineCurve|,
 * but preserves monotonicity of the provided data and ensures no local extremums are added
 * between the dataset discrete points due to the interpolation.
 * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation
 */function(t,e="x"){let i,n,a;let s=ih(e),r=t.length,o=Array(r).fill(0),l=Array(r),h=il(t,0);for(i=0;i<r;++i)if(n=a,a=h,h=il(t,i+1),a){if(h){let t=h[e]-a[e];// In the case of two points that appear at the same x pixel, slopeDeltaX is 0
o[i]=0!==t?(h[s]-a[s])/t:0}l[i]=n?h?t1(o[i-1])!==t1(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}/**
 * Adjust tangents to ensure monotonic properties
 */(function(t,e,i){let n,a,s,r,o;let l=t.length,h=il(t,0);for(let c=0;c<l-1;++c)if(o=h,h=il(t,c+1),o&&h){if(t2(e[c],0,io)){i[c]=i[c+1]=0;continue}(r=Math.pow(n=i[c]/e[c],2)+Math.pow(a=i[c+1]/e[c],2))<=9||(s=3/Math.sqrt(r),i[c]=n*s*e[c],i[c+1]=a*s*e[c])}})(t,o,l),function(t,e,i="x"){let n,a,s;let r=ih(i),o=t.length,l=il(t,0);for(let h=0;h<o;++h){if(a=s,s=l,l=il(t,h+1),!s)continue;let o=s[i],c=s[r];a&&(n=(o-a[i])/3,s[`cp1${i}`]=o-n,s[`cp1${r}`]=c-n*e[h]),l&&(n=(l[i]-o)/3,s[`cp2${i}`]=o+n,s[`cp2${r}`]=c+n*e[h])}}(t,l,e)}(t,a);else{let i=n?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)l=function(t,e,i,n){// Props to Rob Spencer at scaled innovation for his post on splining between points
// http://scaledinnovation.com/analytics/splines/aboutSplines.html
// This function must also respect "skipped" points
let a=t.skip?e:t,s=i.skip?e:i,r=t7(e,a),o=t7(s,e),l=r/(r+o),h=o/(r+o);// If all points are the same, s01 & s02 will be inf
l=isNaN(l)?0:l,h=isNaN(h)?0:h;let c=n*l,d=n*h;// scaling factor for triangle Ta
return{previous:{x:e.x-c*(s.x-a.x),y:e.y-c*(s.y-a.y)},next:{x:e.x+d*(s.x-a.x),y:e.y+d*(s.y-a.y)}}}(i,o=t[s],t[Math.min(s+1,r-(n?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,i=o}e.capBezierPoints&&function(t,e){let i,n,a,s,r;let o=eB(t[0],e);for(i=0,n=t.length;i<n;++i)r=s,s=o,o=i<n-1&&eB(t[i+1],e),s&&(a=t[i],r&&(a.cp1x=ic(a.cp1x,e.left,e.right),a.cp1y=ic(a.cp1y,e.top,e.bottom)),o&&(a.cp2x=ic(a.cp2x,e.left,e.right),a.cp2y=ic(a.cp2y,e.top,e.bottom)))}(t,i)}(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){let i=t.points,n=t.options.spanGaps,a=i.length;if(!a)return[];let s=!!t._loop,{start:r,end:o}=function(t,e,i,n){let a=0,s=e-1;if(i&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,i&&(s+=a);s>a&&t[s%e].skip;)s--;return{start:a,end:s%=e}}(i,a,s,n);if(!0===n)return iI(t,[{start:r,end:o,loop:s}],i,e);let l=o<r?o+a:o,h=!!t._fullLoop&&0===r&&o===a-1;return iI(t,function(t,e,i,n){let a;let s=t.length,r=[],o=e,l=t[e];for(a=e+1;a<=i;++a){let i=t[a%s];i.skip||i.stop?l.skip||(n=!1,r.push({start:e%s,end:(a-1)%s,loop:n}),e=o=i.stop?a:null):(o=a,l.skip&&(e=a)),l=i}return null!==o&&r.push({start:e%s,end:o%s,loop:n}),r}(i,r,l,h),i,e)}(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i,n;let a=this.options,s=t[e],r=this.points,o=iE(this,{property:e,start:s,end:s});if(!o.length)return;let l=[],h=a.stepped?iS:a.tension||"monotone"===a.cubicInterpolationMode?iO:iM;for(i=0,n=o.length;i<n;++i){let{start:n,end:c}=o[i],d=r[n],u=r[c];if(d===u){l.push(d);continue}let f=Math.abs((s-d[e])/(u[e]-d[e])),g=h(d,u,f,a.stepped);g[e]=t[e],l.push(g)}return 1===l.length?l[0]:l}pathSegment(t,e,i){let n=ad(this);return n(t,this,e,i)}path(t,e,i){let n=this.segments,a=ad(this),s=this._loop;for(let r of(e=e||0,i=i||this.points.length-e,n))s&=a(t,this,r,{start:e,end:e+i-1});return!!s}draw(t,e,i,n){let a=this.options||{},s=this.points||[];s.length&&a.borderWidth&&(t.save(),function(t,e,i,n){if(au&&!e.options.segment){let a;(a=e._path)||(a=e._path=new Path2D,e.path(a,i,n)&&a.closePath()),ar(t,e.options),t.stroke(a)}else!function(t,e,i,n){let{segments:a,options:s}=e,r=ad(e);for(let o of a)ar(t,s,o.style),t.beginPath(),r(t,e,o,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}(t,e,i,n)}(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ag(t,e,i,n){let a=t.options,{[i]:s}=t.getProps([i],n);return Math.abs(e-s)<a.radius+a.hitRadius}function ap(t,e){let i,n,a,s,r;let{x:o,y:l,base:h,width:c,height:d}=t.getProps(["x","y","base","width","height"],e);return t.horizontal?(r=d/2,i=Math.min(o,h),n=Math.max(o,h),a=l-r,s=l+r):(i=o-(r=c/2),n=o+r,a=Math.min(l,h),s=Math.max(l,h)),{left:i,top:a,right:n,bottom:s}}function am(t,e,i,n){return t?0:en(e,i,n)}function ab(t,e,i,n){let a=null===e,s=null===i,r=t&&!(a&&s)&&ap(t,n);return r&&(a||ea(e,r.left,r.right))&&(s||ea(i,r.top,r.bottom))}function ay(t,e){t.rect(e.x,e.y,e.w,e.h)}function ax(t,e,i={}){let n=t.x!==i.x?-e:0,a=t.y!==i.y?-e:0,s=(t.x+t.w!==i.x+i.w?e:0)-n,r=(t.y+t.h!==i.y+i.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+r,radius:t.radius}}var a_=/*#__PURE__*/Object.freeze({__proto__:null,ArcElement:class extends nA{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let n=this.getProps(["x","y"],i),{angle:a,distance:s}=t8(n,{x:t,y:e}),{startAngle:r,endAngle:o,innerRadius:l,outerRadius:h,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,u=tP(c,o-r),f=u>=tY||ei(a,r,o),g=ea(s,l+d,h+d);return f&&g}getCenterPoint(t){let{x:e,y:i,startAngle:n,endAngle:a,innerRadius:s,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:l}=this.options,h=(n+a)/2,c=(s+r+l+o)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,n=(e.offset||0)/4,a=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>tY?Math.floor(i/tY):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let r=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(r)*n,Math.sin(r)*n);let o=1-Math.sin(Math.min(tU,i||0)),l=n*o;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,n,a){let{fullCircles:s,startAngle:r,circumference:o}=e,l=e.endAngle;if(s){as(t,e,i,n,l,a);for(let e=0;e<s;++e)t.fill();isNaN(o)||(l=r+(o%tY||tY))}as(t,e,i,n,l,a),t.fill()}(t,this,l,a,s),function(t,e,i,n,a){let{fullCircles:s,startAngle:r,circumference:o,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:d,borderDashOffset:u}=l,f="inner"===l.borderAlign;if(!h)return;t.setLineDash(d||[]),t.lineDashOffset=u,f?(t.lineWidth=2*h,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let g=e.endAngle;if(s){as(t,e,i,n,g,a);for(let e=0;e<s;++e)t.stroke();isNaN(o)||(g=r+(o%tY||tY))}f&&function(t,e,i){let{startAngle:n,pixelMargin:a,x:s,y:r,outerRadius:o,innerRadius:l}=e,h=a/o;// Draw an inner border by clipping the arc and drawing a double-width border
// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders
t.beginPath(),t.arc(s,r,o,n-h,i+h),l>a?(h=a/l,t.arc(s,r,l,i+h,n-h,!0)):t.arc(s,r,a,i+tZ,n-tZ),t.closePath(),t.clip()}(t,e,g),s||(as(t,e,i,n,g,a),t.stroke())}(t,this,l,a,s),t.restore()}},BarElement:class extends nA{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var e;let{inflateAmount:i,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:r}=function(t){let e=ap(t),i=e.right-e.left,n=e.bottom-e.top,a=function(t,e,i){let n=t.options.borderWidth,a=t.borderSkipped,s=eJ(n);return{t:am(a.top,s.top,0,i),r:am(a.right,s.right,0,e),b:am(a.bottom,s.bottom,0,i),l:am(a.left,s.left,0,e)}}(t,i/2,n/2),s=function(t,e,i){let{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=eQ(a),r=Math.min(e,i),o=t.borderSkipped,l=n||tS(a);return{topLeft:am(!l||o.top||o.left,s.topLeft,0,r),topRight:am(!l||o.top||o.right,s.topRight,0,r),bottomLeft:am(!l||o.bottom||o.left,s.bottomLeft,0,r),bottomRight:am(!l||o.bottom||o.right,s.bottomRight,0,r)}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:i-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}(this),o=(e=r.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?eY:ay;t.save(),(r.w!==s.w||r.h!==s.h)&&(t.beginPath(),o(t,ax(r,i,s)),t.clip(),o(t,ax(s,-i,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,ax(s,i)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return ab(this,t,e,i)}inXRange(t,e){return ab(this,t,null,e)}inYRange(t,e){return ab(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+n)/2:e,y:a?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:af,PointElement:class extends nA{static id="point";parsed;skip;stop;/**
   * @type {any}
   */static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};/**
   * @type {any}
   */static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){let n=this.options,{x:a,y:s}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return ag(this,t,"x",e)}inYRange(t,e){return ag(this,t,"y",e)}getCenterPoint(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);let i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){let i=this.options;!this.skip&&!(i.radius<.1)&&eB(this,e,this.size(i)/2)&&(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,eW(t,i,this.x,this.y))}getRange(){let t=this.options||{};// @ts-expect-error Fallbacks should never be hit in practice
return t.radius+t.hitRadius}}});const av=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"// grey
],aw=/* #__PURE__ */av.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function ak(t){return av[t%av.length]}function aM(t){return aw[t%aw.length]}function aS(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function aO(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function az(t){t.data.datasets.forEach(t=>{aO(t)})}function aP(t,e,i,n){if(n)return;let a=e[t],s=i[t];return"angle"===t&&(a=ee(a),s=ee(s)),{property:t,start:a,end:s}}function aD(t,e,i){for(;e>t;e--){let t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function aL(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function aC(t,e){let i=[],n=!1;return tM(t)?(n=!0,i=t):i=function(t,e){let{x:i=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:t,end:e})=>{e=aD(t,e,a);let r=a[t],o=a[e];null!==n?(s.push({x:r.x,y:n}),s.push({x:o.x,y:n})):null!==i&&(s.push({x:i,y:r.y}),s.push({x:i,y:o.y}))}),s}(t,e),i.length?new af({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function aA(t){return t&&!1!==t.fill}class aE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:n,y:a,radius:s}=this;return e=e||{start:0,end:tY},t.arc(n,a,s,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:n}=this,a=t.angle;return{x:e+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}}function aI(t,e,i){let n=function(t){let{chart:e,fill:i,line:n}=t;if(tO(i))return function(t,e){let i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}(e,i);if("stack"===i)return function(t){let{scale:e,index:i,line:n}=t,a=[],s=n.segments,r=n.points,o=function(t,e){let i=[],n=t.getMatchingVisibleMetas("line");for(let t=0;t<n.length;t++){let a=n[t];if(a.index===e)break;a.hidden||i.unshift(a.dataset)}return i}(e,i);o.push(aC({x:null,y:e.bottom},n));for(let t=0;t<s.length;t++){let e=s[t];for(let t=e.start;t<=e.end;t++)!function(t,e,i){let n=[];for(let a=0;a<i.length;a++){let s=i[a],{first:r,last:o,point:l}=function(t,e,i){let n=t.interpolate(e,i);if(!n)return{};let a=n[i],s=t.segments,r=t.points,o=!1,l=!1;for(let t=0;t<s.length;t++){let e=s[t],n=r[e.start][i],h=r[e.end][i];if(ea(a,n,h)){o=a===n,l=a===h;break}}return{first:o,last:l,point:n}}(s,e,"x");if(l&&(!r||!o)){if(r)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}(a,r[t],o)}return new af({points:a,options:{}})}(t);if("shape"===i)return!0;let a=function(t){let e=t.scale||{};return e.getPointPositionForValue?function(t){let{scale:e,fill:i}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,r="start"===i?s:"end"===i?e.options.reverse?e.min:e.max:tS(i)?i.value:e.getBaseValue(),o=[];if(n.grid.circular){let t=e.getPointPositionForValue(0,s);return new aE({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let t=0;t<a;++t)o.push(e.getPointPositionForValue(t,r));return o}(t):function(t){let e;let{scale:i={},fill:n}=t,a=(e=null,"start"===n?e=i.bottom:"end"===n?e=i.top:tS(n)?e=i.getPixelForValue(n.value):i.getBasePixel&&(e=i.getBasePixel()),e);if(tO(a)){let t=i.isHorizontal();return{x:t?a:null,y:t?null:a}}return null}(t)}(t);return a instanceof aE?a:aC(a,n)}(e),{line:a,scale:s,axis:r}=e,o=a.options,l=o.fill,h=o.backgroundColor,{above:c=h,below:d=h}=l||{};n&&a.points.length&&(eK(t,i),function(t,e){let{line:i,target:n,above:a,below:s,area:r,scale:o}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&s!==a&&(aT(t,n,r.top),aj(t,{line:i,target:n,color:a,scale:o,property:l}),t.restore(),t.save(),aT(t,n,r.bottom)),aj(t,{line:i,target:n,color:s,scale:o,property:l}),t.restore()}(t,{line:a,target:n,above:c,below:d,area:i,scale:s,axis:r}),eV(t))}function aT(t,e,i){let{segments:n,points:a}=e,s=!0,r=!1;for(let o of(t.beginPath(),n)){let{start:n,end:l}=o,h=a[n],c=a[aD(n,l,a)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),(r=!!e.pathSegment(t,o,{move:r}))?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function aj(t,e){let{line:i,target:n,property:a,color:s,scale:r}=e,o=function(t,e,i){let n=t.segments,a=t.points,s=e.points,r=[];for(let t of n){let{start:n,end:o}=t;o=aD(n,o,a);let l=aP(i,a[n],a[o],t.loop);if(!e.segments){r.push({source:t,target:l,start:a[n],end:a[o]});continue}let h=iE(e,l);for(let e of h){let n=aP(i,s[e.start],s[e.end],e.loop),o=iA(t,a,n);for(let t of o)r.push({source:t,target:e,start:{[i]:aL(l,n,"start",Math.max)},end:{[i]:aL(l,n,"end",Math.min)}})}}return r}(i,n,a);for(let{source:e,target:l,start:h,end:c}of o){let o;let{style:{backgroundColor:d=s}={}}=e,u=!0!==n;t.save(),t.fillStyle=d,function(t,e,i){let{top:n,bottom:a}=e.chart.chartArea,{property:s,start:r,end:o}=i||{};"x"===s&&(t.beginPath(),t.rect(r,n,o-r,a-n),t.clip())}(t,r,u&&aP(a,h,c)),t.beginPath();let f=!!i.pathSegment(t,e);if(u){f?t.closePath():aF(t,n,c,a);let e=!!n.pathSegment(t,l,{move:f,reverse:!0});(o=f&&e)||aF(t,n,h,a)}t.closePath(),t.fill(o?"evenodd":"nonzero"),t.restore()}}function aF(t,e,i,n){let a=e.interpolate(i,n);a&&t.lineTo(a.x,a.y)}const aR=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},aW=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class aN extends nA{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=tC(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,i)=>t.sort(e,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let t,e;let{options:i,ctx:n}=this;if(!i.display){this.width=this.height=0;return}let a=i.labels,s=e1(a.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=aR(a,r);n.font=s.string,this.isHorizontal()?(t=this.maxWidth,e=this._fitRows(o,r,l,h)+10):(e=this.maxHeight,t=this._fitCols(o,s,l,h)+10),this.width=Math.min(t,i.maxWidth||this.maxWidth),this.height=Math.min(e,i.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){let{ctx:a,maxWidth:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],h=n+r,c=t;a.textAlign="left",a.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach((t,f)=>{let g=i+e/2+a.measureText(t.text).width;(0===f||l[l.length-1]+g+2*r>s)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),o[f]={left:0,top:u,row:d,width:g,height:n},l[l.length-1]+=g+r}),c}_fitCols(t,e,i,n){let{ctx:a,maxHeight:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],h=s-t,c=r,d=0,u=0,f=0,g=0;return this.legendItems.forEach((t,s)=>{let{itemWidth:p,itemHeight:m}=function(t,e,i,n,a){var s;let r,o;let l=((r=n.text)&&"string"!=typeof r&&(r=r.reduce((t,e)=>t.length>e.length?t:e)),t+e.size/2+i.measureText(r).width),h=(s=e.lineHeight,o=a,"string"!=typeof n.text&&(o=aB(n,s)),o);return{itemWidth:l,itemHeight:h}}(i,e,a,t,n);s>0&&u+m+2*r>h&&(c+=d+r,l.push({width:d,height:u}),f+=d+r,g++,d=u=0),o[s]={left:f,top:u,col:g,width:p,height:m},d=Math.max(d,p),u+=m+r}),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:a}}=this,s=iz(a,this.left,this.width);if(this.isHorizontal()){let a=0,r=eg(i,this.left+n,this.right-this.lineWidths[a]);for(let o of e)a!==o.row&&(a=o.row,r=eg(i,this.left+n,this.right-this.lineWidths[a])),o.top+=this.top+t+n,o.left=s.leftForLtr(s.x(r),o.width),r+=o.width+n}else{let a=0,r=eg(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(let o of e)o.col!==a&&(a=o.col,r=eg(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),o.top=r,o.left+=this.left+n,o.left=s.leftForLtr(s.x(o.left),o.width),r+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let t=this.ctx;eK(t,this),this._draw(),eV(t)}}_draw(){let t;let{options:e,columnSizes:i,lineWidths:n,ctx:a}=this,{align:s,labels:r}=e,o=eT.color,l=iz(e.rtl,this.left,this.width),h=e1(r.font),{padding:c}=r,d=h.size,u=d/2;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;let{boxWidth:f,boxHeight:g,itemHeight:p}=aR(r,d),m=function(t,e,i){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;a.save();let n=tP(i.lineWidth,1);if(a.fillStyle=tP(i.fillStyle,o),a.lineCap=tP(i.lineCap,"butt"),a.lineDashOffset=tP(i.lineDashOffset,0),a.lineJoin=tP(i.lineJoin,"miter"),a.lineWidth=n,a.strokeStyle=tP(i.strokeStyle,o),a.setLineDash(tP(i.lineDash,[])),r.usePointStyle){let s={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},o=l.xPlus(t,f/2),h=e+u;eN(a,s,o,h,r.pointStyleWidth&&f)}else{let s=e+Math.max((d-g)/2,0),r=l.leftForLtr(t,f),o=eQ(i.borderRadius);a.beginPath(),Object.values(o).some(t=>0!==t)?eY(a,{x:r,y:s,w:f,h:g,radius:o}):a.rect(r,s,f,g),a.fill(),0!==n&&a.stroke()}a.restore()},b=function(t,e,i){eU(a,i.text,t,e+p/2,h,{strikethrough:i.hidden,textAlign:l.textAlign(i.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();t=y?{x:eg(s,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:eg(s,this.top+x+c,this.bottom-i[0].height),line:0},iP(this.ctx,e.textDirection);let _=p+c;this.legendItems.forEach((o,d)=>{a.strokeStyle=o.fontColor,a.fillStyle=o.fontColor;let g=a.measureText(o.text).width,p=l.textAlign(o.textAlign||(o.textAlign=r.textAlign)),v=f+u+g,w=t.x,k=t.y;l.setWidth(this.width),y?d>0&&w+v+c>this.right&&(k=t.y+=_,t.line++,w=t.x=eg(s,this.left+c,this.right-n[t.line])):d>0&&k+_>this.bottom&&(w=t.x=w+i[t.line].width+c,t.line++,k=t.y=eg(s,this.top+x+c,this.bottom-i[t.line].height));let M=l.x(w);if(m(M,k,o),w=ep(p,w+f+u,y?w+v:this.right,e.rtl),b(l.x(w),k,o),y)t.x+=v+c;else if("string"!=typeof o.text){let e=h.lineHeight;t.y+=aB(o,e)+c}else t.y+=_}),iD(this.ctx,e.textDirection)}drawTitle(){let t;let e=this.options,i=e.title,n=e1(i.font),a=e0(i.padding);if(!i.display)return;let s=iz(e.rtl,this.left,this.width),r=this.ctx,o=i.position,l=n.size/2,h=a.top+l,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),t=this.top+h,c=eg(e.align,c,this.right-d);else{let i=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);t=h+eg(e.align,this.top,this.bottom-i-e.labels.padding-this._computeTitleHeight())}let u=eg(o,c,c+d);r.textAlign=s.textAlign(ef(o)),r.textBaseline="middle",r.strokeStyle=i.color,r.fillStyle=i.color,r.font=n.string,eU(r,i.text,u,t,n)}_computeTitleHeight(){let t=this.options.title,e=e1(t.font),i=e0(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,a;if(ea(t,this.left,this.right)&&ea(e,this.top,this.bottom)){for(i=0,a=this.legendHitBoxes;i<a.length;++i)if(ea(t,(n=a[i]).left,n.left+n.width)&&ea(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){var e;let i=this.options;if(("mousemove"!==(e=t.type)&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))return;let n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){let e=this._hoveredItem,a=aW(e,n);e&&!a&&tC(i.onLeave,[t,e,this],this),this._hoveredItem=n,n&&!a&&tC(i.onHover,[t,n,this],this)}else n&&tC(i.onClick,[t,n,this],this)}}function aB(t,e){let i=t.text?t.text.length:0;return e*i}class aK extends nA{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let n=tM(i.text)?i.text.length:1;this._padding=e0(i.padding);let a=n*e1(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){let e,i,n;let{top:a,left:s,bottom:r,right:o,options:l}=this,h=l.align,c=0;return this.isHorizontal()?(i=eg(h,s,o),n=a+t,e=o-s):("left"===l.position?(i=s+t,n=eg(h,r,a),c=-.5*tU):(i=o-t,n=eg(h,a,r),c=.5*tU),e=r-a),{titleX:i,titleY:n,maxWidth:e,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=e1(e.font),n=i.lineHeight,a=n/2+this._padding.top,{titleX:s,titleY:r,maxWidth:o,rotation:l}=this._drawArgs(a);eU(t,e.text,0,0,i,{color:e.color,maxWidth:o,rotation:l,textAlign:ef(e.align),textBaseline:"middle",translation:[s,r]})}}const aV=new WeakMap,aH={average(t){let e,i;if(!t.length)return!1;let n=0,a=0,s=0;for(e=0,i=t.length;e<i;++e){let i=t[e].element;if(i&&i.hasValue()){let t=i.tooltipPosition();n+=t.x,a+=t.y,++s}}return{x:n/s,y:a/s}},nearest(t,e){let i,n,a;if(!t.length)return!1;let s=e.x,r=e.y,o=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){let n=t[i].element;if(n&&n.hasValue()){let t=n.getCenterPoint(),i=t7(e,t);i<o&&(o=i,a=n)}}if(a){let t=a.tooltipPosition();s=t.x,r=t.y}return{x:s,y:r}}};function a$(t,e){return e&&(tM(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function aU(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function aY(t,e){let i=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:r,boxHeight:o}=e,l=e1(e.bodyFont),h=e1(e.titleFont),c=e1(e.footerFont),d=s.length,u=a.length,f=n.length,g=e0(e.padding),p=g.height,m=0,b=n.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){let t=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*t+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}u&&(p+=e.footerMarginTop+u*c.lineHeight+(u-1)*e.footerSpacing);let y=0,x=function(t){m=Math.max(m,i.measureText(t).width+y)};return i.save(),i.font=h.string,tA(t.title,x),i.font=l.string,tA(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?r+2+e.boxPadding:0,tA(n,t=>{tA(t.before,x),tA(t.lines,x),tA(t.after,x)}),y=0,i.font=c.string,tA(t.footer,x),i.restore(),{width:m+=g.width,height:p}}function aq(t,e,i){let n=i.yAlign||e.yAlign||function(t,e){let{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||function(t,e,i,n){let{x:a,width:s}=i,{width:r,chartArea:{left:o,right:l}}=t,h="center";return"center"===n?h=a<=(o+l)/2?"left":"right":a<=s/2?h="left":a>=r-s/2&&(h="right"),function(t,e,i,n){let{x:a,width:s}=n,r=i.caretSize+i.caretPadding;if("left"===t&&a+s+r>e.width||"right"===t&&a-s-r<0)return!0}(h,t,e,i)&&(h="center"),h}(t,e,i,n),yAlign:n}}function aX(t,e,i,n){let{caretSize:a,caretPadding:s,cornerRadius:r}=t,{xAlign:o,yAlign:l}=i,h=a+s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=eQ(r),g=function(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}(e,o),p=function(t,e,i){let{y:n,height:a}=t;return"top"===e?n+=i:"bottom"===e?n-=a+i:n-=a/2,n}(e,l,h);return"center"===l?"left"===o?g+=h:"right"===o&&(g-=h):"left"===o?g-=Math.max(c,u)+a:"right"===o&&(g+=Math.max(d,f)+a),{x:en(g,0,n.width-e.width),y:en(p,0,n.height-e.height)}}function aG(t,e,i){let n=e0(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function aZ(t,e){let i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const aJ={beforeTitle:tv,title(t){if(t.length>0){let e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:tv,beforeBody:tv,beforeLabel:tv,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let i=t.formattedValue;return tk(i)||(e+=i),e},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:tv,afterBody:tv,beforeFooter:tv,footer:tv,afterFooter:tv};function aQ(t,e,i,n){let a=t[e].call(i,n);return void 0===a?aJ[e].call(i,n):a}class a0 extends nA{static positioners=aH;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,a=new iN(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=e5(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,e){let{callbacks:i}=e,n=aQ(i,"beforeTitle",this,t),a=aQ(i,"title",this,t),s=aQ(i,"afterTitle",this,t),r=[];return r=a$(r,aU(n)),r=a$(r,aU(a)),r=a$(r,aU(s))}getBeforeBody(t,e){return a$([],aU(aQ(e.callbacks,"beforeBody",this,t)))}getBody(t,e){let{callbacks:i}=e,n=[];return tA(t,t=>{let e={before:[],lines:[],after:[]},a=aZ(i,t);a$(e.before,aU(aQ(a,"beforeLabel",this,t))),a$(e.lines,aQ(a,"label",this,t)),a$(e.after,aU(aQ(a,"afterLabel",this,t))),n.push(e)}),n}getAfterBody(t,e){return a$([],aU(aQ(e.callbacks,"afterBody",this,t)))}getFooter(t,e){let{callbacks:i}=e,n=aQ(i,"beforeFooter",this,t),a=aQ(i,"footer",this,t),s=aQ(i,"afterFooter",this,t),r=[];return r=a$(r,aU(n)),r=a$(r,aU(a)),r=a$(r,aU(s))}_createItems(t){let e,i;let n=this._active,a=this.chart.data,s=[],r=[],o=[],l=[];for(e=0,i=n.length;e<i;++e)l.push(function(t,e){let{element:i,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:r,value:o}=s.getLabelAndValue(a);return{chart:t,label:r,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:o,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:i}}(this.chart,n[e]));return t.filter&&(l=l.filter((e,i,n)=>t.filter(e,i,n,a))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,a))),tA(l,e=>{let i=aZ(t.callbacks,e);s.push(aQ(i,"labelColor",this,e)),r.push(aQ(i,"labelPointStyle",this,e)),o.push(aQ(i,"labelTextColor",this,e))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){let i;let n=this.options.setContext(this.getContext()),a=this._active,s=[];if(a.length){let t=aH[n.position].call(this,a,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);let e=this._size=aY(this,n),r=Object.assign({},t,e),o=aq(this.chart,n,r),l=aX(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){let a=this.getCaretPosition(t,i,n);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){let n,a,s,r,o,l;let{xAlign:h,yAlign:c}=this,{caretSize:d,cornerRadius:u}=i,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:m}=eQ(u),{x:b,y:y}=t,{width:x,height:_}=e;return"center"===c?(o=y+_/2,"left"===h?(a=(n=b)-d,r=o+d,l=o-d):(a=(n=b+x)+d,r=o-d,l=o+d),s=n):(a="left"===h?b+Math.max(f,p)+d:"right"===h?b+x-Math.max(g,m)-d:this.caretX,"top"===c?(o=(r=y)-d,n=a-d,s=a+d):(o=(r=y+_)+d,n=a+d,s=a-d),l=r),{x1:n,x2:a,x3:s,y1:r,y2:o,y3:l}}drawTitle(t,e,i){let n,a,s;let r=this.title,o=r.length;if(o){let l=iz(i.rtl,this.x,this.width);for(s=0,t.x=aG(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",n=e1(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=n.string;s<o;++s)e.fillText(r[s],l.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+a,s+1===o&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,n,a){let s=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:o,boxWidth:l}=a,h=e1(a.bodyFont),c=aG(this,"left",a),d=n.x(c),u=o<h.lineHeight?(h.lineHeight-o)/2:0,f=e.y+u;if(a.usePointStyle){let e={radius:Math.min(l,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=n.leftForLtr(d,l)+l/2,h=f+o/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,eW(t,e,i,h),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,eW(t,e,i,h)}else{t.lineWidth=tS(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let e=n.leftForLtr(d,l),i=n.leftForLtr(n.xPlus(d,1),l-2),r=eQ(s.borderRadius);Object.values(r).some(t=>0!==t)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,eY(t,{x:e,y:f,w:l,h:o,radius:r}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),eY(t,{x:i,y:f+1,w:l-2,h:o-2,radius:r}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(e,f,l,o),t.strokeRect(e,f,l,o),t.fillStyle=s.backgroundColor,t.fillRect(i,f+1,l-2,o-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let n,a,s,r,o,l,h;let{body:c}=this,{bodySpacing:d,bodyAlign:u,displayColors:f,boxHeight:g,boxWidth:p,boxPadding:m}=i,b=e1(i.bodyFont),y=b.lineHeight,x=0,_=iz(i.rtl,this.x,this.width),v=function(i){e.fillText(i,_.x(t.x+x),t.y+y/2),t.y+=y+d},w=_.textAlign(u);for(e.textAlign=u,e.textBaseline="middle",e.font=b.string,t.x=aG(this,w,i),e.fillStyle=i.bodyColor,tA(this.beforeBody,v),x=f&&"right"!==w?"center"===u?p/2+m:p+2+m:0,r=0,l=c.length;r<l;++r){for(n=c[r],a=this.labelTextColors[r],e.fillStyle=a,tA(n.before,v),s=n.lines,f&&s.length&&(this._drawColorBox(e,t,r,_,i),y=Math.max(b.lineHeight,g)),o=0,h=s.length;o<h;++o)v(s[o]),y=b.lineHeight;tA(n.after,v)}x=0,y=b.lineHeight,tA(this.afterBody,v),t.y-=d}drawFooter(t,e,i){let n,a;let s=this.footer,r=s.length;if(r){let o=iz(i.rtl,this.x,this.width);for(t.x=aG(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=o.textAlign(i.footerAlign),e.textBaseline="middle",n=e1(i.footerFont),e.fillStyle=i.footerColor,e.font=n.string,a=0;a<r;++a)e.fillText(s[a],o.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){let{xAlign:a,yAlign:s}=this,{x:r,y:o}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=eQ(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(r+c,o),"top"===s&&this.drawCaret(t,e,i,n),e.lineTo(r+l-d,o),e.quadraticCurveTo(r+l,o,r+l,o+d),"center"===s&&"right"===a&&this.drawCaret(t,e,i,n),e.lineTo(r+l,o+h-f),e.quadraticCurveTo(r+l,o+h,r+l-f,o+h),"bottom"===s&&this.drawCaret(t,e,i,n),e.lineTo(r+u,o+h),e.quadraticCurveTo(r,o+h,r,o+h-u),"center"===s&&"left"===a&&this.drawCaret(t,e,i,n),e.lineTo(r,o+c),e.quadraticCurveTo(r,o,r+c,o),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,i=this.$animations,n=i&&i.x,a=i&&i.y;if(n||a){let i=aH[t.position].call(this,this._active,this._eventPosition);if(!i)return;let s=this._size=aY(this,t),r=Object.assign({},i,this._size),o=aq(e,t,r),l=aX(t,r,o,e);(n._to!==l.x||a._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let n={width:this.width,height:this.height},a={x:this.x,y:this.y};i=.001>Math.abs(i)?0:i;let s=e0(e.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&r&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,n,e),iP(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),iD(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,n=t.map(({datasetIndex:t,index:e})=>{let i=this.chart.getDatasetMeta(t);if(!i)throw Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}),a=!tE(i,n),s=this._positionChanged(n,e);(a||s)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let n=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,i),r=this._positionChanged(s,t),o=e||!tE(s,a)||r;return o&&(this._active=s,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),o}_getActiveElements(t,e,i,n){let a=this.options;if("mouseout"===t.type)return[];if(!n)return e;let s=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&s.reverse(),s}_positionChanged(t,e){let{caretX:i,caretY:n,options:a}=this,s=aH[a.position].call(this,t,e);return!1!==s&&(i!==s.x||n!==s.y)}}var a1=/*#__PURE__*/Object.freeze({__proto__:null,Colors:{id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){let n;if(!i.enabled)return;let{data:{datasets:a},options:s}=t.config,{elements:r}=s;if(!i.forceOverride&&(aS(a)||s&&(s.borderColor||s.backgroundColor)||r&&aS(r)))return;let o=(n=0,(e,i)=>{var a,s,r;let o=t.getDatasetMeta(i).controller;o instanceof i3?(a=n,e.backgroundColor=e.data.map(()=>ak(a++)),n=a):o instanceof i6?(s=n,e.backgroundColor=e.data.map(()=>aM(s++)),n=s):o&&(r=n,e.borderColor=ak(r),e.backgroundColor=aM(r),n=++r)});a.forEach(o)}},Decimation:{id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){az(t);return}let n=t.width;t.data.datasets.forEach((e,a)=>{let s;let{_data:r,indexAxis:o}=e,l=t.getDatasetMeta(a),h=r||e.data;if("y"===e2([o,t.options.indexAxis])||!l.controller.supportsDecimation)return;let c=t.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type||t.options.parsing)return;let{start:d,count:u}=function(t,e){let i;let n=e.length,a=0,{iScale:s}=t,{min:r,max:o,minDefined:l,maxDefined:h}=s.getUserBounds();return l&&(a=en(er(e,s.axis,r).lo,0,n-1)),i=h?en(er(e,s.axis,o).hi+1,a,n)-a:n-a,{start:a,count:i}}(l,h),f=i.threshold||4*n;if(u<=f){aO(e);return}switch(tk(r)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":s=function(t,e,i,n,a){let s,r,o,l,h;let c=a.samples||n;if(c>=i)return t.slice(e,e+i);let d=[],u=(i-2)/(c-2),f=0,g=e+i-1,p=e;for(s=0,d[f++]=t[p];s<c-2;s++){let n,a=0,c=0,g=Math.floor((s+1)*u)+1+e,m=Math.min(Math.floor((s+2)*u)+1,i)+e,b=m-g;for(n=g;n<m;n++)a+=t[n].x,c+=t[n].y;a/=b,c/=b;let y=Math.floor(s*u)+1+e,x=Math.min(Math.floor((s+1)*u)+1,i)+e,{x:_,y:v}=t[p];for(o=l=-1,n=y;n<x;n++)(l=.5*Math.abs((_-a)*(t[n].y-v)-(_-t[n].x)*(c-v)))>o&&(o=l,r=t[n],h=n);d[f++]=r,p=h}return d[f++]=t[g],d}(h,d,u,n,i);break;case"min-max":s=function(t,e,i,n){let a,s,r,o,l,h,c,d,u,f,g=0,p=0,m=[],b=t[e].x,y=t[e+i-1].x,x=y-b;for(a=e;a<e+i;++a){r=((s=t[a]).x-b)/x*n,o=s.y;let e=0|r;if(e===l)o<u?(u=o,h=a):o>f&&(f=o,c=a),g=(p*g+s.x)/++p;else{let i=a-1;if(!tk(h)&&!tk(c)){let e=Math.min(h,c),n=Math.max(h,c);e!==d&&e!==i&&m.push({...t[e],x:g}),n!==d&&n!==i&&m.push({...t[n],x:g})}a>0&&i!==d&&m.push(t[i]),m.push(s),l=e,p=0,u=f=o,h=c=d=a}}return m}(h,d,u,n);break;default:throw Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=s})},destroy(t){az(t)}},Filler:{id:"filler",afterDatasetsUpdate(t,e,i){let n,a,s,r;let o=(t.data.datasets||[]).length,l=[];for(a=0;a<o;++a)s=(n=t.getDatasetMeta(a)).dataset,r=null,s&&s.options&&s instanceof af&&(r={visible:t.isDatasetVisible(a),index:a,fill:function(t,e,i){var n,a;let s=function(t){let e=t.options,i=e.fill,n=tP(i&&i.target,i);return void 0===n&&(n=!!e.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(t);if(tS(s))return!isNaN(s.value)&&s;let r=parseFloat(s);return tO(r)&&Math.floor(r)===r?(n=s[0],a=r,("-"===n||"+"===n)&&(a=e+a),a!==e&&!(a<0)&&!(a>=i)&&a):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}(s,a,o),chart:t,axis:n.controller.options.indexAxis,scale:n.vScale,line:s}),n.$filler=r,l.push(r);for(a=0;a<o;++a)(r=l[a])&&!1!==r.fill&&(r.fill=function(t,e,i){let n;let a=t[e],s=a.fill,r=[e];if(!i)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!tO(s))return s;if(!(n=t[s]))break;if(n.visible)return s;r.push(s),s=n.fill}return!1}(l,a,i.propagate))},beforeDraw(t,e,i){let n="beforeDraw"===i.drawTime,a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let e=a.length-1;e>=0;--e){let i=a[e].$filler;i&&(i.line.updateControlPoints(s,i.axis),n&&i.fill&&aI(t.ctx,i,s))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;let n=t.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e){let i=n[e].$filler;aA(i)&&aI(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){let n=e.meta.$filler;aA(n)&&"beforeDatasetDraw"===i.drawTime&&aI(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Legend:{id:"legend",_element:aN,start(t,e,i){let n=t.legend=new aN({ctx:t.ctx,options:i,chart:t});ng.configure(t,n,i),ng.addBox(t,n)},stop(t){ng.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){let n=t.legend;ng.configure(t,n,i),n.options=i},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){let n=e.datasetIndex,a=i.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:a,color:s,useBorderRadius:r,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{let l=t.controller.getStyle(i?0:void 0),h=e0(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:r&&(o||l.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},SubTitle:{id:"subtitle",start(t,e,i){let n=new aK({ctx:t.ctx,options:i,chart:t});ng.configure(t,n,i),ng.addBox(t,n),aV.set(t,n)},stop(t){ng.removeBox(t,aV.get(t)),aV.delete(t)},beforeUpdate(t,e,i){let n=aV.get(t);ng.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Title:{id:"title",_element:aK,start(t,e,i){!function(t,e){let i=new aK({ctx:t.ctx,options:e,chart:t});ng.configure(t,i,e),ng.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){let e=t.titleBlock;ng.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){let n=t.titleBlock;ng.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tooltip:{id:"tooltip",_element:a0,positioners:aH,afterInit(t,e,i){i&&(t.tooltip=new a0({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){let i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});const a2=(t,e,i,n)=>("string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i),a5=(t,e)=>null===t?null:en(Math.round(t),0,e);function a3(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function a6(t,e,{horizontal:i,minRotation:n}){let a=t9(n),s=(i?Math.sin(a):Math.cos(a))||.001,r=.75*e*(""+t).length;return Math.min(e/s,r)}class a9 extends nN{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return tk(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this,s=t=>n=e?n:t,r=t=>a=i?a:t;if(t){let t=t1(n),e=t1(a);t<0&&e<0?r(0):t>0&&e>0&&s(0)}if(n===a){let e=0===a?1:Math.abs(.05*a);r(a+e),t||s(n-e)}this.min=n,this.max=a}getTickLimit(){let t;let e=this.options.ticks,{maxTicksLimit:i,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},a=this._range||this,s=function(t,e){let i,n,a,s;let r=[],{bounds:o,step:l,min:h,max:c,precision:d,count:u,maxTicks:f,maxDigits:g,includeBounds:p}=t,m=l||1,b=f-1,{min:y,max:x}=e,_=!tk(h),v=!tk(c),w=!tk(u),k=(x-y)/(g+1),M=t5((x-y)/b/m)*m;if(M<1e-14&&!_&&!v)return[{value:y},{value:x}];(s=Math.ceil(x/M)-Math.floor(y/M))>b&&(M=t5(s*M/b/m)*m),tk(d)||(M=Math.ceil(M*(i=Math.pow(10,d)))/i),"ticks"===o?(n=Math.floor(y/M)*M,a=Math.ceil(x/M)*M):(n=y,a=x),_&&v&&l&&function(t,e){let i=Math.round(t);return i-e<=t&&i+e>=t}((c-h)/l,M/1e3)?(s=Math.round(Math.min((c-h)/M,f)),M=(c-h)/s,n=h,a=c):w?(n=_?h:n,M=((a=v?c:a)-n)/(s=u-1)):s=t2(s=(a-n)/M,Math.round(s),M/1e3)?Math.round(s):Math.ceil(s);let S=Math.max(t4(M),t4(n));n=Math.round(n*(i=Math.pow(10,tk(d)?S:d)))/i,a=Math.round(a*i)/i;let O=0;for(_&&(p&&n!==h?(r.push({value:h}),n<h&&O++,t2(Math.round((n+O*M)*i)/i,h,a6(h,k,t))&&O++):n<h&&O++);O<s;++O){let t=Math.round((n+O*M)*i)/i;if(v&&t>c)break;r.push({value:t})}return v&&p&&a!==c?r.length&&t2(r[r.length-1].value,c,a6(c,k,t))?r[r.length-1].value=c:r.push({value:c}):v&&a!==c||r.push({value:a}),r}(n,a);return"ticks"===t.bounds&&t6(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return eP(t,this.chart.options.locale,this.options.ticks.format)}}class a4 extends a9{static id="linear";static defaults={ticks:{callback:eL.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=tO(t)?t:0,this.max=tO(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=t9(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const a8=t=>Math.floor(t0(t)),a7=(t,e)=>Math.pow(10,a8(t)+e);function st(t){let e=t/Math.pow(10,a8(t));return 1===e}function se(t,e,i){let n=Math.pow(10,i),a=Math.floor(t/n),s=Math.ceil(e/n);return s-a}class si extends nN{static id="logarithmic";static defaults={ticks:{callback:eL.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=a9.prototype.parse.apply(this,[t,e]);if(0===i){this._zero=!0;return}return tO(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=tO(t)?Math.max(0,t):null,this.max=tO(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tO(this._userMin)&&(this.min=t===a7(this.min,0)?a7(this.min,-1):a7(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,n=this.max,a=e=>i=t?i:e,s=t=>n=e?n:t;i===n&&(i<=0?(a(1),s(10)):(a(a7(i,-1)),s(a7(n,1)))),i<=0&&a(a7(n,-1)),n<=0&&s(a7(i,1)),this.min=i,this.max=n}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=function(t,{min:e,max:i}){e=tz(t.min,e);let n=[],a=a8(e),s=function(t,e){let i=e-t,n=a8(i);for(;se(t,e,n)>10;)n++;for(;10>se(t,e,n);)n--;return Math.min(n,a8(t))}(e,i),r=s<0?Math.pow(10,Math.abs(s)):1,o=Math.pow(10,s),l=a>s?Math.pow(10,a):0,h=Math.round((e-l)*r)/r,c=Math.floor((e-l)/o/10)*o*10,d=Math.floor((h-c)/Math.pow(10,s)),u=tz(t.min,Math.round((l+c+d*Math.pow(10,s))*r)/r);for(;u<i;)n.push({value:u,major:st(u),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,r=++s>=0?1:r),u=Math.round((l+c+d*Math.pow(10,s))*r)/r;let f=tz(t.max,u);return n.push({value:f,major:st(f),significand:d}),n}(e,this);return"ticks"===t.bounds&&t6(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":eP(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=t0(t),this._valueRange=t0(this.max)-t0(t)}getPixelForValue(t){return((void 0===t||0===t)&&(t=this.min),null===t||isNaN(t))?NaN:this.getPixelForDecimal(t===this.min?0:(t0(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function sn(t){let e=t.ticks;if(e.display&&t.display){let t=e0(e.backdropPadding);return tP(e.font&&e.font.size,eT.font.size)+t.height}return 0}function sa(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||t>a?{start:e-i,end:e}:{start:e,end:e+i}}function ss(t,e,i,n){let{ctx:a}=t;if(i)a.arc(t.xCenter,t.yCenter,e,0,tY);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let s=1;s<n;s++)i=t.getPointPosition(s,e),a.lineTo(i.x,i.y)}}class sr extends a9{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=e0(sn(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=tO(t)&&!isNaN(t)?t:0,this.max=tO(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sn(this.options))}generateTickLabels(t){a9.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{let i=tC(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){let t=this.options;t.display&&t.pointLabels.display?function(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,r=t.options.pointLabels,o=r.centerPointLabels?tU/s:0;for(let c=0;c<s;c++){var l,h;let s=r.setContext(t.getPointLabelContext(c));a[c]=s.padding;let d=t.getPointPosition(c,t.drawingArea+a[c],o),u=e1(s.font),f=(l=t.ctx,h=tM(h=t._pointLabels[c])?h:[h],{w:/**
 * @private
 */// eslint-disable-next-line complexity
function(t,e,i,n){let a,s,r,o,l;let h=(n=n||{}).data=n.data||{},c=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(h=n.data={},c=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let d=0,u=i.length;for(a=0;a<u;a++)// Undefined strings and arrays should not be measured
if(null==(o=i[a])||tM(o)){if(tM(o))// to do maybe simplify this function a bit so we can do this more recursively?
for(s=0,r=o.length;s<r;s++)// Undefined strings and arrays should not be measured
null==(l=o[s])||tM(l)||(d=ej(t,h,c,d,l))}else d=ej(t,h,c,d,o);t.restore();let f=c.length/2;if(f>i.length){for(a=0;a<f;a++)delete h[c[a]];c.splice(0,f)}return d}(l,u.string,h),h:h.length*u.lineHeight});n[c]=f;let g=ee(t.getIndexAngle(c)+o),p=Math.round(g*(180/tU)),m=sa(p,d.x,f.w,0,180),b=sa(p,d.y,f.h,90,270);!function(t,e,i,n,a){let s=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i)),o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),a.start<e.t?(l=(e.t-a.start)/r,t.t=Math.min(t.t,e.t-l)):a.end>e.b&&(l=(a.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}(i,e,g,m,b)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){let n;let a=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:l}=r.pointLabels,h={extra:sn(r)/2,additionalAngle:o?tU/s:0};for(let r=0;r<s;r++){h.padding=i[r],h.size=e[r];let s=function(t,e,i){var n,a,s,r;let o=t.drawingArea,{extra:l,additionalAngle:h,padding:c,size:d}=i,u=t.getPointPosition(e,o+l+c,h),f=Math.round(ee(u.angle+tZ)*(180/tU)),g=(n=u.y,a=d.h,90===f||270===f?n-=a/2:(f>270||f<90)&&(n-=a),n),p=0===f||180===f?"center":f<180?"left":"right",m=(s=u.x,r=d.w,"right"===p?s-=r:"center"===p&&(s-=r/2),s);return{visible:!0,x:u.x,y:g,textAlign:p,left:m,top:g,right:m+d.w,bottom:g+d.h}}(t,r,h);a.push(s),"auto"===l&&(s.visible=function(t,e){if(!e)return!0;let{left:i,top:n,right:a,bottom:s}=t,r=eB({x:i,y:n},e)||eB({x:i,y:s},e)||eB({x:a,y:n},e)||eB({x:a,y:s},e);return!r}(s,n),s.visible&&(n=s))}return a}(t,n,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){let e=tY/(this._pointLabels.length||1),i=this.options.startAngle||0;return ee(t*e+t9(i))}getDistanceFromCenterForValue(t){if(tk(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(tk(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return e5(this.getContext(),{label:i,index:t,type:"pointLabel"})}}getPointPosition(t,e,i=0){let n=this.getIndexAngle(t)-tZ+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:n,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:a}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),ss(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t,e,i;let n=this.ctx,a=this.options,{angleLines:s,grid:r,border:o}=a,l=this._pointLabels.length;if(a.pointLabels.display&&function(t,e){let{ctx:i,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){let e=t._pointLabelItems[a];if(!e.visible)continue;let s=n.setContext(t.getPointLabelContext(a));!function(t,e,i){let{left:n,top:a,right:s,bottom:r}=i,{backdropColor:o}=e;if(!tk(o)){let i=eQ(e.borderRadius),l=e0(e.backdropPadding);t.fillStyle=o;let h=n-l.left,c=a-l.top,d=s-n+l.width,u=r-a+l.height;Object.values(i).some(t=>0!==t)?(t.beginPath(),eY(t,{x:h,y:c,w:d,h:u,radius:i}),t.fill()):t.fillRect(h,c,d,u)}}(i,s,e);let r=e1(s.font),{x:o,y:l,textAlign:h}=e;eU(i,t._pointLabels[a],o,l+r.lineHeight/2,r,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,l),r.display&&this.ticks.forEach((t,i)=>{if(0!==i){e=this.getDistanceFromCenterForValue(t.value);let n=this.getContext(i),a=r.setContext(n),s=o.setContext(n);!function(t,e,i,n,a){let s=t.ctx,r=e.circular,{color:o,lineWidth:l}=e;(r||n)&&o&&l&&!(i<0)&&(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(a.dash),s.lineDashOffset=a.dashOffset,s.beginPath(),ss(t,i,r,n),s.closePath(),s.stroke(),s.restore())}(this,a,e,l,s)}}),s.display){for(n.save(),t=l-1;t>=0;t--){let r=s.setContext(this.getPointLabelContext(t)),{color:o,lineWidth:l}=r;l&&o&&(n.lineWidth=l,n.strokeStyle=o,n.setLineDash(r.borderDash),n.lineDashOffset=r.borderDashOffset,e=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),i=this.getPointPosition(t,e),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let t,e;let i=this.ctx,n=this.options,a=n.ticks;if(!a.display)return;let s=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((s,r)=>{if(0===r&&!n.reverse)return;let o=a.setContext(this.getContext(r)),l=e1(o.font);if(t=this.getDistanceFromCenterForValue(this.ticks[r].value),o.showLabelBackdrop){i.font=l.string,e=i.measureText(s.label).width,i.fillStyle=o.backdropColor;let n=e0(o.backdropPadding);i.fillRect(-e/2-n.left,-t-l.size/2-n.top,e+n.width,l.size+n.height)}eU(i,s.label,0,-t,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),i.restore()}drawTitle(){}}const so={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sl=/* #__PURE__ */Object.keys(so);function sh(t,e){return t-e}function sc(t,e){if(tk(e))return null;let i=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts,r=e;return("function"==typeof n&&(r=n(r)),tO(r)||(r="string"==typeof n?i.parse(r,n):i.parse(r)),null===r)?null:(a&&(r="week"===a&&(t3(s)||!0===s)?i.startOf(r,"isoWeek",s):i.startOf(r,a)),+r)}function sd(t,e,i,n){let a=sl.length;for(let s=sl.indexOf(t);s<a-1;++s){let t=so[sl[s]],a=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(a*t.size))<=n)return sl[s]}return sl[a-1]}function su(t,e,i){if(i){if(i.length){let{lo:n,hi:a}=es(i,e),s=i[n]>=e?i[n]:i[a];t[s]=!0}}else t[e]=!0}function sf(t,e,i){let n,a;let s=[],r={},o=e.length;for(n=0;n<o;++n)r[a=e[n]]=n,s.push({value:a,major:!1});return 0!==o&&i?function(t,e,i,n){let a,s;let r=t._adapter,o=+r.startOf(e[0].value,n),l=e[e.length-1].value;for(a=o;a<=l;a=+r.add(a,1,n))(s=i[a])>=0&&(e[s].major=!0);return e}(t,s,r,i):s}class sg extends nN{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let i=t.time||(t.time={}),n=this._adapter=new i7._date(t.adapters.date);n.init(e),tR(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:sc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:n,max:a,minDefined:s,maxDefined:r}=this.getUserBounds();function o(t){s||isNaN(t.min)||(n=Math.min(n,t.min)),r||isNaN(t.max)||(a=Math.max(a,t.max))}s&&r||(o(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&o(this.getMinMax(!1))),n=tO(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),a=tO(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);let a=this.min,s=this.max,r=/**
 * Return subset of `values` between `min` and `max` inclusive.
 * Values are assumed to be in sorted order.
 * @param values - sorted array of values
 * @param min - min value
 * @param max - max value
 */function(t,e,i){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>i;)a--;return n>0||a<t.length?t.slice(n,a):t}(n,a,s);return this._unit=e.unit||(i.autoSkip?sd(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(t,e,i,n,a){for(let s=sl.length-1;s>=sl.indexOf(i);s--){let i=sl[s];if(so[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return sl[i?sl.indexOf(i):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=sl.indexOf(t)+1,i=sl.length;e<i;++e)if(so[sl[e]].common)return sl[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&r.reverse(),sf(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e,i,n=0,a=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),a=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;n=en(n,0,s),a=en(a,0,s),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){let t,e;let i=this._adapter,n=this.min,a=this.max,s=this.options,r=s.time,o=r.unit||sd(r.minUnit,n,a,this._getLabelCapacity(n)),l=tP(s.ticks.stepSize,1),h="week"===o&&r.isoWeekday,c=t3(h)||!0===h,d={},u=n;if(c&&(u=+i.startOf(u,"isoWeek",h)),u=+i.startOf(u,c?"day":o),i.diff(a,n,o)>1e5*l)throw Error(n+" and "+a+" are too far apart with stepSize of "+l+" "+o);let f="data"===s.ticks.source&&this.getDataTimestamps();for(t=u,e=0;t<a;t=+i.add(t,l,o),e++)su(d,t,f);return(t===a||"ticks"===s.bounds||1===e)&&su(d,t,f),Object.keys(d).sort(sh).map(t=>+t)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){let i=this.options,n=i.time.displayFormats,a=this._unit,s=e||n[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,i,n){let a=this.options,s=a.ticks.callback;if(s)return tC(s,[t,e,i],this);let r=a.time.displayFormats,o=this._unit,l=this._majorUnit,h=o&&r[o],c=l&&r[l],d=i[e],u=l&&c&&d&&d.major;return this._adapter.format(t,n||(u?c:h))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)(n=t[e]).label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,n=t9(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(n),s=Math.sin(n),r=this._resolveTickFontOptions(0).size;return{w:i*a+r*s,h:i*s+r*a}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,sf(this,[t],this._majorUnit),n),s=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return r>0?r:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;let n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let t,e;let i=this._cache.labels||[];if(i.length)return i;let n=this.getLabels();for(t=0,e=n.length;t<e;++t)i.push(sc(this,n[t]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(t){return ec(t.sort(sh))}}function sp(t,e,i){let n,a,s,r,o=0,l=t.length-1;i?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=er(t,"pos",e)),{pos:n,time:s}=t[o],{pos:a,time:r}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=er(t,"time",e)),{time:n,pos:s}=t[o],{time:a,pos:r}=t[l]);let h=a-n;return h?s+(r-s)*(e-n)/h:s}class sm extends sg{static id="timeseries";static defaults=sg.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=sp(e,this.min),this._tableRange=sp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let e,i,n;let{min:a,max:s}=this,r=[],o=[];for(e=0,i=t.length;e<i;++e)(n=t[e])>=a&&n<=s&&r.push(n);if(r.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(e=0,i=r.length;e<i;++e)Math.round((r[e+1]+r[e-1])/2)!==(n=r[e])&&o.push({time:n,pos:e/(i-1)});return o}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort((t,e)=>t-e)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t}getDecimalForValue(t){return(sp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return sp(this._table,i*this._tableRange+this._minPos,!0)}}var sb=/*#__PURE__*/Object.freeze({__proto__:null,CategoryScale:class extends nN{static id="category";static defaults={ticks:{callback:a3}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let t=this.getLabels();for(let{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(tk(t))return null;let i=this.getLabels();return a5(e=isFinite(e)&&i[e]===t?e:function(t,e,i,n){let a=t.indexOf(e);if(-1===a)return a2(t,e,i,n);let s=t.lastIndexOf(e);return a!==s?i:a}(i,t,tP(e,t),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:n}=this.getMinMax(!0);"ticks"!==this.options.bounds||(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,n=[],a=this.getLabels();a=0===t&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)n.push({value:i});return n}getLabelForValue(t){return a3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:a4,LogarithmicScale:si,RadialLinearScale:sr,TimeScale:sg,TimeSeriesScale:sm});const sy=[i9,a_,a1,sb];ai.register(...sy);var sx={},s_={},sv={};sv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var sw={},sk={};sk=function(t){return!!t&&"string"!=typeof t&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))};var sM=Array.prototype.concat,sS=Array.prototype.slice,sO=sw=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var a=t[i];sk(a)?e=sM.call(e,sS.call(a)):e.push(a)}return e};sO.wrap=function(t){return function(){return t(sO(arguments))}};var sz=Object.hasOwnProperty,sP=Object.create(null);// create a list of reverse color names
for(var sD in sv)sz.call(sv,sD)&&(sP[sv[sD]]=sD);var sL=s_={to:{},get:{}};// helpers
function sC(t,e,i){return Math.min(Math.max(e,t),i)}function sA(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}sL.get=function(t){var e,i;switch(t.substring(0,3).toLowerCase()){case"hsl":e=sL.get.hsl(t),i="hsl";break;case"hwb":e=sL.get.hwb(t),i="hwb";break;default:e=sL.get.rgb(t),i="rgb"}return e?{model:i,value:e}:null},sL.get.rgb=function(t){if(!t)return null;var e,i,n,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=0,n=e[2],e=e[1];i<3;i++){// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19
var s=2*i;a[i]=parseInt(e.slice(s,s+2),16)}n&&(a[3]=parseInt(n,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=0,n=(e=e[1])[3];i<3;i++)a[i]=parseInt(e[i]+e[i],16);n&&(a[3]=parseInt(n+n,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(i=0;i<3;i++)a[i]=parseInt(e[i+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else if(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(i=0;i<3;i++)a[i]=Math.round(2.55*parseFloat(e[i+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else if(!(e=t.match(/^(\w+)$/)))return null;else return"transparent"===e[1]?[0,0,0,0]:sz.call(sv,e[1])?((a=sv[e[1]])[3]=1,a):null;for(i=0;i<3;i++)a[i]=sC(a[i],0,255);return a[3]=sC(a[3],0,1),a},sL.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,sC(parseFloat(e[2]),0,100),sC(parseFloat(e[3]),0,100),sC(isNaN(i)?1:i,0,1)]}return null},sL.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,sC(parseFloat(e[2]),0,100),sC(parseFloat(e[3]),0,100),sC(isNaN(i)?1:i,0,1)]}return null},sL.to.hex=function(){var t=sw(arguments);return"#"+sA(t[0])+sA(t[1])+sA(t[2])+(t[3]<1?sA(Math.round(255*t[3])):"")},sL.to.rgb=function(){var t=sw(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},sL.to.rgb.percent=function(){var t=sw(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+i+"%, "+n+"%)":"rgba("+e+"%, "+i+"%, "+n+"%, "+t[3]+")"},sL.to.hsl=function(){var t=sw(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax
// (hwb have alpha optional & 1 is default value)
sL.to.hwb=function(){var t=sw(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},sL.to.keyword=function(t){return sP[t.slice(0,3)]};var sE={},sI={};/* MIT license *//* eslint-disable no-mixed-operators */// NOTE: conversions should only return primitive values (i.e. arrays, or
//       values that give correct `typeof` results).
//       do not use box values types (i.e. Number(), String(), etc.)
const sT={};for(const t of Object.keys(sv))sT[sv[t]]=t;const sj={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};// Hide .channels and .labels properties
for(const t of(sI=sj,Object.keys(sj))){if(!("channels"in sj[t]))throw Error("missing channels property: "+t);if(!("labels"in sj[t]))throw Error("missing channel labels property: "+t);if(sj[t].labels.length!==sj[t].channels)throw Error("channel and label counts mismatch: "+t);let{channels:e,labels:i}=sj[t];delete sj[t].channels,delete sj[t].labels,Object.defineProperty(sj[t],"channels",{value:e}),Object.defineProperty(sj[t],"labels",{value:i})}sj.rgb.hsl=function(t){let e;let i=t[0]/255,n=t[1]/255,a=t[2]/255,s=Math.min(i,n,a),r=Math.max(i,n,a),o=r-s;r===s?e=0:i===r?e=(n-a)/o:n===r?e=2+(a-i)/o:a===r&&(e=4+(i-n)/o),(e=Math.min(60*e,360))<0&&(e+=360);let l=(s+r)/2;return[e,100*(r===s?0:l<=.5?o/(r+s):o/(2-r-s)),100*l]},sj.rgb.hsv=function(t){let e,i,n,a,s;let r=t[0]/255,o=t[1]/255,l=t[2]/255,h=Math.max(r,o,l),c=h-Math.min(r,o,l),d=function(t){return(h-t)/6/c+.5};return 0===c?(a=0,s=0):(s=c/h,e=d(r),i=d(o),n=d(l),r===h?a=n-i:o===h?a=1/3+e-n:l===h&&(a=2/3+i-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*s,100*h]},sj.rgb.hwb=function(t){let e=t[0],i=t[1],n=t[2],a=sj.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(i,n));return[a,100*s,100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},sj.rgb.cmyk=function(t){let e=t[0]/255,i=t[1]/255,n=t[2]/255,a=Math.min(1-e,1-i,1-n);return[100*((1-e-a)/(1-a)||0),100*((1-i-a)/(1-a)||0),100*((1-n-a)/(1-a)||0),100*a]},sj.rgb.keyword=function(t){let e;let i=sT[t];if(i)return i;let n=1/0;for(let i of Object.keys(sv)){let a=sv[i],s=(t[0]-a[0])**2+(t[1]-a[1])**2+(t[2]-a[2])**2;// Check if its less, if so set as closest
s<n&&(n=s,e=i)}return e},sj.keyword.rgb=function(t){return sv[t]},sj.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,n=t[2]/255;// Assume sRGB
e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let a=.4124*e+.3576*i+.1805*n,s=.2126*e+.7152*i+.0722*n,r=.0193*e+.1192*i+.9505*n;return[100*a,100*s,100*r]},sj.rgb.lab=function(t){let e=sj.rgb.xyz(t),i=e[0],n=e[1],a=e[2];i/=95.047,n/=100,a/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;let s=116*n-16,r=500*(i-n),o=200*(n-a);return[s,r,o]},sj.hsl.rgb=function(t){let e,i,n;let a=t[0]/360,s=t[1]/100,r=t[2]/100;if(0===s)return[n=255*r,n,n];e=r<.5?r*(1+s):r+s-r*s;let o=2*r-e,l=[0,0,0];for(let t=0;t<3;t++)(i=a+-(1/3*(t-1)))<0&&i++,i>1&&i--,n=6*i<1?o+(e-o)*6*i:2*i<1?e:3*i<2?o+(e-o)*(2/3-i)*6:o,l[t]=255*n;return l},sj.hsl.hsv=function(t){let e=t[0],i=t[1]/100,n=t[2]/100,a=i,s=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,a*=s<=1?s:2-s;let r=(n+i)/2,o=0===n?2*a/(s+a):2*i/(n+i);return[e,100*o,100*r]},sj.hsv.rgb=function(t){let e=t[0]/60,i=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,s=e-Math.floor(e),r=255*n*(1-i),o=255*n*(1-i*s),l=255*n*(1-i*(1-s));switch(n*=255,a){case 0:return[n,l,r];case 1:return[o,n,r];case 2:return[r,n,l];case 3:return[r,o,n];case 4:return[l,r,n];case 5:return[n,r,o]}},sj.hsv.hsl=function(t){let e,i;let n=t[0],a=t[1]/100,s=t[2]/100,r=Math.max(s,.01);i=(2-a)*s;let o=(2-a)*r;return[n,100*(a*r/(o<=1?o:2-o)||0),100*(i/=2)]},// http://dev.w3.org/csswg/css-color/#hwb-to-rgb
sj.hwb.rgb=function(t){let e,i,n,a;let s=t[0]/360,r=t[1]/100,o=t[2]/100,l=r+o;l>1&&(r/=l,o/=l);let h=Math.floor(6*s),c=1-o;e=6*s-h,(1&h)!=0&&(e=1-e);let d=r+e*(c-r);// Linear interpolation
/* eslint-disable max-statements-per-line,no-multi-spaces */switch(h){default:case 6:case 0:i=c,n=d,a=r;break;case 1:i=d,n=c,a=r;break;case 2:i=r,n=c,a=d;break;case 3:i=r,n=d,a=c;break;case 4:i=d,n=r,a=c;break;case 5:i=c,n=r,a=d}/* eslint-enable max-statements-per-line,no-multi-spaces */return[255*i,255*n,255*a]},sj.cmyk.rgb=function(t){let e=t[0]/100,i=t[1]/100,n=t[2]/100,a=t[3]/100,s=1-Math.min(1,e*(1-a)+a),r=1-Math.min(1,i*(1-a)+a),o=1-Math.min(1,n*(1-a)+a);return[255*s,255*r,255*o]},sj.xyz.rgb=function(t){let e,i,n;let a=t[0]/100,s=t[1]/100,r=t[2]/100;return(// Assume sRGB
e=(e=3.2406*a+-1.5372*s+-.4986*r)>.0031308?1.055*e**(1/2.4)-.055:12.92*e,i=(i=-.9689*a+1.8758*s+.0415*r)>.0031308?1.055*i**(1/2.4)-.055:12.92*i,n=(n=.0557*a+-.204*s+1.057*r)>.0031308?1.055*n**(1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))])},sj.xyz.lab=function(t){let e=t[0],i=t[1],n=t[2];e/=95.047,i/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let a=116*i-16,s=500*(e-i),r=200*(i-n);return[a,s,r]},sj.lab.xyz=function(t){let e,i,n;let a=t[0],s=t[1],r=t[2];e=s/500+(i=(a+16)/116),n=i-r/200;let o=i**3,l=e**3,h=n**3;return i=(o>.008856?o:(i-16/116)/7.787)*100,[e=(l>.008856?l:(e-16/116)/7.787)*95.047,i,n=(h>.008856?h:(n-16/116)/7.787)*108.883]},sj.lab.lch=function(t){let e;let i=t[0],n=t[1],a=t[2],s=Math.atan2(a,n);(e=360*s/2/Math.PI)<0&&(e+=360);let r=Math.sqrt(n*n+a*a);return[i,r,e]},sj.lch.lab=function(t){let e=t[0],i=t[1],n=t[2],a=n/360*2*Math.PI,s=i*Math.cos(a),r=i*Math.sin(a);return[e,s,r]},sj.rgb.ansi16=function(t,e=null){let[i,n,a]=t,s=null===e?sj.rgb.hsv(t)[2]:e;if(0===(s=Math.round(s/50)))return 30;let r=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===s&&(r+=60),r},sj.hsv.ansi16=function(t){// Optimization here; we already know the value and don't need to get
// it converted for us.
return sj.rgb.ansi16(sj.hsv.rgb(t),t[2])},sj.rgb.ansi256=function(t){let e=t[0],i=t[1],n=t[2];// We use the extended greyscale palette here, with the exception of
// black and white. normal palette only has 4 greyscale shades.
if(e===i&&i===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;let a=16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5);return a},sj.ansi16.rgb=function(t){let e=t%10;// Handle greyscale
if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];let i=(~~(t>50)+1)*.5,n=(1&e)*i*255,a=(e>>1&1)*i*255,s=(e>>2&1)*i*255;return[n,a,s]},sj.ansi256.rgb=function(t){let e;// Handle greyscale
if(t>=232){let e=(t-232)*10+8;return[e,e,e]}t-=16;let i=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255;return[i,n,e%6/5*255]},sj.rgb.hex=function(t){let e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),i=e.toString(16).toUpperCase();return"000000".substring(i.length)+i},sj.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=i.split("").map(t=>t+t).join(""));let n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},sj.rgb.hcg=function(t){let e=t[0]/255,i=t[1]/255,n=t[2]/255,a=Math.max(Math.max(e,i),n),s=Math.min(Math.min(e,i),n),r=a-s;return[360*((r<=0?0:a===e?(i-n)/r%6:a===i?2+(n-e)/r:4+(e-i)/r)/6%1),100*r,100*(r<1?s/(1-r):0)]},sj.hsl.hcg=function(t){let e=t[1]/100,i=t[2]/100,n=i<.5?2*e*i:2*e*(1-i),a=0;return n<1&&(a=(i-.5*n)/(1-n)),[t[0],100*n,100*a]},sj.hsv.hcg=function(t){let e=t[1]/100,i=t[2]/100,n=e*i,a=0;return n<1&&(a=(i-n)/(1-n)),[t[0],100*n,100*a]},sj.hcg.rgb=function(t){let e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];let a=[0,0,0],s=e%1*6,r=s%1,o=1-r,l=0;/* eslint-disable max-statements-per-line */switch(Math.floor(s)){case 0:a[0]=1,a[1]=r,a[2]=0;break;case 1:a[0]=o,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=r;break;case 3:a[0]=0,a[1]=o,a[2]=1;break;case 4:a[0]=r,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=o}return(/* eslint-enable max-statements-per-line */l=(1-i)*n,[(i*a[0]+l)*255,(i*a[1]+l)*255,(i*a[2]+l)*255])},sj.hcg.hsv=function(t){let e=t[1]/100,i=t[2]/100,n=e+i*(1-e),a=0;return n>0&&(a=e/n),[t[0],100*a,100*n]},sj.hcg.hsl=function(t){let e=t[1]/100,i=t[2]/100,n=i*(1-e)+.5*e,a=0;return n>0&&n<.5?a=e/(2*n):n>=.5&&n<1&&(a=e/(2*(1-n))),[t[0],100*a,100*n]},sj.hcg.hwb=function(t){let e=t[1]/100,i=t[2]/100,n=e+i*(1-e);return[t[0],(n-e)*100,(1-n)*100]},sj.hwb.hcg=function(t){let e=t[1]/100,i=t[2]/100,n=1-i,a=n-e,s=0;return a<1&&(s=(n-a)/(1-a)),[t[0],100*a,100*s]},sj.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},sj.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},sj.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},sj.gray.hsl=function(t){return[0,0,t[0]]},sj.gray.hsv=sj.gray.hsl,sj.gray.hwb=function(t){return[0,100,t[0]]},sj.gray.cmyk=function(t){return[0,0,0,t[0]]},sj.gray.lab=function(t){return[t[0],0,0]},sj.gray.hex=function(t){let e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},sj.rgb.gray=function(t){let e=(t[0]+t[1]+t[2])/3;return[e/255*100]};var sF={};sF=function(t){let e=// https://en.wikipedia.org/wiki/Breadth-first_search
function(t){let e=/*
	This function routes a model to all other models.

	all functions that are routed have a property `.conversion` attached
	to the returned synthetic function. This property is an array
	of strings, each with the steps in between the 'from' and 'to'
	color models (inclusive).

	conversions that are not possible simply are not included.
*/function(){let t={},e=Object.keys(sI);for(let i=e.length,n=0;n<i;n++)t[e[n]]={// http://jsperf.com/1-vs-infinity
// micro-opt, but this is simple.
distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;){let t=i.pop(),n=Object.keys(sI[t]);for(let a=n.length,s=0;s<a;s++){let a=n[s],r=e[a];-1===r.distance&&(r.distance=e[t].distance+1,r.parent=t,i.unshift(a))}}return e}(t),i={},n=Object.keys(e);for(let t=n.length,a=0;a<t;a++){let t=n[a],s=e[t];null!==s.parent&&(i[t]=function(t,e){let i=[e[t].parent,t],n=sI[e[t].parent][t],a=e[t].parent;for(;e[a].parent;)i.unshift(e[a].parent),n=function(t,e){return function(i){return e(t(i))}}(sI[e[a].parent][a],n),a=e[a].parent;return n.conversion=i,n}(t,e))}return i};const sR={},sW=Object.keys(sI);sW.forEach(t=>{sR[t]={},Object.defineProperty(sR[t],"channels",{value:sI[t].channels}),Object.defineProperty(sR[t],"labels",{value:sI[t].labels});let e=sF(t),i=Object.keys(e);i.forEach(i=>{let n=e[i];sR[t][i]=function(t){let e=function(...e){let i=e[0];if(null==i)return i;i.length>1&&(e=i);let n=t(e);// We're assuming the result is an array here.
// see notice in conversions.js; don't use box types
// in conversion functions.
if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),sR[t][i].raw=function(t){let e=function(...e){let i=e[0];return null==i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)})}),sE=sR;const sN=[// To be honest, I don't really feel like keyword belongs in color convert, but eh.
"keyword",// Gray conflicts with some method names, and has its own method defined.
"gray",// Shouldn't really be in color-convert either...
"hex"],sB={};for(const t of Object.keys(sE))sB[[...sE[t].labels].sort().join("")]=t;const sK={};function sV(t,e){let i,n;if(!(this instanceof sV))return new sV(t,e);if(e&&e in sN&&(e=null),e&&!(e in sE))throw Error("Unknown model: "+e);if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof sV)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){let e=s_.get(t);if(null===e)throw Error("Unable to parse color from string: "+t);this.model=e.model,n=sE[this.model].channels,this.color=e.value.slice(0,n),this.valpha="number"==typeof e.value[n]?e.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=sE[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=sU(i,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)// This is always RGB - can be converted later on.
this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;let e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);let n=e.sort().join("");if(!(n in sB))throw Error("Unable to parse color from object: "+JSON.stringify(t));this.model=sB[n];let{labels:a}=sE[this.model],s=[];for(i=0;i<a.length;i++)s.push(t[a[i]]);this.color=sU(s)}// Perform limitations (clamping, etc.)
if(sK[this.model])for(i=0,n=sE[this.model].channels;i<n;i++){let t=sK[this.model][i];t&&(this.color[i]=t(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}// Model conversion methods and static constructors
for(const t of(sV.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in s_.to?this:this.rgb();e=e.round("number"==typeof t?t:1);let i=1===e.valpha?e.color:[...e.color,this.valpha];return s_.to[e.model](i)},percentString(t){let e=this.rgb().round("number"==typeof t?t:1),i=1===e.valpha?e.color:[...e.color,this.valpha];return s_.to.rgb.percent(i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=sE[this.model],{labels:i}=sE[this.model];for(let n=0;n<e;n++)t[i[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){var e;return t=Math.max(t||0,0),new sV([...this.color.map((e=t,function(t){return Number(t.toFixed(e))})),this.valpha],this.model)},alpha(t){return void 0!==t?new sV([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},// Rgb
red:sH("rgb",0,s$(255)),green:sH("rgb",1,s$(255)),blue:sH("rgb",2,s$(255)),hue:sH(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:sH("hsl",1,s$(100)),lightness:sH("hsl",2,s$(100)),saturationv:sH("hsv",1,s$(100)),value:sH("hsv",2,s$(100)),chroma:sH("hcg",1,s$(100)),gray:sH("hcg",2,s$(100)),white:sH("hwb",1,s$(100)),wblack:sH("hwb",2,s$(100)),cyan:sH("cmyk",0,s$(100)),magenta:sH("cmyk",1,s$(100)),yellow:sH("cmyk",2,s$(100)),black:sH("cmyk",3,s$(100)),x:sH("xyz",0,s$(95.047)),y:sH("xyz",1,s$(100)),z:sH("xyz",2,s$(108.833)),l:sH("lab",0,s$(100)),a:sH("lab",1),b:sH("lab",2),keyword(t){return void 0!==t?new sV(t):sE[this.model].keyword(this.color)},hex(t){return void 0!==t?new sV(t):s_.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new sV(t);let e=this.rgb().round().color,i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),s_.to.hex(e)+i},rgbNumber(){let t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){// http://www.w3.org/TR/WCAG20/#relativeluminancedef
let t=this.rgb().color,e=[];for(let[i,n]of t.entries()){let t=n/255;e[i]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){// http://www.w3.org/TR/WCAG20/#contrast-ratiodef
let e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level(t){// https://www.w3.org/TR/WCAG/#contrast-enhanced
let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){// YIQ equation from http://24ways.org/2010/calculating-color-contrast
let t=this.rgb().color,e=(2126*t[0]+7152*t[1]+722*t[2])/1e4;return e<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale
let t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return sV.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),i=e.color[0];return i=(i=(i+t)%360)<0?360+i:i,e.color[0]=i,e},mix(t,e){// Ported from sass implementation in C
// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209
if(!t||!t.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let i=t.rgb(),n=this.rgb(),a=void 0===e?.5:e,s=2*a-1,r=i.alpha()-n.alpha(),o=((s*r==-1?s:(s+r)/(1+s*r))+1)/2,l=1-o;return sV.rgb(o*i.red()+l*n.red(),o*i.green()+l*n.green(),o*i.blue()+l*n.blue(),i.alpha()*a+n.alpha()*(1-a))}},Object.keys(sE))){if(sN.includes(t))continue;let{channels:e}=sE[t];// Conversion methods
sV.prototype[t]=function(...e){var i;return this.model===t?new sV(this):e.length>0?new sV(e,t):new sV([...Array.isArray(i=sE[this.model][t].raw(this.color))?i:[i],this.valpha],t)},// 'static' construction methods
sV[t]=function(...i){let n=i[0];return"number"==typeof n&&(n=sU(i,e)),new sV(n,t)}}function sH(t,e,i){for(let n of t=Array.isArray(t)?t:[t])(sK[n]||(sK[n]=[]))[e]=i;return t=t[0],function(n){let a;return void 0!==n?(i&&(n=i(n)),(a=this[t]()).color[e]=n):(a=this[t]().color[e],i&&(a=i(a))),a}}function s$(t){return function(e){return Math.max(0,Math.min(t,e))}}function sU(t,e){for(let i=0;i<e;i++)"number"!=typeof t[i]&&(t[i]=0);return t}function sY(t,e,i={}){new ai(document.getElementById(e),{type:"bar",data:{labels:Object.entries(t).map(([t,e])=>t.toString()),datasets:i.laczOpozycje?[{label:"Opozycja Demokratyczna",data:Object.values(t).map(t=>t.DEMO),backgroundColor:"#E56701"},{label:"PiS i Konfederacja",data:Object.values(t).map(t=>t.NIEDEMO),backgroundColor:"rgb(38, 55, 120)"}]:[{label:"Lewica",data:Object.values(t).map(t=>t.LEWICA),backgroundColor:o.LEWICA},{label:"KO",data:Object.values(t).map(t=>t.KO),backgroundColor:o.KO},{label:"Trzecia Droga",data:Object.values(t).map(t=>t.TD),backgroundColor:o.TD},{label:"Konfederacja",data:Object.values(t).map(t=>t.KONF),backgroundColor:o.KONF},{label:"PiS",data:Object.values(t).map(t=>t.PIS),backgroundColor:o.PIS}]},options:i?.poziomo?{indexAxis:"y",scales:{x:{stacked:!0,max:i?.calySejm?460:null,afterBuildTicks:i?.calySejm?t=>t.ticks=[0,230,460].map(t=>({value:t})):null},y:{stacked:!0}}}:{}})}function sq(t){return[0,5,6,7,8,9,10].includes(t)?"mandat\xf3w":t>1?"mandaty":"mandat"}function sX(t,e,n="rgb(150, 195, 110)",a,s){let r=t.filter(t=>t.procent===String(s))[0].mandaty,o=t.map(t=>({...t,czestosc:t.mandaty>r?t.czestosc:0})),l=t.map(t=>({...t,czestosc:t.mandaty<r&&Number(t.procent)>0?t.czestosc:0})),h=t.map(t=>({...t,czestosc:t.mandaty===r&&Number(t.procent)>0?t.czestosc:0}));new ai(document.getElementById(e),{type:"bar",data:{labels:t.map(({procent:t,czestosc:e,mandaty:i})=>`${t}% -> ${i} ${sq(i)}`),datasets:[{label:""+(r+1)+" "+sq(r+1),data:o.map(({procent:t,czestosc:e})=>e),backgroundColor:n},{label:""+r+" "+sq(r),data:h.map(({procent:t,czestosc:e})=>e),backgroundColor:/*@__PURE__*/i(sx)(n).fade(.35).toString()}].concat(r>0?[{label:""+(r-1)+" "+sq(r-1),data:l.map(({procent:t,czestosc:e})=>e),backgroundColor:/*@__PURE__*/i(sx)(n).fade(.7).toString()}]:[{label:"",data:[],backgroundColor:"white"}])},options:{plugins:{legend:{title:{display:!0,text:"Przewidywany wynik w okręgu dla "+a+": "+s}}},scales:{x:{ticks:{callback:function(t,e,i){return this.getLabelForValue(e).split(" ")[0]}},stacked:!0},y:{max:410,display:!1,stacked:!0}}}})}sx=sV;const sG={Legnica:{msg:"Legnica to średniej wielkości okręg wyborczy, gdzie najbardziej prawdopodobny jest remis pomiędzy opozycją a prawicą. Są szanse na dodatkowy mandat wtedy, gdy Lewica zdobędzie dwa mandaty, więc wyborcy Trzeciej Drogi i KO mogą przesunąć na nią sw\xf3j głos.",komitet:["LEWICA"]},Wałbrzych:{msg:"Wałbrzych to mały okręg, gdzie KO ma stabilne 3 mandaty i marginalne szanse na więcej. Wyborca KO może wesprzeć Lewicę, lub ewentualnie Trzecią Drogę, aby zmniejszyć ryzyko że nie zdobędą one pojedyńczych mandat\xf3w.",komitet:["LEWICA","TD"]},Wrocław:{msg:"Wyborca Trzeciej Drogi, może dać szansę na dodatkowy mandat dla opozycji we Wrocławiu głosując na KO lub Lewicę. Nie odbierze to pewnego mandatu Trzeciej Drodze, a jej szanse na drugi są niewielkie.",komitet:["KO","LEWICA"]},Bydgoszcz:{msg:"Siedem mandat\xf3w dla opozycji jest tutaj dość pewne. Wyborcy mogą rozważyć wycieczkę do innego okręgu, aby tam wspom\xf3c opozycję.",komitet:[""]},Toruń:{msg:"KO ma pewne 4 mandaty, ani mniej ani więcej. Warto więc wesprzeć Trzecią Drogę lub Lewicę, aby na pewno kt\xf3raś z nich zdobyła drugi mandat.",komitet:["LEWICA","TD"]},Lublin:{msg:"Lublin to trudny okręg. Trzecia droga ma tu pewny mandat, więc jej wyborcy powinni wesprzeć KO lub Lewicę.",komitet:["KO","LEWICA"]},Chełm:{msg:"Aby zdobyć dodatkowy, czwarty mandat wyborcy KO i Trzeciej Drogi powinni w tym okręgu wspom\xf3c Lewicę. Mandatu nie stracą, a może sprawią, że głosy na Lewicę w tym dużym, lecz PiSowskim okręgu się nie zmarnują. Warto tu wspomnieć, że szansa, by pojedyńczy głos dał dodatkowy mandat jest największa gdy popieramy małą partię! Dzieje się tak, gdyż zgodnie z metodą D'Hondta aby np. KO zdobyła sw\xf3j trzeci mandat, suma jej głos\xf3w dzielona przez trzy musi być wyższa niż głosy małych partii dzielone przez jeden. Szansa jednego głosu na 'przeciągnięcie' mandatu do danej partii jest więc największa gdy oddamy go na te, kt\xf3re walczą o sw\xf3j pierwszy mandat!",komitet:["LEWICA"]},"Zielona G\xf3ra":{msg:"W tym okręgu największe szanse na dodatkowy mandat mają Trzecia Droga i KO. Z powod\xf3w wspomnianych przy Chełmie, najlepiej, żeby zwolennicy Lewicy postawili na Trzecią Drogę.",komitet:["KO","TD"]},Łódź:{msg:"W tym okręgu wyborcom KO i Trzeciej Drogi najlepiej wspom\xf3c Lewicę, aby zdobyła ona w swojej twierdzy drugi mandat.",komitet:["LEWICA"]},"Piotrk\xf3w Trybunalski":{msg:"W tym okręgu kluczowe jest obronienie trzech mandat\xf3w dla opozycji - nie jest jasne jakie przesunięcia mogłby pom\xf3c, najważniejsza jest tu mobilizacja lub przyjazd z innego okręgu.",komitet:[""]},Sieradz:{msg:"Pięć mandat\xf3w dla opozycji jest tutaj pewne, a jednocześnie nie ma przestrzeni na więcej. Można rozważyć głosowanie w kt\xf3rymś z ościennych wojew\xf3dztw.",komitet:[""]},Chrzanów:{msg:"Ta część małopolski jest bardzo pro-pisowska. Lewica nie może liczyć na mandat w tym niewielkim okręgu, a dla Platformy 2 mandaty są pewne, ale jest to też maksimum możliwości. Wyborcy KO i Lewicy powinni zagłosować na Trzecią Drogę, aby upewnić się, że zdobędzie ona mandat w tym okręgu.",komitet:["TD"]},Kraków:{msg:"Największe szanse na dodatkowy mandat dla opozycji ma tutaj Lewica i Trzecia Droga.",komitet:["LEWICA","TD"]},"Nowy Sącz":{msg:"W tym bastionie PiSu Lewica nie ma szans na mandat, więc lepiej aby jej wyborcy wsparli KO lub Trzecią Drogę. Mogą też pojechać do Krakowa lub Rzeszowa i tam zagłosować na Lewicę.",komitet:["KO","TD"]},Tarnów:{msg:"Podobnie jak na Podhalu Lewica jest tu bez szans na mandat, warto więc by jej wyborcy wsparli KO i dali jej szansę na drugi mandat.",komitet:["KO"]},Płock:{msg:"Wyborcy KO powinni tutaj wspom\xf3c Lewicę - jest to właściwie jedyna szansa czwarty mandat dla opozycji w tym bastionie prawicy.",komitet:["LEWICA"]},Radom:{msg:"Niewielki, silnie propisowski okręg to miejsce gdzie Lewica nie ma szans na mandat. Warto przerzucić poparcie na Trzecią Drogę, aby zapewnić trzy mandaty opozycji.",komitet:["TD"]},Siedlce:{msg:"Szanse na czwarty mandat dla Opozycji są tu niewielkie - potrzebaby aby wielu zwolennik\xf3w Trzeciej Drogi i KO wspomogło Lewicę w zdobyciu jej pierwszego mandatu tutaj i zapobiegło zmarnowaniu się lewicowych głos\xf3w.",komitet:["LEWICA"]},"Warszawa I":{msg:"W tym największym okręgu wyborcy Trzeciej Drogi mogliby przerzucić poparcie na KO lub Lewicę. Ale mogą też rozważyć turystykę wyborczą, gdyż siła głosu jest tutaj dużo mniejsza niż w okolicy.",komitet:["KO","LEWICA"]},"Warszawa II":{msg:"Najbardziej prawdopodobny jest tutaj podział fifty-fifty. Trudno wskazać faworyta dla dodatkowego mandatu dla opozycji, ale można podejrzewać, że to gł\xf3wnie wyborcy KO mogą tu przyjechać ze stolicy, więc pewnie warto postawić tutaj na KO i liczyć na piąty mandat.",komitet:["KO"]},Opole:{msg:"Wyborcy Lewicy i KO powinni tutaj dać szansę Trzeciej Drodze na drugi mandat, gdyż ich partie nie stracą, a opozycja może zyskać",komitet:["TD"]},Krosno:{msg:"Kolejny bastion PiSu to miejsce gdzie wyborcy Lewicy powinni pogodzić się z brakiem mandatu dla ich partii i wspom\xf3c Trzecią Drogę lub zagłosować w innym okręgu.",komitet:["TD"]},Rzeszów:{msg:"Trzecia droga ma tutaj pewny jeden (i tylko jeden) mandat, jej wyborcom warto więc zagłosować na Lewicę lub KO, aby opozycja zdobyła czwarty mandat.",komitet:["LEWICA"]},Białystok:{msg:"Wprawdzie model sugeruje tutaj, że lepiej by było wspom\xf3c KO, to Trzecia Droga też może mieć szanse na dodatkowy mandat w rodzimym okręgu lidera, Szymona Hołowni.",komitet:["KO","TD"]},Gdańsk:{msg:"Lewica i Trzecia droga zdobędą tutaj na pewno jeden mandat, warto więc poprzeć KO aby zdobywając 6 mandat\xf3w przypieczętowała zwycięstwo opozycji w tym okręgu.",komitet:["KO"]},Gdynia:{msg:"Gdynia to większy okręg niż Gdańsk i Trzecia Droga ma tu realne szanse na drugi mandat. Wyborcy KO i Lewicy powinni ją tutaj wspom\xf3c",komitet:["TD"]},"Bielsko-Biała":{msg:"W tym okręgu jedynie po jednym mandacie zar\xf3wno dla Trzeciej Drogi jak i dla Lewicy może dac przewagę demokratom, ale jest na to niewielka szansa.",komitet:["TD"]},Częstochowa:{msg:"W tym okręgu jest najmniej mandat\xf3w do zdobycia w Polsce. Wyborcy KO powinni tutaj zdecydowanie zagłosować na Trzecią Drogę, bo swoich dw\xf3ch mandat\xf3w na pewno nie stracą, a zapobiegną zmarnowaniu około 10% opozycyjnych głos\xf3w!",komitet:["TD"]},Gliwice:{msg:"W tym okręgu opozycja zdobędzie zapewne 5 mandat\xf3w i trudno ten stan posiadania będzie jej zwiększyć, chcąc dać szansę opozycji, warto pojechać do innego okręgu.",komitet:[""]},Rybnik:{msg:"Wyborcy KO powinni w tym okręgu pom\xf3c Trzeciej Drodze aby dać szansę na czwarty mandat dla opozycji.",komitet:["TD"]},Katowice:{msg:"Wyborcy opozycji mogą być tu pewni pięciu (KO) i po jednym (Trzecia Droga, Lewica) mandat\xf3w, mogą więc pojechać do Sosnowca lub Chrzanowa aby wspom\xf3c Lewicę lub Trzecią drogę w zdobyciu mandatu.",komitet:[""]},Sosnowiec:{msg:"Trzy mandaty KO są tutaj pewne, więc warto przerzucić głos na Lewicę lub Trzecią drogę aby kt\xf3raś z nich zdobyła dodatkowy mandat.",komitet:["LEWICA","TD"]},Kielce:{msg:"16 mandat\xf3w z kt\xf3rych większość weźmie PiS. Skupiając głosy na Trzeciej Drodze dajemy szansę na dodatkowy mandat opozycji.",komitet:["TD"]},Elbląg:{msg:"KO i Trzecia Droga mają tu pewne trzy i jeden mandat, warto więc wspom\xf3c Lewicę, aby prawie 10% głos\xf3w na nią się nie zmarnowało.",komitet:["LEWICA"]},Olsztyn:{msg:"Szanse na dodatkowy mandat są niewielkie - warto wspom\xf3c tutaj KO, bo po jednym mandacie dla Trzeciej Drogi i Lewicy mamy jak w banku.",komitet:["KO"]},Kalisz:{msg:"Wyborcy Lewicy powinni tu wesprzeć KO lub Trzecią drogę, gdyż tylko tam jest szansa na dodatkowy mandat dla opozycji.",komitet:["KO","TD"]},Konin:{msg:"Aby nie ryzykować nie zdobycia mandatu przez Trzecią drogę, wyborcy Lewicy i KO powinni ją poprzeć, gdyż ich partie nic na tym nie stracą.",komitet:["TD"]},Piła:{msg:"Warto poprzeć w tym okręgu KO, gdyż nie odbierze to mandatu Lewicy ani Trzeciej Drodze, a da szansę opozycji na sz\xf3sty z dziewięciu mandat\xf3w.",komitet:["KO"]},Poznań:{msg:"W tym okręgu 7 na 10 mandat\xf3w dla opozycji jest pewne. Szansę na dodatkowy mandat dla KO da poparcie jej przez wyborc\xf3w Trzeciej Drogi i Lewicy, kt\xf3re i tak zdobędą tutaj po jednym mandacie.",komitet:["KO"]},Koszalin:{msg:"Rozkład mandat\xf3w w tym okręgu jest raczej pewny, choć warto wesprzeć Trzecią drogę, aby na pewno sw\xf3j 1 mandat dostała a głosy na nią się nie zmarnowały.",komitet:[""]},Szczecin:{msg:"Szanse na dodatkowy (\xf3smy z dwunastu) mandat dla opozycji są tutaj niewielkie - największe gdy będzie wysoka mobilizacja.",komitet:[""]}},sZ={};Object.entries(l).forEach(([t,e])=>sZ[t]=function(t){B=0,K=0;let e={PIS:0,KO:0,LEWICA:0,TD:0,KONF:0};for(let i of c){let n=V(t,i),a=H(n,i);for(let[t,i]of Object.entries(a))e[t]+=i}// console.log('TD glosy przeliczone', Math.round(glosyMnoznikTD), Math.round(glosyTD))
    return e}(e));const sJ={};Object.entries(l).forEach(([t,e])=>{Object.entries(e).forEach(([t,e])=>sJ[t]?sJ[t]+=e:sJ[t]=e)});const sQ=Object.values(sJ).reduce((t,e)=>t+=e,0)/Object.entries(l).length;Object.entries(sJ).forEach(([t,e])=>{sJ[t]=sJ[t]/Object.entries(l).length*(100/sQ)});const s0={},s1={};c.forEach(t=>{let e=V(sJ,t);s0[t.miasto]=H(e,t),s1[t.miasto]=N(H(e,t))}),window.onload=function(){let t=1;for(let e of(c.forEach(e=>{let i=document.createElement("div");i.innerHTML=`<h2>${e.miasto} (${t})</h2><p>${sG[e.miasto].msg}</p>kliknij w mapkę aby zobaczyć szczeg\xf3ły`,i.id=`${e.miasto}Info`,i.className="info";let n=document.createElement("canvas");n.setAttribute("id","InfoMiasto"+e.miasto),i.appendChild(n);let a=document.createElement("canvas");a.setAttribute("id","InfoMiasto2"+e.miasto),i.appendChild(a),document.getElementById("Info").appendChild(i);let s=document.getElementById(e.miasto+"Icon");s.addEventListener("mouseover",()=>{i.style.display="block"}),s.addEventListener("mouseout",()=>{i.style.display="none"}),t++;let r=sG[e.miasto].komitet;if(r.length){if(r.length>1){let t=document.getElementById(e.miasto+"Icon"),i=t.getElementsByTagName("path")[0];i.setAttribute("fill",`url(#stripes${r[0].toLocaleLowerCase()}${r[1].toLocaleLowerCase()})`)}else console.log(e.miasto),document.getElementById(e.miasto+"Icon").style.fill=o[sG[e.miasto].komitet[0]]}}),sY(l,"sondaze",{laczOpozycje:!1}),sY(sZ,"mandatyKraj",{poziomo:!0,laczOpozycje:!1,calySejm:!0}),setTimeout(function(){sY(s0,"mandatyWOkregach",{poziomo:!0,laczOpozycje:!1}),sY(s1,"mandatyWOkregachDemo",{poziomo:!0,laczOpozycje:!0})},200),c)){let t=0;setTimeout(function(){!function(t,e){// console.log(wynik, okreg);
let{rozklad:i,histogram:n,wynikWOkregu:a}=$(sJ,e,{laczOpozycje:!0}),s={};i.slice(0,3).forEach(({key:t,value:e})=>{s[(e/100).toString()+"%"]=JSON.parse(t)});let{rozklad:r}=$(sJ,e,{laczOpozycje:!1}),l={};r.slice(0,6).forEach(({key:t,value:e})=>{l[(e/100).toString()+"%"]=JSON.parse(t)});let h=document.createElement("h2");h.innerHTML=e.miasto,h.setAttribute("id",e.miasto),document.getElementById("analizy").appendChild(h);let c=document.createElement("div");if(c.setAttribute("style","width: 20%;  display: flex;"),document.getElementById("analizy").appendChild(c),Object.entries(sJ).forEach(([t,i])=>{let s=e.miasto+"Histogram"+t,r=document.createElement("canvas");r.setAttribute("id",s),c.appendChild(r),sX(n[t],s,o[t],t,(Math.round(5*a[t])/5).toString()),t===sG[e.miasto].komitet[0]&&sX(n[t],"InfoMiasto"+e.miasto,o[t],t,(Math.round(5*a[t])/5).toString()),sG[e.miasto].komitet.length>1&&t===sG[e.miasto].komitet[1]&&sX(n[t],"InfoMiasto2"+e.miasto,o[t],t,(Math.round(5*a[t])/5).toString())}),sG[e.miasto].msg){let t=document.createElement("p");t.innerHTML=sG[e.miasto].msg,document.getElementById("analizy").appendChild(t)}// const jedenHistogramKontener = document.createElement("div");
// const jedenWykresHistogram = document.createElement("canvas");
// jedenWykresHistogram.setAttribute("id", okreg.miasto + "HistogramJeden");
// jedenWykresHistogram.setAttribute("style", "width: 100%;");
// jedenHistogramKontener.appendChild(jedenWykresHistogram);
// document.getElementsByTagName("body")[0].appendChild(jedenHistogramKontener);
// rysujJedenHistogram(histogram, okreg.miasto + "HistogramJeden");
// Object.entries(histogram).forEach(([partia, poparcie]) => {
//     partia <- TODO - transform data to have it in Sondaze format
// });
let d=document.createElement("div"),u=document.createElement("canvas"),f=document.createElement("canvas"),g=document.createElement("h3");d.setAttribute("style","width: 35%; margin-left: 10%; margin-bottom: 100px; display: flex;"),g.innerHTML="Prawdopodobieństwo podziału mandat\xf3w",document.getElementById("analizy").appendChild(g),u.setAttribute("id","Miasto"+e.miasto),f.setAttribute("id","Miasto"+e.miasto+"Demo"),d.appendChild(u),d.appendChild(f),document.getElementById("analizy").appendChild(d),sY(s,"Miasto"+e.miasto,{poziomo:!0,laczOpozycje:!0}),sY(l,"Miasto"+e.miasto+"Demo",{poziomo:!0,laczOpozycje:!1})}(0,e)},500*++t)}};//# sourceMappingURL=index.9bcc7a60.js.map

//# sourceMappingURL=index.9bcc7a60.js.map
